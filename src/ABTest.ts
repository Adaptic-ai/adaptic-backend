
  
import { ABTest as ABTestType } from './generated/typegraphql-prisma/models/ABTest';
import { client as importedClient, ApolloClientType, NormalizedCacheObject, getApolloModules } from './client';
import { removeUndefinedProps } from './utils';
  
  /**
   * CRUD operations for the ABTest model.
   */

  const selectionSet = `
    
  id
  name
  description
  status
  modelVersionAId
  modelVersionBId
  controlVersion {
    id
    modelName
    version
    status
    parentVersionId
    parentVersion {
id
    }
    childVersions {
id
    }
    artifacts {
      id
      modelVersionId
      modelArtifactId
      modelArtifact {
        id
        modelName
        version
        artifactType
        storageUrl
        storageProvider
        fileSize
        checksum
        compressionType
        metadataFramework
        metadataPythonVersion
        metadataDependencies
        metadataTrainingDate
        metadataDatasetSize
        metadataHyperparameters
        createdAt
        updatedAt
      }
      createdAt
    }
    performanceAccuracy
    performancePrecision
    performanceRecall
    performanceF1Score
    performanceAuc
    performanceSharpeRatio
    performanceMaxDrawdown
    performanceWinRate
    performanceAvgReturn
    performanceCalibrationScore
    performanceStabilityScore
    validationCrossValidationScore
    validationOutOfSamplePerformance
    validationBacktestResults
    validationStatTestResults
    deploymentEnvironment
    deploymentTrafficAllocation
    deploymentRolloutStrategy
    deploymentHealthCheckConfig
    trainingStartTime
    trainingEndTime
    trainingDuration
    trainingDatasetSize
    trainingFeaturesUsed
    trainingHyperparameters
    trainingResourcePeakMemoryMB
    trainingResourceTotalCpuHours
    trainingResourceGpuHours
    createdAt
    updatedAt
    deployedAt
    deprecatedAt
    abTestsAsTreatment {
id
    }
    featureImportanceAnalyses {
      id
      modelVersionId
      analysisType
      featureImportances
      globalImportance
      localImportance
      analysisMetadataSampleSize
      analysisMetadataBaselineAccuracy
      analysisMetadataAnalysisDate
      analysisMetadataComputationTime
      analysisMetadataAnalysisParameters
      insightsTopFeatures
      insightsRedundantFeatures
      insightsUnexpectedImportances
      insightsStabilityScore
      insightsRecommendations
      createdAt
      updatedAt
    }
  }
  treatmentVersion {
    id
    modelName
    version
    status
    parentVersionId
    parentVersion {
id
    }
    childVersions {
id
    }
    artifacts {
      id
      modelVersionId
      modelArtifactId
      modelArtifact {
        id
        modelName
        version
        artifactType
        storageUrl
        storageProvider
        fileSize
        checksum
        compressionType
        metadataFramework
        metadataPythonVersion
        metadataDependencies
        metadataTrainingDate
        metadataDatasetSize
        metadataHyperparameters
        createdAt
        updatedAt
      }
      createdAt
    }
    performanceAccuracy
    performancePrecision
    performanceRecall
    performanceF1Score
    performanceAuc
    performanceSharpeRatio
    performanceMaxDrawdown
    performanceWinRate
    performanceAvgReturn
    performanceCalibrationScore
    performanceStabilityScore
    validationCrossValidationScore
    validationOutOfSamplePerformance
    validationBacktestResults
    validationStatTestResults
    deploymentEnvironment
    deploymentTrafficAllocation
    deploymentRolloutStrategy
    deploymentHealthCheckConfig
    trainingStartTime
    trainingEndTime
    trainingDuration
    trainingDatasetSize
    trainingFeaturesUsed
    trainingHyperparameters
    trainingResourcePeakMemoryMB
    trainingResourceTotalCpuHours
    trainingResourceGpuHours
    createdAt
    updatedAt
    deployedAt
    deprecatedAt
    abTestsAsControl {
id
    }
    featureImportanceAnalyses {
      id
      modelVersionId
      analysisType
      featureImportances
      globalImportance
      localImportance
      analysisMetadataSampleSize
      analysisMetadataBaselineAccuracy
      analysisMetadataAnalysisDate
      analysisMetadataComputationTime
      analysisMetadataAnalysisParameters
      insightsTopFeatures
      insightsRedundantFeatures
      insightsUnexpectedImportances
      insightsStabilityScore
      insightsRecommendations
      createdAt
      updatedAt
    }
  }
  trafficSplitControlPercent
  trafficSplitTreatmentPercent
  targetMetrics
  successCriteriaPrimaryMetric
  successCriteriaMinimumDetectableEffect
  successCriteriaSignificanceLevel
  successCriteriaPowerLevel
  startDate
  endDate
  plannedDuration
  resultsControlMetrics
  resultsTreatmentMetrics
  resultsStatisticalSignificance
  resultsPValues
  resultsConfidenceIntervals
  resultsRecommendation
  metadataEnvironment
  metadataEligibilityCriteria
  metadataExclusionCriteria
  metadataSegmentationRules
  createdAt
  updatedAt
  completedAt

  `;

  export const ABTest = {

    /**
     * Create a new ABTest record.
     * @param props - Properties for the new record.
     * @param client - Apollo Client instance.
     * @returns The created ABTest or null.
     */

    /**
     * Create a new ABTest record.
     * Enhanced with connection resilience against Prisma connection errors.
     * @param props - Properties for the new record.
     * @param globalClient - Apollo Client instance.
     * @returns The created ABTest or null.
     */
    async create(props: ABTestType, globalClient?: ApolloClientType<NormalizedCacheObject>): Promise<ABTestType> {
      // Maximum number of retries for database connection issues
      const MAX_RETRIES = 3;
      let retryCount = 0;
      let lastError: any = null;

      // Retry loop to handle potential database connection issues
      while (retryCount < MAX_RETRIES) {
        try {
          const [modules, client] = await Promise.all([
            getApolloModules(),
            globalClient
              ? Promise.resolve(globalClient)
              : importedClient
          ]);

          const { gql, ApolloError } = modules;

          const CREATE_ONE_ABTEST = gql`
              mutation createOneABTest($data: ABTestCreateInput!) {
                createOneABTest(data: $data) {
                  ${selectionSet}
                }
              }
           `;

          const variables = {
            data: {
                name: props.name !== undefined ? props.name : undefined,
  description: props.description !== undefined ? props.description : undefined,
  status: props.status !== undefined ? props.status : undefined,
  trafficSplitControlPercent: props.trafficSplitControlPercent !== undefined ? props.trafficSplitControlPercent : undefined,
  trafficSplitTreatmentPercent: props.trafficSplitTreatmentPercent !== undefined ? props.trafficSplitTreatmentPercent : undefined,
  targetMetrics: props.targetMetrics !== undefined ? props.targetMetrics : undefined,
  successCriteriaPrimaryMetric: props.successCriteriaPrimaryMetric !== undefined ? props.successCriteriaPrimaryMetric : undefined,
  successCriteriaMinimumDetectableEffect: props.successCriteriaMinimumDetectableEffect !== undefined ? props.successCriteriaMinimumDetectableEffect : undefined,
  successCriteriaSignificanceLevel: props.successCriteriaSignificanceLevel !== undefined ? props.successCriteriaSignificanceLevel : undefined,
  successCriteriaPowerLevel: props.successCriteriaPowerLevel !== undefined ? props.successCriteriaPowerLevel : undefined,
  startDate: props.startDate !== undefined ? props.startDate : undefined,
  endDate: props.endDate !== undefined ? props.endDate : undefined,
  resultsControlMetrics: props.resultsControlMetrics !== undefined ? props.resultsControlMetrics : undefined,
  resultsTreatmentMetrics: props.resultsTreatmentMetrics !== undefined ? props.resultsTreatmentMetrics : undefined,
  resultsStatisticalSignificance: props.resultsStatisticalSignificance !== undefined ? props.resultsStatisticalSignificance : undefined,
  resultsPValues: props.resultsPValues !== undefined ? props.resultsPValues : undefined,
  resultsConfidenceIntervals: props.resultsConfidenceIntervals !== undefined ? props.resultsConfidenceIntervals : undefined,
  resultsRecommendation: props.resultsRecommendation !== undefined ? props.resultsRecommendation : undefined,
  metadataEnvironment: props.metadataEnvironment !== undefined ? props.metadataEnvironment : undefined,
  metadataEligibilityCriteria: props.metadataEligibilityCriteria !== undefined ? props.metadataEligibilityCriteria : undefined,
  metadataExclusionCriteria: props.metadataExclusionCriteria !== undefined ? props.metadataExclusionCriteria : undefined,
  metadataSegmentationRules: props.metadataSegmentationRules !== undefined ? props.metadataSegmentationRules : undefined,
  completedAt: props.completedAt !== undefined ? props.completedAt : undefined,
  controlVersion: props.controlVersion ? 
    typeof props.controlVersion === 'object' && Object.keys(props.controlVersion).length === 1 && Object.keys(props.controlVersion)[0] === 'id'
    ? { connect: {
        id: props.controlVersion.id
        }
      }
    : { connectOrCreate: {
      where: {
        id: props.controlVersion.id !== undefined ? props.controlVersion.id : undefined,
      },
      create: {
        modelName: props.controlVersion.modelName !== undefined ? props.controlVersion.modelName : undefined,
        version: props.controlVersion.version !== undefined ? props.controlVersion.version : undefined,
        status: props.controlVersion.status !== undefined ? props.controlVersion.status : undefined,
        performanceAccuracy: props.controlVersion.performanceAccuracy !== undefined ? props.controlVersion.performanceAccuracy : undefined,
        performancePrecision: props.controlVersion.performancePrecision !== undefined ? props.controlVersion.performancePrecision : undefined,
        performanceRecall: props.controlVersion.performanceRecall !== undefined ? props.controlVersion.performanceRecall : undefined,
        performanceF1Score: props.controlVersion.performanceF1Score !== undefined ? props.controlVersion.performanceF1Score : undefined,
        performanceAuc: props.controlVersion.performanceAuc !== undefined ? props.controlVersion.performanceAuc : undefined,
        performanceSharpeRatio: props.controlVersion.performanceSharpeRatio !== undefined ? props.controlVersion.performanceSharpeRatio : undefined,
        performanceMaxDrawdown: props.controlVersion.performanceMaxDrawdown !== undefined ? props.controlVersion.performanceMaxDrawdown : undefined,
        performanceWinRate: props.controlVersion.performanceWinRate !== undefined ? props.controlVersion.performanceWinRate : undefined,
        performanceAvgReturn: props.controlVersion.performanceAvgReturn !== undefined ? props.controlVersion.performanceAvgReturn : undefined,
        performanceCalibrationScore: props.controlVersion.performanceCalibrationScore !== undefined ? props.controlVersion.performanceCalibrationScore : undefined,
        performanceStabilityScore: props.controlVersion.performanceStabilityScore !== undefined ? props.controlVersion.performanceStabilityScore : undefined,
        validationCrossValidationScore: props.controlVersion.validationCrossValidationScore !== undefined ? props.controlVersion.validationCrossValidationScore : undefined,
        validationOutOfSamplePerformance: props.controlVersion.validationOutOfSamplePerformance !== undefined ? props.controlVersion.validationOutOfSamplePerformance : undefined,
        validationBacktestResults: props.controlVersion.validationBacktestResults !== undefined ? props.controlVersion.validationBacktestResults : undefined,
        validationStatTestResults: props.controlVersion.validationStatTestResults !== undefined ? props.controlVersion.validationStatTestResults : undefined,
        deploymentEnvironment: props.controlVersion.deploymentEnvironment !== undefined ? props.controlVersion.deploymentEnvironment : undefined,
        deploymentTrafficAllocation: props.controlVersion.deploymentTrafficAllocation !== undefined ? props.controlVersion.deploymentTrafficAllocation : undefined,
        deploymentRolloutStrategy: props.controlVersion.deploymentRolloutStrategy !== undefined ? props.controlVersion.deploymentRolloutStrategy : undefined,
        deploymentHealthCheckConfig: props.controlVersion.deploymentHealthCheckConfig !== undefined ? props.controlVersion.deploymentHealthCheckConfig : undefined,
        trainingStartTime: props.controlVersion.trainingStartTime !== undefined ? props.controlVersion.trainingStartTime : undefined,
        trainingEndTime: props.controlVersion.trainingEndTime !== undefined ? props.controlVersion.trainingEndTime : undefined,
        trainingDuration: props.controlVersion.trainingDuration !== undefined ? props.controlVersion.trainingDuration : undefined,
        trainingDatasetSize: props.controlVersion.trainingDatasetSize !== undefined ? props.controlVersion.trainingDatasetSize : undefined,
        trainingFeaturesUsed: props.controlVersion.trainingFeaturesUsed !== undefined ? props.controlVersion.trainingFeaturesUsed : undefined,
        trainingHyperparameters: props.controlVersion.trainingHyperparameters !== undefined ? props.controlVersion.trainingHyperparameters : undefined,
        trainingResourcePeakMemoryMB: props.controlVersion.trainingResourcePeakMemoryMB !== undefined ? props.controlVersion.trainingResourcePeakMemoryMB : undefined,
        trainingResourceTotalCpuHours: props.controlVersion.trainingResourceTotalCpuHours !== undefined ? props.controlVersion.trainingResourceTotalCpuHours : undefined,
        trainingResourceGpuHours: props.controlVersion.trainingResourceGpuHours !== undefined ? props.controlVersion.trainingResourceGpuHours : undefined,
        deployedAt: props.controlVersion.deployedAt !== undefined ? props.controlVersion.deployedAt : undefined,
        deprecatedAt: props.controlVersion.deprecatedAt !== undefined ? props.controlVersion.deprecatedAt : undefined,
    parentVersion: props.controlVersion.parentVersion ? 
      typeof props.controlVersion.parentVersion === 'object' && Object.keys(props.controlVersion.parentVersion).length === 1 && Object.keys(props.controlVersion.parentVersion)[0] === 'id'
    ? { connect: {
          id: props.controlVersion.parentVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: props.controlVersion.parentVersion.id !== undefined ? props.controlVersion.parentVersion.id : undefined,
        },
        create: {
          modelName: props.controlVersion.parentVersion.modelName !== undefined ? props.controlVersion.parentVersion.modelName : undefined,
          version: props.controlVersion.parentVersion.version !== undefined ? props.controlVersion.parentVersion.version : undefined,
          status: props.controlVersion.parentVersion.status !== undefined ? props.controlVersion.parentVersion.status : undefined,
          performanceAccuracy: props.controlVersion.parentVersion.performanceAccuracy !== undefined ? props.controlVersion.parentVersion.performanceAccuracy : undefined,
          performancePrecision: props.controlVersion.parentVersion.performancePrecision !== undefined ? props.controlVersion.parentVersion.performancePrecision : undefined,
          performanceRecall: props.controlVersion.parentVersion.performanceRecall !== undefined ? props.controlVersion.parentVersion.performanceRecall : undefined,
          performanceF1Score: props.controlVersion.parentVersion.performanceF1Score !== undefined ? props.controlVersion.parentVersion.performanceF1Score : undefined,
          performanceAuc: props.controlVersion.parentVersion.performanceAuc !== undefined ? props.controlVersion.parentVersion.performanceAuc : undefined,
          performanceSharpeRatio: props.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? props.controlVersion.parentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: props.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.controlVersion.parentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: props.controlVersion.parentVersion.performanceWinRate !== undefined ? props.controlVersion.parentVersion.performanceWinRate : undefined,
          performanceAvgReturn: props.controlVersion.parentVersion.performanceAvgReturn !== undefined ? props.controlVersion.parentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: props.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? props.controlVersion.parentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: props.controlVersion.parentVersion.performanceStabilityScore !== undefined ? props.controlVersion.parentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: props.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? props.controlVersion.parentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: props.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.controlVersion.parentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: props.controlVersion.parentVersion.validationBacktestResults !== undefined ? props.controlVersion.parentVersion.validationBacktestResults : undefined,
          validationStatTestResults: props.controlVersion.parentVersion.validationStatTestResults !== undefined ? props.controlVersion.parentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: props.controlVersion.parentVersion.deploymentEnvironment !== undefined ? props.controlVersion.parentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: props.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.controlVersion.parentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: props.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.controlVersion.parentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: props.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.controlVersion.parentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: props.controlVersion.parentVersion.trainingStartTime !== undefined ? props.controlVersion.parentVersion.trainingStartTime : undefined,
          trainingEndTime: props.controlVersion.parentVersion.trainingEndTime !== undefined ? props.controlVersion.parentVersion.trainingEndTime : undefined,
          trainingDuration: props.controlVersion.parentVersion.trainingDuration !== undefined ? props.controlVersion.parentVersion.trainingDuration : undefined,
          trainingDatasetSize: props.controlVersion.parentVersion.trainingDatasetSize !== undefined ? props.controlVersion.parentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: props.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.controlVersion.parentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: props.controlVersion.parentVersion.trainingHyperparameters !== undefined ? props.controlVersion.parentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: props.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.controlVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: props.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.controlVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: props.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.controlVersion.parentVersion.trainingResourceGpuHours : undefined,
          deployedAt: props.controlVersion.parentVersion.deployedAt !== undefined ? props.controlVersion.parentVersion.deployedAt : undefined,
          deprecatedAt: props.controlVersion.parentVersion.deprecatedAt !== undefined ? props.controlVersion.parentVersion.deprecatedAt : undefined,
      parentVersion: props.controlVersion.parentVersion.parentVersion ? 
        typeof props.controlVersion.parentVersion.parentVersion === 'object' && Object.keys(props.controlVersion.parentVersion.parentVersion).length === 1 && Object.keys(props.controlVersion.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: props.controlVersion.parentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: props.controlVersion.parentVersion.parentVersion.id !== undefined ? props.controlVersion.parentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: props.controlVersion.parentVersion.parentVersion.modelName !== undefined ? props.controlVersion.parentVersion.parentVersion.modelName : undefined,
            version: props.controlVersion.parentVersion.parentVersion.version !== undefined ? props.controlVersion.parentVersion.parentVersion.version : undefined,
            status: props.controlVersion.parentVersion.parentVersion.status !== undefined ? props.controlVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: props.controlVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: props.controlVersion.parentVersion.parentVersion.performancePrecision !== undefined ? props.controlVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: props.controlVersion.parentVersion.parentVersion.performanceRecall !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: props.controlVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: props.controlVersion.parentVersion.parentVersion.performanceAuc !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: props.controlVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: props.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: props.controlVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: props.controlVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: props.controlVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: props.controlVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: props.controlVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.controlVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: props.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: props.controlVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.controlVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: props.controlVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.controlVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: props.controlVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: props.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: props.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: props.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: props.controlVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: props.controlVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: props.controlVersion.parentVersion.parentVersion.trainingDuration !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: props.controlVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: props.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: props.controlVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: props.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: props.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: props.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: props.controlVersion.parentVersion.parentVersion.deployedAt !== undefined ? props.controlVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: props.controlVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? props.controlVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: props.controlVersion.parentVersion.artifacts ? 
        Array.isArray(props.controlVersion.parentVersion.artifacts) && props.controlVersion.parentVersion.artifacts.length > 0 &&  props.controlVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.controlVersion.parentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.controlVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: props.controlVersion.parentVersion.abTestsAsControl ? 
        Array.isArray(props.controlVersion.parentVersion.abTestsAsControl) && props.controlVersion.parentVersion.abTestsAsControl.length > 0 &&  props.controlVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.controlVersion.parentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.controlVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: props.controlVersion.parentVersion.abTestsAsTreatment ? 
        Array.isArray(props.controlVersion.parentVersion.abTestsAsTreatment) && props.controlVersion.parentVersion.abTestsAsTreatment.length > 0 &&  props.controlVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.controlVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.controlVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: props.controlVersion.parentVersion.featureImportanceAnalyses ? 
        Array.isArray(props.controlVersion.parentVersion.featureImportanceAnalyses) && props.controlVersion.parentVersion.featureImportanceAnalyses.length > 0 &&  props.controlVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.controlVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.controlVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
    childVersions: props.controlVersion.childVersions ? 
      Array.isArray(props.controlVersion.childVersions) && props.controlVersion.childVersions.length > 0 &&  props.controlVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.controlVersion.childVersions.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.controlVersion.childVersions.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
        },
        create: {
          modelName: item.modelName !== undefined ? item.modelName : undefined,
          version: item.version !== undefined ? item.version : undefined,
          status: item.status !== undefined ? item.status : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
          performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
          performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
          performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
          trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
          deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
      childVersions: item.childVersions ? 
        Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
        Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
        Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
        Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
        Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }))
    } : undefined,
    artifacts: props.controlVersion.artifacts ? 
      Array.isArray(props.controlVersion.artifacts) && props.controlVersion.artifacts.length > 0 &&  props.controlVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.controlVersion.artifacts.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.controlVersion.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId 
             } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsTreatment: props.controlVersion.abTestsAsTreatment ? 
      Array.isArray(props.controlVersion.abTestsAsTreatment) && props.controlVersion.abTestsAsTreatment.length > 0 &&  props.controlVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.controlVersion.abTestsAsTreatment.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.controlVersion.abTestsAsTreatment.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      controlVersion: item.controlVersion ? 
        typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: props.controlVersion.featureImportanceAnalyses ? 
      Array.isArray(props.controlVersion.featureImportanceAnalyses) && props.controlVersion.featureImportanceAnalyses.length > 0 &&  props.controlVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.controlVersion.featureImportanceAnalyses.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.controlVersion.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
    }
  } : undefined,
  treatmentVersion: props.treatmentVersion ? 
    typeof props.treatmentVersion === 'object' && Object.keys(props.treatmentVersion).length === 1 && Object.keys(props.treatmentVersion)[0] === 'id'
    ? { connect: {
        id: props.treatmentVersion.id
        }
      }
    : { connectOrCreate: {
      where: {
        id: props.treatmentVersion.id !== undefined ? props.treatmentVersion.id : undefined,
      },
      create: {
        modelName: props.treatmentVersion.modelName !== undefined ? props.treatmentVersion.modelName : undefined,
        version: props.treatmentVersion.version !== undefined ? props.treatmentVersion.version : undefined,
        status: props.treatmentVersion.status !== undefined ? props.treatmentVersion.status : undefined,
        performanceAccuracy: props.treatmentVersion.performanceAccuracy !== undefined ? props.treatmentVersion.performanceAccuracy : undefined,
        performancePrecision: props.treatmentVersion.performancePrecision !== undefined ? props.treatmentVersion.performancePrecision : undefined,
        performanceRecall: props.treatmentVersion.performanceRecall !== undefined ? props.treatmentVersion.performanceRecall : undefined,
        performanceF1Score: props.treatmentVersion.performanceF1Score !== undefined ? props.treatmentVersion.performanceF1Score : undefined,
        performanceAuc: props.treatmentVersion.performanceAuc !== undefined ? props.treatmentVersion.performanceAuc : undefined,
        performanceSharpeRatio: props.treatmentVersion.performanceSharpeRatio !== undefined ? props.treatmentVersion.performanceSharpeRatio : undefined,
        performanceMaxDrawdown: props.treatmentVersion.performanceMaxDrawdown !== undefined ? props.treatmentVersion.performanceMaxDrawdown : undefined,
        performanceWinRate: props.treatmentVersion.performanceWinRate !== undefined ? props.treatmentVersion.performanceWinRate : undefined,
        performanceAvgReturn: props.treatmentVersion.performanceAvgReturn !== undefined ? props.treatmentVersion.performanceAvgReturn : undefined,
        performanceCalibrationScore: props.treatmentVersion.performanceCalibrationScore !== undefined ? props.treatmentVersion.performanceCalibrationScore : undefined,
        performanceStabilityScore: props.treatmentVersion.performanceStabilityScore !== undefined ? props.treatmentVersion.performanceStabilityScore : undefined,
        validationCrossValidationScore: props.treatmentVersion.validationCrossValidationScore !== undefined ? props.treatmentVersion.validationCrossValidationScore : undefined,
        validationOutOfSamplePerformance: props.treatmentVersion.validationOutOfSamplePerformance !== undefined ? props.treatmentVersion.validationOutOfSamplePerformance : undefined,
        validationBacktestResults: props.treatmentVersion.validationBacktestResults !== undefined ? props.treatmentVersion.validationBacktestResults : undefined,
        validationStatTestResults: props.treatmentVersion.validationStatTestResults !== undefined ? props.treatmentVersion.validationStatTestResults : undefined,
        deploymentEnvironment: props.treatmentVersion.deploymentEnvironment !== undefined ? props.treatmentVersion.deploymentEnvironment : undefined,
        deploymentTrafficAllocation: props.treatmentVersion.deploymentTrafficAllocation !== undefined ? props.treatmentVersion.deploymentTrafficAllocation : undefined,
        deploymentRolloutStrategy: props.treatmentVersion.deploymentRolloutStrategy !== undefined ? props.treatmentVersion.deploymentRolloutStrategy : undefined,
        deploymentHealthCheckConfig: props.treatmentVersion.deploymentHealthCheckConfig !== undefined ? props.treatmentVersion.deploymentHealthCheckConfig : undefined,
        trainingStartTime: props.treatmentVersion.trainingStartTime !== undefined ? props.treatmentVersion.trainingStartTime : undefined,
        trainingEndTime: props.treatmentVersion.trainingEndTime !== undefined ? props.treatmentVersion.trainingEndTime : undefined,
        trainingDuration: props.treatmentVersion.trainingDuration !== undefined ? props.treatmentVersion.trainingDuration : undefined,
        trainingDatasetSize: props.treatmentVersion.trainingDatasetSize !== undefined ? props.treatmentVersion.trainingDatasetSize : undefined,
        trainingFeaturesUsed: props.treatmentVersion.trainingFeaturesUsed !== undefined ? props.treatmentVersion.trainingFeaturesUsed : undefined,
        trainingHyperparameters: props.treatmentVersion.trainingHyperparameters !== undefined ? props.treatmentVersion.trainingHyperparameters : undefined,
        trainingResourcePeakMemoryMB: props.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? props.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
        trainingResourceTotalCpuHours: props.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? props.treatmentVersion.trainingResourceTotalCpuHours : undefined,
        trainingResourceGpuHours: props.treatmentVersion.trainingResourceGpuHours !== undefined ? props.treatmentVersion.trainingResourceGpuHours : undefined,
        deployedAt: props.treatmentVersion.deployedAt !== undefined ? props.treatmentVersion.deployedAt : undefined,
        deprecatedAt: props.treatmentVersion.deprecatedAt !== undefined ? props.treatmentVersion.deprecatedAt : undefined,
    parentVersion: props.treatmentVersion.parentVersion ? 
      typeof props.treatmentVersion.parentVersion === 'object' && Object.keys(props.treatmentVersion.parentVersion).length === 1 && Object.keys(props.treatmentVersion.parentVersion)[0] === 'id'
    ? { connect: {
          id: props.treatmentVersion.parentVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: props.treatmentVersion.parentVersion.id !== undefined ? props.treatmentVersion.parentVersion.id : undefined,
        },
        create: {
          modelName: props.treatmentVersion.parentVersion.modelName !== undefined ? props.treatmentVersion.parentVersion.modelName : undefined,
          version: props.treatmentVersion.parentVersion.version !== undefined ? props.treatmentVersion.parentVersion.version : undefined,
          status: props.treatmentVersion.parentVersion.status !== undefined ? props.treatmentVersion.parentVersion.status : undefined,
          performanceAccuracy: props.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? props.treatmentVersion.parentVersion.performanceAccuracy : undefined,
          performancePrecision: props.treatmentVersion.parentVersion.performancePrecision !== undefined ? props.treatmentVersion.parentVersion.performancePrecision : undefined,
          performanceRecall: props.treatmentVersion.parentVersion.performanceRecall !== undefined ? props.treatmentVersion.parentVersion.performanceRecall : undefined,
          performanceF1Score: props.treatmentVersion.parentVersion.performanceF1Score !== undefined ? props.treatmentVersion.parentVersion.performanceF1Score : undefined,
          performanceAuc: props.treatmentVersion.parentVersion.performanceAuc !== undefined ? props.treatmentVersion.parentVersion.performanceAuc : undefined,
          performanceSharpeRatio: props.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.treatmentVersion.parentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: props.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.treatmentVersion.parentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: props.treatmentVersion.parentVersion.performanceWinRate !== undefined ? props.treatmentVersion.parentVersion.performanceWinRate : undefined,
          performanceAvgReturn: props.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? props.treatmentVersion.parentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: props.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.treatmentVersion.parentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: props.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? props.treatmentVersion.parentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: props.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.treatmentVersion.parentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: props.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.treatmentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: props.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? props.treatmentVersion.parentVersion.validationBacktestResults : undefined,
          validationStatTestResults: props.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? props.treatmentVersion.parentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: props.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? props.treatmentVersion.parentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: props.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.treatmentVersion.parentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: props.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.treatmentVersion.parentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: props.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.treatmentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: props.treatmentVersion.parentVersion.trainingStartTime !== undefined ? props.treatmentVersion.parentVersion.trainingStartTime : undefined,
          trainingEndTime: props.treatmentVersion.parentVersion.trainingEndTime !== undefined ? props.treatmentVersion.parentVersion.trainingEndTime : undefined,
          trainingDuration: props.treatmentVersion.parentVersion.trainingDuration !== undefined ? props.treatmentVersion.parentVersion.trainingDuration : undefined,
          trainingDatasetSize: props.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? props.treatmentVersion.parentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: props.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.treatmentVersion.parentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: props.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? props.treatmentVersion.parentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: props.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: props.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.treatmentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: props.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.treatmentVersion.parentVersion.trainingResourceGpuHours : undefined,
          deployedAt: props.treatmentVersion.parentVersion.deployedAt !== undefined ? props.treatmentVersion.parentVersion.deployedAt : undefined,
          deprecatedAt: props.treatmentVersion.parentVersion.deprecatedAt !== undefined ? props.treatmentVersion.parentVersion.deprecatedAt : undefined,
      parentVersion: props.treatmentVersion.parentVersion.parentVersion ? 
        typeof props.treatmentVersion.parentVersion.parentVersion === 'object' && Object.keys(props.treatmentVersion.parentVersion.parentVersion).length === 1 && Object.keys(props.treatmentVersion.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: props.treatmentVersion.parentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: props.treatmentVersion.parentVersion.parentVersion.id !== undefined ? props.treatmentVersion.parentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: props.treatmentVersion.parentVersion.parentVersion.modelName !== undefined ? props.treatmentVersion.parentVersion.parentVersion.modelName : undefined,
            version: props.treatmentVersion.parentVersion.parentVersion.version !== undefined ? props.treatmentVersion.parentVersion.parentVersion.version : undefined,
            status: props.treatmentVersion.parentVersion.parentVersion.status !== undefined ? props.treatmentVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: props.treatmentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: props.treatmentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: props.treatmentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: props.treatmentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: props.treatmentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: props.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: props.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: props.treatmentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: props.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: props.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: props.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: props.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: props.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: props.treatmentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: props.treatmentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: props.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: props.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: props.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: props.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: props.treatmentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: props.treatmentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: props.treatmentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: props.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: props.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: props.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: props.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: props.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: props.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: props.treatmentVersion.parentVersion.parentVersion.deployedAt !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: props.treatmentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: props.treatmentVersion.parentVersion.artifacts ? 
        Array.isArray(props.treatmentVersion.parentVersion.artifacts) && props.treatmentVersion.parentVersion.artifacts.length > 0 &&  props.treatmentVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.treatmentVersion.parentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.treatmentVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: props.treatmentVersion.parentVersion.abTestsAsControl ? 
        Array.isArray(props.treatmentVersion.parentVersion.abTestsAsControl) && props.treatmentVersion.parentVersion.abTestsAsControl.length > 0 &&  props.treatmentVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.treatmentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.treatmentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: props.treatmentVersion.parentVersion.abTestsAsTreatment ? 
        Array.isArray(props.treatmentVersion.parentVersion.abTestsAsTreatment) && props.treatmentVersion.parentVersion.abTestsAsTreatment.length > 0 &&  props.treatmentVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.treatmentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.treatmentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: props.treatmentVersion.parentVersion.featureImportanceAnalyses ? 
        Array.isArray(props.treatmentVersion.parentVersion.featureImportanceAnalyses) && props.treatmentVersion.parentVersion.featureImportanceAnalyses.length > 0 &&  props.treatmentVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.treatmentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.treatmentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
    childVersions: props.treatmentVersion.childVersions ? 
      Array.isArray(props.treatmentVersion.childVersions) && props.treatmentVersion.childVersions.length > 0 &&  props.treatmentVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.treatmentVersion.childVersions.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.treatmentVersion.childVersions.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
        },
        create: {
          modelName: item.modelName !== undefined ? item.modelName : undefined,
          version: item.version !== undefined ? item.version : undefined,
          status: item.status !== undefined ? item.status : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
          performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
          performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
          performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
          trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
          deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
      childVersions: item.childVersions ? 
        Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
        Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
        Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
        Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
        Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }))
    } : undefined,
    artifacts: props.treatmentVersion.artifacts ? 
      Array.isArray(props.treatmentVersion.artifacts) && props.treatmentVersion.artifacts.length > 0 &&  props.treatmentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.treatmentVersion.artifacts.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.treatmentVersion.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId 
             } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsControl: props.treatmentVersion.abTestsAsControl ? 
      Array.isArray(props.treatmentVersion.abTestsAsControl) && props.treatmentVersion.abTestsAsControl.length > 0 &&  props.treatmentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.treatmentVersion.abTestsAsControl.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.treatmentVersion.abTestsAsControl.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      treatmentVersion: item.treatmentVersion ? 
        typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: props.treatmentVersion.featureImportanceAnalyses ? 
      Array.isArray(props.treatmentVersion.featureImportanceAnalyses) && props.treatmentVersion.featureImportanceAnalyses.length > 0 &&  props.treatmentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
    }
  } : undefined,

            },
          };

          const filteredVariables = removeUndefinedProps(variables);

          const response = await client.mutate({
            mutation: CREATE_ONE_ABTEST,
            variables: filteredVariables,
            // Don't cache mutations, but ensure we're using the freshest context
            fetchPolicy: 'no-cache'
          });

          if (response.errors && response.errors.length > 0) throw new Error(response.errors[0].message);
          if (response && response.data && response.data.createOneABTest) {
            return response.data.createOneABTest;
          } else {
            return null as any;
          }
        } catch (error: any) {
          lastError = error;

          // Check if this is a database connection error that we should retry
          const isConnectionError =
            error.message?.includes('Server has closed the connection') ||
            error.message?.includes('Cannot reach database server') ||
            error.message?.includes('Connection timed out') ||
            error.message?.includes('Accelerate') || // Prisma Accelerate proxy errors
            (error.networkError && error.networkError.message?.includes('Failed to fetch'));

          if (isConnectionError && retryCount < MAX_RETRIES - 1) {
            retryCount++;
            const delay = Math.pow(2, retryCount) * 100; // Exponential backoff: 200ms, 400ms, 800ms
            console.warn("Database connection error, retrying...");
            await new Promise(resolve => setTimeout(resolve, delay));
            continue;
          }

          // Log the error and rethrow
          console.error("Database error occurred:", error);
          throw error;
        }
      }

      // If we exhausted retries, throw the last error
      throw lastError;
    },

  /**
   * Create multiple ABTest records.
   * Enhanced with connection resilience against Prisma connection errors.
   * @param props - Array of ABTest objects for the new records.
   * @param globalClient - Apollo Client instance.
   * @returns The count of created records or null.
   */
  async createMany(props: ABTestType[], globalClient?: ApolloClientType<NormalizedCacheObject>): Promise<{ count: number } | null> {
    // Maximum number of retries for database connection issues
    const MAX_RETRIES = 3;
    let retryCount = 0;
    let lastError: any = null;

    // Retry loop to handle potential database connection issues
    while (retryCount < MAX_RETRIES) {
      try {
        const [modules, client] = await Promise.all([
          getApolloModules(),
          globalClient
            ? Promise.resolve(globalClient)
            : importedClient
        ]);

        const { gql, ApolloError } = modules;

        const CREATE_MANY_ABTEST = gql`
          mutation createManyABTest($data: [ABTestCreateManyInput!]!) {
            createManyABTest(data: $data) {
              count
            }
          }`;

        const variables = {
          data: props.map(prop => ({
      name: prop.name !== undefined ? prop.name : undefined,
  description: prop.description !== undefined ? prop.description : undefined,
  status: prop.status !== undefined ? prop.status : undefined,
  modelVersionAId: prop.modelVersionAId !== undefined ? prop.modelVersionAId : undefined,
  modelVersionBId: prop.modelVersionBId !== undefined ? prop.modelVersionBId : undefined,
  trafficSplitControlPercent: prop.trafficSplitControlPercent !== undefined ? prop.trafficSplitControlPercent : undefined,
  trafficSplitTreatmentPercent: prop.trafficSplitTreatmentPercent !== undefined ? prop.trafficSplitTreatmentPercent : undefined,
  targetMetrics: prop.targetMetrics !== undefined ? prop.targetMetrics : undefined,
  successCriteriaPrimaryMetric: prop.successCriteriaPrimaryMetric !== undefined ? prop.successCriteriaPrimaryMetric : undefined,
  successCriteriaMinimumDetectableEffect: prop.successCriteriaMinimumDetectableEffect !== undefined ? prop.successCriteriaMinimumDetectableEffect : undefined,
  successCriteriaSignificanceLevel: prop.successCriteriaSignificanceLevel !== undefined ? prop.successCriteriaSignificanceLevel : undefined,
  successCriteriaPowerLevel: prop.successCriteriaPowerLevel !== undefined ? prop.successCriteriaPowerLevel : undefined,
  startDate: prop.startDate !== undefined ? prop.startDate : undefined,
  endDate: prop.endDate !== undefined ? prop.endDate : undefined,
  resultsControlMetrics: prop.resultsControlMetrics !== undefined ? prop.resultsControlMetrics : undefined,
  resultsTreatmentMetrics: prop.resultsTreatmentMetrics !== undefined ? prop.resultsTreatmentMetrics : undefined,
  resultsStatisticalSignificance: prop.resultsStatisticalSignificance !== undefined ? prop.resultsStatisticalSignificance : undefined,
  resultsPValues: prop.resultsPValues !== undefined ? prop.resultsPValues : undefined,
  resultsConfidenceIntervals: prop.resultsConfidenceIntervals !== undefined ? prop.resultsConfidenceIntervals : undefined,
  resultsRecommendation: prop.resultsRecommendation !== undefined ? prop.resultsRecommendation : undefined,
  metadataEnvironment: prop.metadataEnvironment !== undefined ? prop.metadataEnvironment : undefined,
  metadataEligibilityCriteria: prop.metadataEligibilityCriteria !== undefined ? prop.metadataEligibilityCriteria : undefined,
  metadataExclusionCriteria: prop.metadataExclusionCriteria !== undefined ? prop.metadataExclusionCriteria : undefined,
  metadataSegmentationRules: prop.metadataSegmentationRules !== undefined ? prop.metadataSegmentationRules : undefined,
  completedAt: prop.completedAt !== undefined ? prop.completedAt : undefined,
      })),
        };

        const filteredVariables = removeUndefinedProps(variables);

        const response = await client.mutate({
          mutation: CREATE_MANY_ABTEST,
          variables: filteredVariables,
          // Don't cache mutations, but ensure we're using the freshest context
          fetchPolicy: 'no-cache'
        });

        if (response.errors && response.errors.length > 0) throw new Error(response.errors[0].message);
        if (response && response.data && response.data.createManyABTest) {
          return response.data.createManyABTest;
        } else {
          return null as any;
        }
      } catch (error: any) {
        lastError = error;

        // Check if this is a database connection error that we should retry
        const isConnectionError =
          error.message?.includes('Server has closed the connection') ||
          error.message?.includes('Cannot reach database server') ||
          error.message?.includes('Connection timed out') ||
          error.message?.includes('Accelerate') || // Prisma Accelerate proxy errors
          (error.networkError && error.networkError.message?.includes('Failed to fetch'));

        if (isConnectionError && retryCount < MAX_RETRIES - 1) {
          retryCount++;
          const delay = Math.pow(2, retryCount) * 100; // Exponential backoff: 200ms, 400ms, 800ms
          console.warn("Database connection error, retrying...");
          await new Promise(resolve => setTimeout(resolve, delay));
          continue;
        }

        // Log the error and rethrow
        console.error("Database error occurred:", error);
        throw error;
      }
    }

    // If we exhausted retries, throw the last error
    throw lastError;
  },

  /**
   * Update a single ABTest record.
   * Enhanced with connection resilience against Prisma connection errors.
   * @param props - Properties to update.
   * @param globalClient - Apollo Client instance.
   * @returns The updated ABTest or null.
   */
  async update(props: ABTestType, globalClient?: ApolloClientType<NormalizedCacheObject>): Promise<ABTestType> {
    // Maximum number of retries for database connection issues
    const MAX_RETRIES = 3;
    let retryCount = 0;
    let lastError: any = null;

    // Retry loop to handle potential database connection issues
    while (retryCount < MAX_RETRIES) {
      try {
        const [modules, client] = await Promise.all([
          getApolloModules(),
          globalClient
            ? Promise.resolve(globalClient)
            : importedClient
        ]);

        const { gql, ApolloError } = modules;

        const UPDATE_ONE_ABTEST = gql`
          mutation updateOneABTest($data: ABTestUpdateInput!, $where: ABTestWhereUniqueInput!) {
            updateOneABTest(data: $data, where: $where) {
              ${selectionSet}
            }
          }`;

        const variables = {
          where: {
            id: props.id !== undefined ? props.id : undefined,
  name: props.name !== undefined ? {
    equals: props.name 
  } : undefined,
  modelVersionAId: props.modelVersionAId !== undefined ? {
    equals: props.modelVersionAId 
  } : undefined,
  modelVersionBId: props.modelVersionBId !== undefined ? {
    equals: props.modelVersionBId 
  } : undefined,
      },
          data: {
      id: props.id !== undefined ? {
            set: props.id 
           } : undefined,
  name: props.name !== undefined ? {
            set: props.name 
           } : undefined,
  description: props.description !== undefined ? {
            set: props.description 
           } : undefined,
  status: props.status !== undefined ? {
            set: props.status 
           } : undefined,
  trafficSplitControlPercent: props.trafficSplitControlPercent !== undefined ? {
            set: props.trafficSplitControlPercent 
           } : undefined,
  trafficSplitTreatmentPercent: props.trafficSplitTreatmentPercent !== undefined ? {
            set: props.trafficSplitTreatmentPercent 
           } : undefined,
  targetMetrics: props.targetMetrics !== undefined ? {
            set: props.targetMetrics 
           } : undefined,
  successCriteriaPrimaryMetric: props.successCriteriaPrimaryMetric !== undefined ? {
            set: props.successCriteriaPrimaryMetric 
           } : undefined,
  successCriteriaMinimumDetectableEffect: props.successCriteriaMinimumDetectableEffect !== undefined ? {
            set: props.successCriteriaMinimumDetectableEffect 
           } : undefined,
  successCriteriaSignificanceLevel: props.successCriteriaSignificanceLevel !== undefined ? {
            set: props.successCriteriaSignificanceLevel 
           } : undefined,
  successCriteriaPowerLevel: props.successCriteriaPowerLevel !== undefined ? {
            set: props.successCriteriaPowerLevel 
           } : undefined,
  startDate: props.startDate !== undefined ? {
            set: props.startDate 
           } : undefined,
  endDate: props.endDate !== undefined ? {
            set: props.endDate 
           } : undefined,
  plannedDuration: props.plannedDuration !== undefined ? {
            set: props.plannedDuration 
           } : undefined,
  resultsControlMetrics: props.resultsControlMetrics !== undefined ? {
            set: props.resultsControlMetrics 
           } : undefined,
  resultsTreatmentMetrics: props.resultsTreatmentMetrics !== undefined ? {
            set: props.resultsTreatmentMetrics 
           } : undefined,
  resultsStatisticalSignificance: props.resultsStatisticalSignificance !== undefined ? {
            set: props.resultsStatisticalSignificance 
           } : undefined,
  resultsPValues: props.resultsPValues !== undefined ? {
            set: props.resultsPValues 
           } : undefined,
  resultsConfidenceIntervals: props.resultsConfidenceIntervals !== undefined ? {
            set: props.resultsConfidenceIntervals 
           } : undefined,
  resultsRecommendation: props.resultsRecommendation !== undefined ? {
            set: props.resultsRecommendation 
           } : undefined,
  metadataEnvironment: props.metadataEnvironment !== undefined ? {
            set: props.metadataEnvironment 
           } : undefined,
  metadataEligibilityCriteria: props.metadataEligibilityCriteria !== undefined ? {
            set: props.metadataEligibilityCriteria 
           } : undefined,
  metadataExclusionCriteria: props.metadataExclusionCriteria !== undefined ? {
            set: props.metadataExclusionCriteria 
           } : undefined,
  metadataSegmentationRules: props.metadataSegmentationRules !== undefined ? {
            set: props.metadataSegmentationRules 
           } : undefined,
  createdAt: props.createdAt !== undefined ? {
            set: props.createdAt 
           } : undefined,
  updatedAt: props.updatedAt !== undefined ? {
            set: props.updatedAt 
           } : undefined,
  completedAt: props.completedAt !== undefined ? {
            set: props.completedAt 
           } : undefined,
  controlVersion: props.controlVersion ? 
  typeof props.controlVersion === 'object' && Object.keys(props.controlVersion).length === 1 && (Object.keys(props.controlVersion)[0] === 'id' || Object.keys(props.controlVersion)[0] === 'symbol')
? {
  connect: {
    id: props.controlVersion.id
  }
} : { upsert: {
      where: {
        id: props.controlVersion.id !== undefined ? {
            equals: props.controlVersion.id
          } : undefined,
        parentVersionId: props.controlVersion.parentVersionId !== undefined ? {
            equals: props.controlVersion.parentVersionId
          } : undefined,
      },
      update: {
        id: props.controlVersion.id !== undefined ? {
            set: props.controlVersion.id
          } : undefined,
        modelName: props.controlVersion.modelName !== undefined ? {
            set: props.controlVersion.modelName
          } : undefined,
        version: props.controlVersion.version !== undefined ? {
            set: props.controlVersion.version
          } : undefined,
        status: props.controlVersion.status !== undefined ? {
            set: props.controlVersion.status
          } : undefined,
        performanceAccuracy: props.controlVersion.performanceAccuracy !== undefined ? {
            set: props.controlVersion.performanceAccuracy
          } : undefined,
        performancePrecision: props.controlVersion.performancePrecision !== undefined ? {
            set: props.controlVersion.performancePrecision
          } : undefined,
        performanceRecall: props.controlVersion.performanceRecall !== undefined ? {
            set: props.controlVersion.performanceRecall
          } : undefined,
        performanceF1Score: props.controlVersion.performanceF1Score !== undefined ? {
            set: props.controlVersion.performanceF1Score
          } : undefined,
        performanceAuc: props.controlVersion.performanceAuc !== undefined ? {
            set: props.controlVersion.performanceAuc
          } : undefined,
        performanceSharpeRatio: props.controlVersion.performanceSharpeRatio !== undefined ? {
            set: props.controlVersion.performanceSharpeRatio
          } : undefined,
        performanceMaxDrawdown: props.controlVersion.performanceMaxDrawdown !== undefined ? {
            set: props.controlVersion.performanceMaxDrawdown
          } : undefined,
        performanceWinRate: props.controlVersion.performanceWinRate !== undefined ? {
            set: props.controlVersion.performanceWinRate
          } : undefined,
        performanceAvgReturn: props.controlVersion.performanceAvgReturn !== undefined ? {
            set: props.controlVersion.performanceAvgReturn
          } : undefined,
        performanceCalibrationScore: props.controlVersion.performanceCalibrationScore !== undefined ? {
            set: props.controlVersion.performanceCalibrationScore
          } : undefined,
        performanceStabilityScore: props.controlVersion.performanceStabilityScore !== undefined ? {
            set: props.controlVersion.performanceStabilityScore
          } : undefined,
        validationCrossValidationScore: props.controlVersion.validationCrossValidationScore !== undefined ? {
            set: props.controlVersion.validationCrossValidationScore
          } : undefined,
        validationOutOfSamplePerformance: props.controlVersion.validationOutOfSamplePerformance !== undefined ? {
            set: props.controlVersion.validationOutOfSamplePerformance
          } : undefined,
        validationBacktestResults: props.controlVersion.validationBacktestResults !== undefined ? {
            set: props.controlVersion.validationBacktestResults
          } : undefined,
        validationStatTestResults: props.controlVersion.validationStatTestResults !== undefined ? {
            set: props.controlVersion.validationStatTestResults
          } : undefined,
        deploymentEnvironment: props.controlVersion.deploymentEnvironment !== undefined ? {
            set: props.controlVersion.deploymentEnvironment
          } : undefined,
        deploymentTrafficAllocation: props.controlVersion.deploymentTrafficAllocation !== undefined ? {
            set: props.controlVersion.deploymentTrafficAllocation
          } : undefined,
        deploymentRolloutStrategy: props.controlVersion.deploymentRolloutStrategy !== undefined ? {
            set: props.controlVersion.deploymentRolloutStrategy
          } : undefined,
        deploymentHealthCheckConfig: props.controlVersion.deploymentHealthCheckConfig !== undefined ? {
            set: props.controlVersion.deploymentHealthCheckConfig
          } : undefined,
        trainingStartTime: props.controlVersion.trainingStartTime !== undefined ? {
            set: props.controlVersion.trainingStartTime
          } : undefined,
        trainingEndTime: props.controlVersion.trainingEndTime !== undefined ? {
            set: props.controlVersion.trainingEndTime
          } : undefined,
        trainingDuration: props.controlVersion.trainingDuration !== undefined ? {
            set: props.controlVersion.trainingDuration
          } : undefined,
        trainingDatasetSize: props.controlVersion.trainingDatasetSize !== undefined ? {
            set: props.controlVersion.trainingDatasetSize
          } : undefined,
        trainingFeaturesUsed: props.controlVersion.trainingFeaturesUsed !== undefined ? {
            set: props.controlVersion.trainingFeaturesUsed
          } : undefined,
        trainingHyperparameters: props.controlVersion.trainingHyperparameters !== undefined ? {
            set: props.controlVersion.trainingHyperparameters
          } : undefined,
        trainingResourcePeakMemoryMB: props.controlVersion.trainingResourcePeakMemoryMB !== undefined ? {
            set: props.controlVersion.trainingResourcePeakMemoryMB
          } : undefined,
        trainingResourceTotalCpuHours: props.controlVersion.trainingResourceTotalCpuHours !== undefined ? {
            set: props.controlVersion.trainingResourceTotalCpuHours
          } : undefined,
        trainingResourceGpuHours: props.controlVersion.trainingResourceGpuHours !== undefined ? {
            set: props.controlVersion.trainingResourceGpuHours
          } : undefined,
        deployedAt: props.controlVersion.deployedAt !== undefined ? {
            set: props.controlVersion.deployedAt
          } : undefined,
        deprecatedAt: props.controlVersion.deprecatedAt !== undefined ? {
            set: props.controlVersion.deprecatedAt
          } : undefined,
    parentVersion: props.controlVersion.parentVersion ? 
    typeof props.controlVersion.parentVersion === 'object' && Object.keys(props.controlVersion.parentVersion).length === 1 && (Object.keys(props.controlVersion.parentVersion)[0] === 'id' || Object.keys(props.controlVersion.parentVersion)[0] === 'symbol')
? {
    connect: {
      id: props.controlVersion.parentVersion.id
    }
} : { upsert: {
        where: {
          id: props.controlVersion.parentVersion.id !== undefined ? {
              equals: props.controlVersion.parentVersion.id
            } : undefined,
          parentVersionId: props.controlVersion.parentVersion.parentVersionId !== undefined ? {
              equals: props.controlVersion.parentVersion.parentVersionId
            } : undefined,
        },
        update: {
          id: props.controlVersion.parentVersion.id !== undefined ? {
              set: props.controlVersion.parentVersion.id
            } : undefined,
          modelName: props.controlVersion.parentVersion.modelName !== undefined ? {
              set: props.controlVersion.parentVersion.modelName
            } : undefined,
          version: props.controlVersion.parentVersion.version !== undefined ? {
              set: props.controlVersion.parentVersion.version
            } : undefined,
          status: props.controlVersion.parentVersion.status !== undefined ? {
              set: props.controlVersion.parentVersion.status
            } : undefined,
          performanceAccuracy: props.controlVersion.parentVersion.performanceAccuracy !== undefined ? {
              set: props.controlVersion.parentVersion.performanceAccuracy
            } : undefined,
          performancePrecision: props.controlVersion.parentVersion.performancePrecision !== undefined ? {
              set: props.controlVersion.parentVersion.performancePrecision
            } : undefined,
          performanceRecall: props.controlVersion.parentVersion.performanceRecall !== undefined ? {
              set: props.controlVersion.parentVersion.performanceRecall
            } : undefined,
          performanceF1Score: props.controlVersion.parentVersion.performanceF1Score !== undefined ? {
              set: props.controlVersion.parentVersion.performanceF1Score
            } : undefined,
          performanceAuc: props.controlVersion.parentVersion.performanceAuc !== undefined ? {
              set: props.controlVersion.parentVersion.performanceAuc
            } : undefined,
          performanceSharpeRatio: props.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? {
              set: props.controlVersion.parentVersion.performanceSharpeRatio
            } : undefined,
          performanceMaxDrawdown: props.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? {
              set: props.controlVersion.parentVersion.performanceMaxDrawdown
            } : undefined,
          performanceWinRate: props.controlVersion.parentVersion.performanceWinRate !== undefined ? {
              set: props.controlVersion.parentVersion.performanceWinRate
            } : undefined,
          performanceAvgReturn: props.controlVersion.parentVersion.performanceAvgReturn !== undefined ? {
              set: props.controlVersion.parentVersion.performanceAvgReturn
            } : undefined,
          performanceCalibrationScore: props.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? {
              set: props.controlVersion.parentVersion.performanceCalibrationScore
            } : undefined,
          performanceStabilityScore: props.controlVersion.parentVersion.performanceStabilityScore !== undefined ? {
              set: props.controlVersion.parentVersion.performanceStabilityScore
            } : undefined,
          validationCrossValidationScore: props.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? {
              set: props.controlVersion.parentVersion.validationCrossValidationScore
            } : undefined,
          validationOutOfSamplePerformance: props.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? {
              set: props.controlVersion.parentVersion.validationOutOfSamplePerformance
            } : undefined,
          validationBacktestResults: props.controlVersion.parentVersion.validationBacktestResults !== undefined ? {
              set: props.controlVersion.parentVersion.validationBacktestResults
            } : undefined,
          validationStatTestResults: props.controlVersion.parentVersion.validationStatTestResults !== undefined ? {
              set: props.controlVersion.parentVersion.validationStatTestResults
            } : undefined,
          deploymentEnvironment: props.controlVersion.parentVersion.deploymentEnvironment !== undefined ? {
              set: props.controlVersion.parentVersion.deploymentEnvironment
            } : undefined,
          deploymentTrafficAllocation: props.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? {
              set: props.controlVersion.parentVersion.deploymentTrafficAllocation
            } : undefined,
          deploymentRolloutStrategy: props.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? {
              set: props.controlVersion.parentVersion.deploymentRolloutStrategy
            } : undefined,
          deploymentHealthCheckConfig: props.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? {
              set: props.controlVersion.parentVersion.deploymentHealthCheckConfig
            } : undefined,
          trainingStartTime: props.controlVersion.parentVersion.trainingStartTime !== undefined ? {
              set: props.controlVersion.parentVersion.trainingStartTime
            } : undefined,
          trainingEndTime: props.controlVersion.parentVersion.trainingEndTime !== undefined ? {
              set: props.controlVersion.parentVersion.trainingEndTime
            } : undefined,
          trainingDuration: props.controlVersion.parentVersion.trainingDuration !== undefined ? {
              set: props.controlVersion.parentVersion.trainingDuration
            } : undefined,
          trainingDatasetSize: props.controlVersion.parentVersion.trainingDatasetSize !== undefined ? {
              set: props.controlVersion.parentVersion.trainingDatasetSize
            } : undefined,
          trainingFeaturesUsed: props.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? {
              set: props.controlVersion.parentVersion.trainingFeaturesUsed
            } : undefined,
          trainingHyperparameters: props.controlVersion.parentVersion.trainingHyperparameters !== undefined ? {
              set: props.controlVersion.parentVersion.trainingHyperparameters
            } : undefined,
          trainingResourcePeakMemoryMB: props.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
              set: props.controlVersion.parentVersion.trainingResourcePeakMemoryMB
            } : undefined,
          trainingResourceTotalCpuHours: props.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
              set: props.controlVersion.parentVersion.trainingResourceTotalCpuHours
            } : undefined,
          trainingResourceGpuHours: props.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? {
              set: props.controlVersion.parentVersion.trainingResourceGpuHours
            } : undefined,
          deployedAt: props.controlVersion.parentVersion.deployedAt !== undefined ? {
              set: props.controlVersion.parentVersion.deployedAt
            } : undefined,
          deprecatedAt: props.controlVersion.parentVersion.deprecatedAt !== undefined ? {
              set: props.controlVersion.parentVersion.deprecatedAt
            } : undefined,
      parentVersion: props.controlVersion.parentVersion.parentVersion ? 
      typeof props.controlVersion.parentVersion.parentVersion === 'object' && Object.keys(props.controlVersion.parentVersion.parentVersion).length === 1 && (Object.keys(props.controlVersion.parentVersion.parentVersion)[0] === 'id' || Object.keys(props.controlVersion.parentVersion.parentVersion)[0] === 'symbol')
? {
      connect: {
        id: props.controlVersion.parentVersion.parentVersion.id
      }
} : { upsert: {
          where: {
            id: props.controlVersion.parentVersion.parentVersion.id !== undefined ? {
                equals: props.controlVersion.parentVersion.parentVersion.id
              } : undefined,
            parentVersionId: props.controlVersion.parentVersion.parentVersion.parentVersionId !== undefined ? {
                equals: props.controlVersion.parentVersion.parentVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: props.controlVersion.parentVersion.parentVersion.id !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.id
              } : undefined,
            modelName: props.controlVersion.parentVersion.parentVersion.modelName !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.modelName
              } : undefined,
            version: props.controlVersion.parentVersion.parentVersion.version !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.version
              } : undefined,
            status: props.controlVersion.parentVersion.parentVersion.status !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.status
              } : undefined,
            performanceAccuracy: props.controlVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.performanceAccuracy
              } : undefined,
            performancePrecision: props.controlVersion.parentVersion.parentVersion.performancePrecision !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.performancePrecision
              } : undefined,
            performanceRecall: props.controlVersion.parentVersion.parentVersion.performanceRecall !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.performanceRecall
              } : undefined,
            performanceF1Score: props.controlVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.performanceF1Score
              } : undefined,
            performanceAuc: props.controlVersion.parentVersion.parentVersion.performanceAuc !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: props.controlVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: props.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: props.controlVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: props.controlVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: props.controlVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: props.controlVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: props.controlVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: props.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: props.controlVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: props.controlVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: props.controlVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: props.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: props.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: props.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: props.controlVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.trainingStartTime
              } : undefined,
            trainingEndTime: props.controlVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.trainingEndTime
              } : undefined,
            trainingDuration: props.controlVersion.parentVersion.parentVersion.trainingDuration !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: props.controlVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: props.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: props.controlVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: props.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: props.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: props.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: props.controlVersion.parentVersion.parentVersion.deployedAt !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.deployedAt
              } : undefined,
            deprecatedAt: props.controlVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: props.controlVersion.parentVersion.parentVersion.modelName !== undefined ? props.controlVersion.parentVersion.parentVersion.modelName : undefined,
            version: props.controlVersion.parentVersion.parentVersion.version !== undefined ? props.controlVersion.parentVersion.parentVersion.version : undefined,
            status: props.controlVersion.parentVersion.parentVersion.status !== undefined ? props.controlVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: props.controlVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: props.controlVersion.parentVersion.parentVersion.performancePrecision !== undefined ? props.controlVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: props.controlVersion.parentVersion.parentVersion.performanceRecall !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: props.controlVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: props.controlVersion.parentVersion.parentVersion.performanceAuc !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: props.controlVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: props.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: props.controlVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: props.controlVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: props.controlVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: props.controlVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: props.controlVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.controlVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: props.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: props.controlVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.controlVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: props.controlVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.controlVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: props.controlVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: props.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: props.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: props.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: props.controlVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: props.controlVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: props.controlVersion.parentVersion.parentVersion.trainingDuration !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: props.controlVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: props.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: props.controlVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: props.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: props.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: props.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: props.controlVersion.parentVersion.parentVersion.deployedAt !== undefined ? props.controlVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: props.controlVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? props.controlVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: props.controlVersion.parentVersion.artifacts ? 
      Array.isArray(props.controlVersion.parentVersion.artifacts) && props.controlVersion.parentVersion.artifacts.length > 0 && props.controlVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: props.controlVersion.parentVersion.artifacts.map((item: any) => ({
        id: item.id
      }))
} : { upsert: props.controlVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: props.controlVersion.parentVersion.abTestsAsControl ? 
      Array.isArray(props.controlVersion.parentVersion.abTestsAsControl) && props.controlVersion.parentVersion.abTestsAsControl.length > 0 && props.controlVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: props.controlVersion.parentVersion.abTestsAsControl.map((item: any) => ({
        id: item.id
      }))
} : { upsert: props.controlVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: props.controlVersion.parentVersion.abTestsAsTreatment ? 
      Array.isArray(props.controlVersion.parentVersion.abTestsAsTreatment) && props.controlVersion.parentVersion.abTestsAsTreatment.length > 0 && props.controlVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: props.controlVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
        id: item.id
      }))
} : { upsert: props.controlVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: props.controlVersion.parentVersion.featureImportanceAnalyses ? 
      Array.isArray(props.controlVersion.parentVersion.featureImportanceAnalyses) && props.controlVersion.parentVersion.featureImportanceAnalyses.length > 0 && props.controlVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: props.controlVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
        id: item.id
      }))
} : { upsert: props.controlVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            analysisType: item.analysisType !== undefined ? {
                set: item.analysisType
              } : undefined,
            featureImportances: item.featureImportances !== undefined ? {
                set: item.featureImportances
              } : undefined,
            globalImportance: item.globalImportance !== undefined ? {
                set: item.globalImportance
              } : undefined,
            localImportance: item.localImportance !== undefined ? {
                set: item.localImportance
              } : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
                set: item.analysisMetadataSampleSize
              } : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
                set: item.analysisMetadataBaselineAccuracy
              } : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
                set: item.analysisMetadataAnalysisDate
              } : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
                set: item.analysisMetadataComputationTime
              } : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
                set: item.analysisMetadataAnalysisParameters
              } : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
                set: item.insightsTopFeatures
              } : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
                set: item.insightsRedundantFeatures
              } : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
                set: item.insightsUnexpectedImportances
              } : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
                set: item.insightsStabilityScore
              } : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? {
                set: item.insightsRecommendations
              } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
        create: {
          modelName: props.controlVersion.parentVersion.modelName !== undefined ? props.controlVersion.parentVersion.modelName : undefined,
          version: props.controlVersion.parentVersion.version !== undefined ? props.controlVersion.parentVersion.version : undefined,
          status: props.controlVersion.parentVersion.status !== undefined ? props.controlVersion.parentVersion.status : undefined,
          performanceAccuracy: props.controlVersion.parentVersion.performanceAccuracy !== undefined ? props.controlVersion.parentVersion.performanceAccuracy : undefined,
          performancePrecision: props.controlVersion.parentVersion.performancePrecision !== undefined ? props.controlVersion.parentVersion.performancePrecision : undefined,
          performanceRecall: props.controlVersion.parentVersion.performanceRecall !== undefined ? props.controlVersion.parentVersion.performanceRecall : undefined,
          performanceF1Score: props.controlVersion.parentVersion.performanceF1Score !== undefined ? props.controlVersion.parentVersion.performanceF1Score : undefined,
          performanceAuc: props.controlVersion.parentVersion.performanceAuc !== undefined ? props.controlVersion.parentVersion.performanceAuc : undefined,
          performanceSharpeRatio: props.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? props.controlVersion.parentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: props.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.controlVersion.parentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: props.controlVersion.parentVersion.performanceWinRate !== undefined ? props.controlVersion.parentVersion.performanceWinRate : undefined,
          performanceAvgReturn: props.controlVersion.parentVersion.performanceAvgReturn !== undefined ? props.controlVersion.parentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: props.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? props.controlVersion.parentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: props.controlVersion.parentVersion.performanceStabilityScore !== undefined ? props.controlVersion.parentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: props.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? props.controlVersion.parentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: props.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.controlVersion.parentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: props.controlVersion.parentVersion.validationBacktestResults !== undefined ? props.controlVersion.parentVersion.validationBacktestResults : undefined,
          validationStatTestResults: props.controlVersion.parentVersion.validationStatTestResults !== undefined ? props.controlVersion.parentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: props.controlVersion.parentVersion.deploymentEnvironment !== undefined ? props.controlVersion.parentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: props.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.controlVersion.parentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: props.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.controlVersion.parentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: props.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.controlVersion.parentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: props.controlVersion.parentVersion.trainingStartTime !== undefined ? props.controlVersion.parentVersion.trainingStartTime : undefined,
          trainingEndTime: props.controlVersion.parentVersion.trainingEndTime !== undefined ? props.controlVersion.parentVersion.trainingEndTime : undefined,
          trainingDuration: props.controlVersion.parentVersion.trainingDuration !== undefined ? props.controlVersion.parentVersion.trainingDuration : undefined,
          trainingDatasetSize: props.controlVersion.parentVersion.trainingDatasetSize !== undefined ? props.controlVersion.parentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: props.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.controlVersion.parentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: props.controlVersion.parentVersion.trainingHyperparameters !== undefined ? props.controlVersion.parentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: props.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.controlVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: props.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.controlVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: props.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.controlVersion.parentVersion.trainingResourceGpuHours : undefined,
          deployedAt: props.controlVersion.parentVersion.deployedAt !== undefined ? props.controlVersion.parentVersion.deployedAt : undefined,
          deprecatedAt: props.controlVersion.parentVersion.deprecatedAt !== undefined ? props.controlVersion.parentVersion.deprecatedAt : undefined,
      parentVersion: props.controlVersion.parentVersion.parentVersion ? 
        typeof props.controlVersion.parentVersion.parentVersion === 'object' && Object.keys(props.controlVersion.parentVersion.parentVersion).length === 1 && Object.keys(props.controlVersion.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: props.controlVersion.parentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: props.controlVersion.parentVersion.parentVersion.id !== undefined ? props.controlVersion.parentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: props.controlVersion.parentVersion.parentVersion.modelName !== undefined ? props.controlVersion.parentVersion.parentVersion.modelName : undefined,
            version: props.controlVersion.parentVersion.parentVersion.version !== undefined ? props.controlVersion.parentVersion.parentVersion.version : undefined,
            status: props.controlVersion.parentVersion.parentVersion.status !== undefined ? props.controlVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: props.controlVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: props.controlVersion.parentVersion.parentVersion.performancePrecision !== undefined ? props.controlVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: props.controlVersion.parentVersion.parentVersion.performanceRecall !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: props.controlVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: props.controlVersion.parentVersion.parentVersion.performanceAuc !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: props.controlVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: props.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: props.controlVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: props.controlVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: props.controlVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: props.controlVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: props.controlVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.controlVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: props.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: props.controlVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.controlVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: props.controlVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.controlVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: props.controlVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: props.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: props.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: props.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: props.controlVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: props.controlVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: props.controlVersion.parentVersion.parentVersion.trainingDuration !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: props.controlVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: props.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: props.controlVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: props.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: props.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: props.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: props.controlVersion.parentVersion.parentVersion.deployedAt !== undefined ? props.controlVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: props.controlVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? props.controlVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: props.controlVersion.parentVersion.artifacts ? 
        Array.isArray(props.controlVersion.parentVersion.artifacts) && props.controlVersion.parentVersion.artifacts.length > 0 &&  props.controlVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.controlVersion.parentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.controlVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: props.controlVersion.parentVersion.abTestsAsControl ? 
        Array.isArray(props.controlVersion.parentVersion.abTestsAsControl) && props.controlVersion.parentVersion.abTestsAsControl.length > 0 &&  props.controlVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.controlVersion.parentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.controlVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: props.controlVersion.parentVersion.abTestsAsTreatment ? 
        Array.isArray(props.controlVersion.parentVersion.abTestsAsTreatment) && props.controlVersion.parentVersion.abTestsAsTreatment.length > 0 &&  props.controlVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.controlVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.controlVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: props.controlVersion.parentVersion.featureImportanceAnalyses ? 
        Array.isArray(props.controlVersion.parentVersion.featureImportanceAnalyses) && props.controlVersion.parentVersion.featureImportanceAnalyses.length > 0 &&  props.controlVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.controlVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.controlVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
    childVersions: props.controlVersion.childVersions ? 
    Array.isArray(props.controlVersion.childVersions) && props.controlVersion.childVersions.length > 0 && props.controlVersion.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: props.controlVersion.childVersions.map((item: any) => ({
      id: item.id
    }))
} : { upsert: props.controlVersion.childVersions.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          parentVersionId: item.parentVersionId !== undefined ? {
              equals: item.parentVersionId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          modelName: item.modelName !== undefined ? {
              set: item.modelName
            } : undefined,
          version: item.version !== undefined ? {
              set: item.version
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? {
              set: item.performanceAccuracy
            } : undefined,
          performancePrecision: item.performancePrecision !== undefined ? {
              set: item.performancePrecision
            } : undefined,
          performanceRecall: item.performanceRecall !== undefined ? {
              set: item.performanceRecall
            } : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? {
              set: item.performanceF1Score
            } : undefined,
          performanceAuc: item.performanceAuc !== undefined ? {
              set: item.performanceAuc
            } : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
              set: item.performanceSharpeRatio
            } : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
              set: item.performanceMaxDrawdown
            } : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? {
              set: item.performanceWinRate
            } : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
              set: item.performanceAvgReturn
            } : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
              set: item.performanceCalibrationScore
            } : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
              set: item.performanceStabilityScore
            } : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
              set: item.validationCrossValidationScore
            } : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
              set: item.validationOutOfSamplePerformance
            } : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? {
              set: item.validationBacktestResults
            } : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? {
              set: item.validationStatTestResults
            } : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
              set: item.deploymentEnvironment
            } : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
              set: item.deploymentTrafficAllocation
            } : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
              set: item.deploymentRolloutStrategy
            } : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
              set: item.deploymentHealthCheckConfig
            } : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? {
              set: item.trainingStartTime
            } : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? {
              set: item.trainingEndTime
            } : undefined,
          trainingDuration: item.trainingDuration !== undefined ? {
              set: item.trainingDuration
            } : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
              set: item.trainingDatasetSize
            } : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
              set: item.trainingFeaturesUsed
            } : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
              set: item.trainingHyperparameters
            } : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
              set: item.trainingResourcePeakMemoryMB
            } : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
              set: item.trainingResourceTotalCpuHours
            } : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
              set: item.trainingResourceGpuHours
            } : undefined,
          deployedAt: item.deployedAt !== undefined ? {
              set: item.deployedAt
            } : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? {
              set: item.deprecatedAt
            } : undefined,
      childVersions: item.childVersions ? 
      Array.isArray(item.childVersions) && item.childVersions.length > 0 && item.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.childVersions.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            parentVersionId: item.parentVersionId !== undefined ? {
                equals: item.parentVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            modelName: item.modelName !== undefined ? {
                set: item.modelName
              } : undefined,
            version: item.version !== undefined ? {
                set: item.version
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? {
                set: item.performanceAccuracy
              } : undefined,
            performancePrecision: item.performancePrecision !== undefined ? {
                set: item.performancePrecision
              } : undefined,
            performanceRecall: item.performanceRecall !== undefined ? {
                set: item.performanceRecall
              } : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? {
                set: item.performanceF1Score
              } : undefined,
            performanceAuc: item.performanceAuc !== undefined ? {
                set: item.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
                set: item.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
                set: item.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? {
                set: item.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
                set: item.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
                set: item.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
                set: item.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
                set: item.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
                set: item.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? {
                set: item.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? {
                set: item.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
                set: item.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
                set: item.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
                set: item.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
                set: item.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? {
                set: item.trainingStartTime
              } : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? {
                set: item.trainingEndTime
              } : undefined,
            trainingDuration: item.trainingDuration !== undefined ? {
                set: item.trainingDuration
              } : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
                set: item.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
                set: item.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
                set: item.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
                set: item.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
                set: item.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.deployedAt !== undefined ? {
                set: item.deployedAt
              } : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? {
                set: item.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
      Array.isArray(item.artifacts) && item.artifacts.length > 0 && item.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.artifacts.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
      Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 && item.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.abTestsAsControl.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
      Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 && item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.abTestsAsTreatment.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
      Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 && item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.featureImportanceAnalyses.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            analysisType: item.analysisType !== undefined ? {
                set: item.analysisType
              } : undefined,
            featureImportances: item.featureImportances !== undefined ? {
                set: item.featureImportances
              } : undefined,
            globalImportance: item.globalImportance !== undefined ? {
                set: item.globalImportance
              } : undefined,
            localImportance: item.localImportance !== undefined ? {
                set: item.localImportance
              } : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
                set: item.analysisMetadataSampleSize
              } : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
                set: item.analysisMetadataBaselineAccuracy
              } : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
                set: item.analysisMetadataAnalysisDate
              } : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
                set: item.analysisMetadataComputationTime
              } : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
                set: item.analysisMetadataAnalysisParameters
              } : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
                set: item.insightsTopFeatures
              } : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
                set: item.insightsRedundantFeatures
              } : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
                set: item.insightsUnexpectedImportances
              } : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
                set: item.insightsStabilityScore
              } : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? {
                set: item.insightsRecommendations
              } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
        create: {
          modelName: item.modelName !== undefined ? item.modelName : undefined,
          version: item.version !== undefined ? item.version : undefined,
          status: item.status !== undefined ? item.status : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
          performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
          performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
          performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
          trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
          deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
      childVersions: item.childVersions ? 
        Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
        Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
        Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
        Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
        Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }))
    } : undefined,
    artifacts: props.controlVersion.artifacts ? 
    Array.isArray(props.controlVersion.artifacts) && props.controlVersion.artifacts.length > 0 && props.controlVersion.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: props.controlVersion.artifacts.map((item: any) => ({
      id: item.id
    }))
} : { upsert: props.controlVersion.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId
            } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
      modelArtifact: item.modelArtifact ? 
      typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && (Object.keys(item.modelArtifact)[0] === 'id' || Object.keys(item.modelArtifact)[0] === 'symbol')
? {
      connect: {
        id: item.modelArtifact.id
      }
} : { upsert: {
          where: {
            id: item.modelArtifact.id !== undefined ? {
                equals: item.modelArtifact.id
              } : undefined,
          },
          update: {
            id: item.modelArtifact.id !== undefined ? {
                set: item.modelArtifact.id
              } : undefined,
            modelName: item.modelArtifact.modelName !== undefined ? {
                set: item.modelArtifact.modelName
              } : undefined,
            version: item.modelArtifact.version !== undefined ? {
                set: item.modelArtifact.version
              } : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? {
                set: item.modelArtifact.artifactType
              } : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? {
                set: item.modelArtifact.storageUrl
              } : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? {
                set: item.modelArtifact.storageProvider
              } : undefined,
            fileSize: item.modelArtifact.fileSize !== undefined ? {
                set: item.modelArtifact.fileSize
              } : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? {
                set: item.modelArtifact.checksum
              } : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? {
                set: item.modelArtifact.compressionType
              } : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? {
                set: item.modelArtifact.metadataFramework
              } : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? {
                set: item.modelArtifact.metadataPythonVersion
              } : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? {
                set: item.modelArtifact.metadataDependencies
              } : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? {
                set: item.modelArtifact.metadataTrainingDate
              } : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? {
                set: item.modelArtifact.metadataDatasetSize
              } : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? {
                set: item.modelArtifact.metadataHyperparameters
              } : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsTreatment: props.controlVersion.abTestsAsTreatment ? 
    Array.isArray(props.controlVersion.abTestsAsTreatment) && props.controlVersion.abTestsAsTreatment.length > 0 && props.controlVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: props.controlVersion.abTestsAsTreatment.map((item: any) => ({
      id: item.id
    }))
} : { upsert: props.controlVersion.abTestsAsTreatment.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name
            } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId
            } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          name: item.name !== undefined ? {
              set: item.name
            } : undefined,
          description: item.description !== undefined ? {
              set: item.description
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
              set: item.trafficSplitControlPercent
            } : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
              set: item.trafficSplitTreatmentPercent
            } : undefined,
          targetMetrics: item.targetMetrics !== undefined ? {
              set: item.targetMetrics
            } : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
              set: item.successCriteriaPrimaryMetric
            } : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
              set: item.successCriteriaMinimumDetectableEffect
            } : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
              set: item.successCriteriaSignificanceLevel
            } : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
              set: item.successCriteriaPowerLevel
            } : undefined,
          startDate: item.startDate !== undefined ? {
              set: item.startDate
            } : undefined,
          endDate: item.endDate !== undefined ? {
              set: item.endDate
            } : undefined,
          plannedDuration: item.plannedDuration !== undefined ? {
              set: item.plannedDuration
            } : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
              set: item.resultsControlMetrics
            } : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
              set: item.resultsTreatmentMetrics
            } : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
              set: item.resultsStatisticalSignificance
            } : undefined,
          resultsPValues: item.resultsPValues !== undefined ? {
              set: item.resultsPValues
            } : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
              set: item.resultsConfidenceIntervals
            } : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? {
              set: item.resultsRecommendation
            } : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? {
              set: item.metadataEnvironment
            } : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
              set: item.metadataEligibilityCriteria
            } : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
              set: item.metadataExclusionCriteria
            } : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
              set: item.metadataSegmentationRules
            } : undefined,
          completedAt: item.completedAt !== undefined ? {
              set: item.completedAt
            } : undefined,
      controlVersion: item.controlVersion ? 
      typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && (Object.keys(item.controlVersion)[0] === 'id' || Object.keys(item.controlVersion)[0] === 'symbol')
? {
      connect: {
        id: item.controlVersion.id
      }
} : { upsert: {
          where: {
            id: item.controlVersion.id !== undefined ? {
                equals: item.controlVersion.id
              } : undefined,
            parentVersionId: item.controlVersion.parentVersionId !== undefined ? {
                equals: item.controlVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: item.controlVersion.id !== undefined ? {
                set: item.controlVersion.id
              } : undefined,
            modelName: item.controlVersion.modelName !== undefined ? {
                set: item.controlVersion.modelName
              } : undefined,
            version: item.controlVersion.version !== undefined ? {
                set: item.controlVersion.version
              } : undefined,
            status: item.controlVersion.status !== undefined ? {
                set: item.controlVersion.status
              } : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? {
                set: item.controlVersion.performanceAccuracy
              } : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? {
                set: item.controlVersion.performancePrecision
              } : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? {
                set: item.controlVersion.performanceRecall
              } : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? {
                set: item.controlVersion.performanceF1Score
              } : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? {
                set: item.controlVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? {
                set: item.controlVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? {
                set: item.controlVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? {
                set: item.controlVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? {
                set: item.controlVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? {
                set: item.controlVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? {
                set: item.controlVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? {
                set: item.controlVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? {
                set: item.controlVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? {
                set: item.controlVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? {
                set: item.controlVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? {
                set: item.controlVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? {
                set: item.controlVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? {
                set: item.controlVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? {
                set: item.controlVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? {
                set: item.controlVersion.trainingStartTime
              } : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? {
                set: item.controlVersion.trainingEndTime
              } : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? {
                set: item.controlVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? {
                set: item.controlVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? {
                set: item.controlVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? {
                set: item.controlVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.controlVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: item.controlVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? {
                set: item.controlVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? {
                set: item.controlVersion.deployedAt
              } : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? {
                set: item.controlVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      controlVersion: item.controlVersion ? 
        typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: props.controlVersion.featureImportanceAnalyses ? 
    Array.isArray(props.controlVersion.featureImportanceAnalyses) && props.controlVersion.featureImportanceAnalyses.length > 0 && props.controlVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: props.controlVersion.featureImportanceAnalyses.map((item: any) => ({
      id: item.id
    }))
} : { upsert: props.controlVersion.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          analysisType: item.analysisType !== undefined ? {
              set: item.analysisType
            } : undefined,
          featureImportances: item.featureImportances !== undefined ? {
              set: item.featureImportances
            } : undefined,
          globalImportance: item.globalImportance !== undefined ? {
              set: item.globalImportance
            } : undefined,
          localImportance: item.localImportance !== undefined ? {
              set: item.localImportance
            } : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
              set: item.analysisMetadataSampleSize
            } : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
              set: item.analysisMetadataBaselineAccuracy
            } : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
              set: item.analysisMetadataAnalysisDate
            } : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
              set: item.analysisMetadataComputationTime
            } : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
              set: item.analysisMetadataAnalysisParameters
            } : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
              set: item.insightsTopFeatures
            } : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
              set: item.insightsRedundantFeatures
            } : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
              set: item.insightsUnexpectedImportances
            } : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
              set: item.insightsStabilityScore
            } : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? {
              set: item.insightsRecommendations
            } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
      create: {
        modelName: props.controlVersion.modelName !== undefined ? props.controlVersion.modelName : undefined,
        version: props.controlVersion.version !== undefined ? props.controlVersion.version : undefined,
        status: props.controlVersion.status !== undefined ? props.controlVersion.status : undefined,
        performanceAccuracy: props.controlVersion.performanceAccuracy !== undefined ? props.controlVersion.performanceAccuracy : undefined,
        performancePrecision: props.controlVersion.performancePrecision !== undefined ? props.controlVersion.performancePrecision : undefined,
        performanceRecall: props.controlVersion.performanceRecall !== undefined ? props.controlVersion.performanceRecall : undefined,
        performanceF1Score: props.controlVersion.performanceF1Score !== undefined ? props.controlVersion.performanceF1Score : undefined,
        performanceAuc: props.controlVersion.performanceAuc !== undefined ? props.controlVersion.performanceAuc : undefined,
        performanceSharpeRatio: props.controlVersion.performanceSharpeRatio !== undefined ? props.controlVersion.performanceSharpeRatio : undefined,
        performanceMaxDrawdown: props.controlVersion.performanceMaxDrawdown !== undefined ? props.controlVersion.performanceMaxDrawdown : undefined,
        performanceWinRate: props.controlVersion.performanceWinRate !== undefined ? props.controlVersion.performanceWinRate : undefined,
        performanceAvgReturn: props.controlVersion.performanceAvgReturn !== undefined ? props.controlVersion.performanceAvgReturn : undefined,
        performanceCalibrationScore: props.controlVersion.performanceCalibrationScore !== undefined ? props.controlVersion.performanceCalibrationScore : undefined,
        performanceStabilityScore: props.controlVersion.performanceStabilityScore !== undefined ? props.controlVersion.performanceStabilityScore : undefined,
        validationCrossValidationScore: props.controlVersion.validationCrossValidationScore !== undefined ? props.controlVersion.validationCrossValidationScore : undefined,
        validationOutOfSamplePerformance: props.controlVersion.validationOutOfSamplePerformance !== undefined ? props.controlVersion.validationOutOfSamplePerformance : undefined,
        validationBacktestResults: props.controlVersion.validationBacktestResults !== undefined ? props.controlVersion.validationBacktestResults : undefined,
        validationStatTestResults: props.controlVersion.validationStatTestResults !== undefined ? props.controlVersion.validationStatTestResults : undefined,
        deploymentEnvironment: props.controlVersion.deploymentEnvironment !== undefined ? props.controlVersion.deploymentEnvironment : undefined,
        deploymentTrafficAllocation: props.controlVersion.deploymentTrafficAllocation !== undefined ? props.controlVersion.deploymentTrafficAllocation : undefined,
        deploymentRolloutStrategy: props.controlVersion.deploymentRolloutStrategy !== undefined ? props.controlVersion.deploymentRolloutStrategy : undefined,
        deploymentHealthCheckConfig: props.controlVersion.deploymentHealthCheckConfig !== undefined ? props.controlVersion.deploymentHealthCheckConfig : undefined,
        trainingStartTime: props.controlVersion.trainingStartTime !== undefined ? props.controlVersion.trainingStartTime : undefined,
        trainingEndTime: props.controlVersion.trainingEndTime !== undefined ? props.controlVersion.trainingEndTime : undefined,
        trainingDuration: props.controlVersion.trainingDuration !== undefined ? props.controlVersion.trainingDuration : undefined,
        trainingDatasetSize: props.controlVersion.trainingDatasetSize !== undefined ? props.controlVersion.trainingDatasetSize : undefined,
        trainingFeaturesUsed: props.controlVersion.trainingFeaturesUsed !== undefined ? props.controlVersion.trainingFeaturesUsed : undefined,
        trainingHyperparameters: props.controlVersion.trainingHyperparameters !== undefined ? props.controlVersion.trainingHyperparameters : undefined,
        trainingResourcePeakMemoryMB: props.controlVersion.trainingResourcePeakMemoryMB !== undefined ? props.controlVersion.trainingResourcePeakMemoryMB : undefined,
        trainingResourceTotalCpuHours: props.controlVersion.trainingResourceTotalCpuHours !== undefined ? props.controlVersion.trainingResourceTotalCpuHours : undefined,
        trainingResourceGpuHours: props.controlVersion.trainingResourceGpuHours !== undefined ? props.controlVersion.trainingResourceGpuHours : undefined,
        deployedAt: props.controlVersion.deployedAt !== undefined ? props.controlVersion.deployedAt : undefined,
        deprecatedAt: props.controlVersion.deprecatedAt !== undefined ? props.controlVersion.deprecatedAt : undefined,
    parentVersion: props.controlVersion.parentVersion ? 
      typeof props.controlVersion.parentVersion === 'object' && Object.keys(props.controlVersion.parentVersion).length === 1 && Object.keys(props.controlVersion.parentVersion)[0] === 'id'
    ? { connect: {
          id: props.controlVersion.parentVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: props.controlVersion.parentVersion.id !== undefined ? props.controlVersion.parentVersion.id : undefined,
        },
        create: {
          modelName: props.controlVersion.parentVersion.modelName !== undefined ? props.controlVersion.parentVersion.modelName : undefined,
          version: props.controlVersion.parentVersion.version !== undefined ? props.controlVersion.parentVersion.version : undefined,
          status: props.controlVersion.parentVersion.status !== undefined ? props.controlVersion.parentVersion.status : undefined,
          performanceAccuracy: props.controlVersion.parentVersion.performanceAccuracy !== undefined ? props.controlVersion.parentVersion.performanceAccuracy : undefined,
          performancePrecision: props.controlVersion.parentVersion.performancePrecision !== undefined ? props.controlVersion.parentVersion.performancePrecision : undefined,
          performanceRecall: props.controlVersion.parentVersion.performanceRecall !== undefined ? props.controlVersion.parentVersion.performanceRecall : undefined,
          performanceF1Score: props.controlVersion.parentVersion.performanceF1Score !== undefined ? props.controlVersion.parentVersion.performanceF1Score : undefined,
          performanceAuc: props.controlVersion.parentVersion.performanceAuc !== undefined ? props.controlVersion.parentVersion.performanceAuc : undefined,
          performanceSharpeRatio: props.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? props.controlVersion.parentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: props.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.controlVersion.parentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: props.controlVersion.parentVersion.performanceWinRate !== undefined ? props.controlVersion.parentVersion.performanceWinRate : undefined,
          performanceAvgReturn: props.controlVersion.parentVersion.performanceAvgReturn !== undefined ? props.controlVersion.parentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: props.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? props.controlVersion.parentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: props.controlVersion.parentVersion.performanceStabilityScore !== undefined ? props.controlVersion.parentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: props.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? props.controlVersion.parentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: props.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.controlVersion.parentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: props.controlVersion.parentVersion.validationBacktestResults !== undefined ? props.controlVersion.parentVersion.validationBacktestResults : undefined,
          validationStatTestResults: props.controlVersion.parentVersion.validationStatTestResults !== undefined ? props.controlVersion.parentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: props.controlVersion.parentVersion.deploymentEnvironment !== undefined ? props.controlVersion.parentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: props.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.controlVersion.parentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: props.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.controlVersion.parentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: props.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.controlVersion.parentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: props.controlVersion.parentVersion.trainingStartTime !== undefined ? props.controlVersion.parentVersion.trainingStartTime : undefined,
          trainingEndTime: props.controlVersion.parentVersion.trainingEndTime !== undefined ? props.controlVersion.parentVersion.trainingEndTime : undefined,
          trainingDuration: props.controlVersion.parentVersion.trainingDuration !== undefined ? props.controlVersion.parentVersion.trainingDuration : undefined,
          trainingDatasetSize: props.controlVersion.parentVersion.trainingDatasetSize !== undefined ? props.controlVersion.parentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: props.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.controlVersion.parentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: props.controlVersion.parentVersion.trainingHyperparameters !== undefined ? props.controlVersion.parentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: props.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.controlVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: props.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.controlVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: props.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.controlVersion.parentVersion.trainingResourceGpuHours : undefined,
          deployedAt: props.controlVersion.parentVersion.deployedAt !== undefined ? props.controlVersion.parentVersion.deployedAt : undefined,
          deprecatedAt: props.controlVersion.parentVersion.deprecatedAt !== undefined ? props.controlVersion.parentVersion.deprecatedAt : undefined,
      parentVersion: props.controlVersion.parentVersion.parentVersion ? 
        typeof props.controlVersion.parentVersion.parentVersion === 'object' && Object.keys(props.controlVersion.parentVersion.parentVersion).length === 1 && Object.keys(props.controlVersion.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: props.controlVersion.parentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: props.controlVersion.parentVersion.parentVersion.id !== undefined ? props.controlVersion.parentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: props.controlVersion.parentVersion.parentVersion.modelName !== undefined ? props.controlVersion.parentVersion.parentVersion.modelName : undefined,
            version: props.controlVersion.parentVersion.parentVersion.version !== undefined ? props.controlVersion.parentVersion.parentVersion.version : undefined,
            status: props.controlVersion.parentVersion.parentVersion.status !== undefined ? props.controlVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: props.controlVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: props.controlVersion.parentVersion.parentVersion.performancePrecision !== undefined ? props.controlVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: props.controlVersion.parentVersion.parentVersion.performanceRecall !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: props.controlVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: props.controlVersion.parentVersion.parentVersion.performanceAuc !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: props.controlVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: props.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: props.controlVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: props.controlVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: props.controlVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: props.controlVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: props.controlVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.controlVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: props.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: props.controlVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.controlVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: props.controlVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.controlVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: props.controlVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: props.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: props.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: props.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: props.controlVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: props.controlVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: props.controlVersion.parentVersion.parentVersion.trainingDuration !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: props.controlVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: props.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: props.controlVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: props.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: props.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: props.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: props.controlVersion.parentVersion.parentVersion.deployedAt !== undefined ? props.controlVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: props.controlVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? props.controlVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: props.controlVersion.parentVersion.artifacts ? 
        Array.isArray(props.controlVersion.parentVersion.artifacts) && props.controlVersion.parentVersion.artifacts.length > 0 &&  props.controlVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.controlVersion.parentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.controlVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: props.controlVersion.parentVersion.abTestsAsControl ? 
        Array.isArray(props.controlVersion.parentVersion.abTestsAsControl) && props.controlVersion.parentVersion.abTestsAsControl.length > 0 &&  props.controlVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.controlVersion.parentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.controlVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: props.controlVersion.parentVersion.abTestsAsTreatment ? 
        Array.isArray(props.controlVersion.parentVersion.abTestsAsTreatment) && props.controlVersion.parentVersion.abTestsAsTreatment.length > 0 &&  props.controlVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.controlVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.controlVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: props.controlVersion.parentVersion.featureImportanceAnalyses ? 
        Array.isArray(props.controlVersion.parentVersion.featureImportanceAnalyses) && props.controlVersion.parentVersion.featureImportanceAnalyses.length > 0 &&  props.controlVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.controlVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.controlVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
    childVersions: props.controlVersion.childVersions ? 
      Array.isArray(props.controlVersion.childVersions) && props.controlVersion.childVersions.length > 0 &&  props.controlVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.controlVersion.childVersions.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.controlVersion.childVersions.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
        },
        create: {
          modelName: item.modelName !== undefined ? item.modelName : undefined,
          version: item.version !== undefined ? item.version : undefined,
          status: item.status !== undefined ? item.status : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
          performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
          performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
          performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
          trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
          deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
      childVersions: item.childVersions ? 
        Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
        Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
        Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
        Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
        Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }))
    } : undefined,
    artifacts: props.controlVersion.artifacts ? 
      Array.isArray(props.controlVersion.artifacts) && props.controlVersion.artifacts.length > 0 &&  props.controlVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.controlVersion.artifacts.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.controlVersion.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId 
             } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsTreatment: props.controlVersion.abTestsAsTreatment ? 
      Array.isArray(props.controlVersion.abTestsAsTreatment) && props.controlVersion.abTestsAsTreatment.length > 0 &&  props.controlVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.controlVersion.abTestsAsTreatment.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.controlVersion.abTestsAsTreatment.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      controlVersion: item.controlVersion ? 
        typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: props.controlVersion.featureImportanceAnalyses ? 
      Array.isArray(props.controlVersion.featureImportanceAnalyses) && props.controlVersion.featureImportanceAnalyses.length > 0 &&  props.controlVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.controlVersion.featureImportanceAnalyses.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.controlVersion.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
    }
  } : undefined,
  treatmentVersion: props.treatmentVersion ? 
  typeof props.treatmentVersion === 'object' && Object.keys(props.treatmentVersion).length === 1 && (Object.keys(props.treatmentVersion)[0] === 'id' || Object.keys(props.treatmentVersion)[0] === 'symbol')
? {
  connect: {
    id: props.treatmentVersion.id
  }
} : { upsert: {
      where: {
        id: props.treatmentVersion.id !== undefined ? {
            equals: props.treatmentVersion.id
          } : undefined,
        parentVersionId: props.treatmentVersion.parentVersionId !== undefined ? {
            equals: props.treatmentVersion.parentVersionId
          } : undefined,
      },
      update: {
        id: props.treatmentVersion.id !== undefined ? {
            set: props.treatmentVersion.id
          } : undefined,
        modelName: props.treatmentVersion.modelName !== undefined ? {
            set: props.treatmentVersion.modelName
          } : undefined,
        version: props.treatmentVersion.version !== undefined ? {
            set: props.treatmentVersion.version
          } : undefined,
        status: props.treatmentVersion.status !== undefined ? {
            set: props.treatmentVersion.status
          } : undefined,
        performanceAccuracy: props.treatmentVersion.performanceAccuracy !== undefined ? {
            set: props.treatmentVersion.performanceAccuracy
          } : undefined,
        performancePrecision: props.treatmentVersion.performancePrecision !== undefined ? {
            set: props.treatmentVersion.performancePrecision
          } : undefined,
        performanceRecall: props.treatmentVersion.performanceRecall !== undefined ? {
            set: props.treatmentVersion.performanceRecall
          } : undefined,
        performanceF1Score: props.treatmentVersion.performanceF1Score !== undefined ? {
            set: props.treatmentVersion.performanceF1Score
          } : undefined,
        performanceAuc: props.treatmentVersion.performanceAuc !== undefined ? {
            set: props.treatmentVersion.performanceAuc
          } : undefined,
        performanceSharpeRatio: props.treatmentVersion.performanceSharpeRatio !== undefined ? {
            set: props.treatmentVersion.performanceSharpeRatio
          } : undefined,
        performanceMaxDrawdown: props.treatmentVersion.performanceMaxDrawdown !== undefined ? {
            set: props.treatmentVersion.performanceMaxDrawdown
          } : undefined,
        performanceWinRate: props.treatmentVersion.performanceWinRate !== undefined ? {
            set: props.treatmentVersion.performanceWinRate
          } : undefined,
        performanceAvgReturn: props.treatmentVersion.performanceAvgReturn !== undefined ? {
            set: props.treatmentVersion.performanceAvgReturn
          } : undefined,
        performanceCalibrationScore: props.treatmentVersion.performanceCalibrationScore !== undefined ? {
            set: props.treatmentVersion.performanceCalibrationScore
          } : undefined,
        performanceStabilityScore: props.treatmentVersion.performanceStabilityScore !== undefined ? {
            set: props.treatmentVersion.performanceStabilityScore
          } : undefined,
        validationCrossValidationScore: props.treatmentVersion.validationCrossValidationScore !== undefined ? {
            set: props.treatmentVersion.validationCrossValidationScore
          } : undefined,
        validationOutOfSamplePerformance: props.treatmentVersion.validationOutOfSamplePerformance !== undefined ? {
            set: props.treatmentVersion.validationOutOfSamplePerformance
          } : undefined,
        validationBacktestResults: props.treatmentVersion.validationBacktestResults !== undefined ? {
            set: props.treatmentVersion.validationBacktestResults
          } : undefined,
        validationStatTestResults: props.treatmentVersion.validationStatTestResults !== undefined ? {
            set: props.treatmentVersion.validationStatTestResults
          } : undefined,
        deploymentEnvironment: props.treatmentVersion.deploymentEnvironment !== undefined ? {
            set: props.treatmentVersion.deploymentEnvironment
          } : undefined,
        deploymentTrafficAllocation: props.treatmentVersion.deploymentTrafficAllocation !== undefined ? {
            set: props.treatmentVersion.deploymentTrafficAllocation
          } : undefined,
        deploymentRolloutStrategy: props.treatmentVersion.deploymentRolloutStrategy !== undefined ? {
            set: props.treatmentVersion.deploymentRolloutStrategy
          } : undefined,
        deploymentHealthCheckConfig: props.treatmentVersion.deploymentHealthCheckConfig !== undefined ? {
            set: props.treatmentVersion.deploymentHealthCheckConfig
          } : undefined,
        trainingStartTime: props.treatmentVersion.trainingStartTime !== undefined ? {
            set: props.treatmentVersion.trainingStartTime
          } : undefined,
        trainingEndTime: props.treatmentVersion.trainingEndTime !== undefined ? {
            set: props.treatmentVersion.trainingEndTime
          } : undefined,
        trainingDuration: props.treatmentVersion.trainingDuration !== undefined ? {
            set: props.treatmentVersion.trainingDuration
          } : undefined,
        trainingDatasetSize: props.treatmentVersion.trainingDatasetSize !== undefined ? {
            set: props.treatmentVersion.trainingDatasetSize
          } : undefined,
        trainingFeaturesUsed: props.treatmentVersion.trainingFeaturesUsed !== undefined ? {
            set: props.treatmentVersion.trainingFeaturesUsed
          } : undefined,
        trainingHyperparameters: props.treatmentVersion.trainingHyperparameters !== undefined ? {
            set: props.treatmentVersion.trainingHyperparameters
          } : undefined,
        trainingResourcePeakMemoryMB: props.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? {
            set: props.treatmentVersion.trainingResourcePeakMemoryMB
          } : undefined,
        trainingResourceTotalCpuHours: props.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? {
            set: props.treatmentVersion.trainingResourceTotalCpuHours
          } : undefined,
        trainingResourceGpuHours: props.treatmentVersion.trainingResourceGpuHours !== undefined ? {
            set: props.treatmentVersion.trainingResourceGpuHours
          } : undefined,
        deployedAt: props.treatmentVersion.deployedAt !== undefined ? {
            set: props.treatmentVersion.deployedAt
          } : undefined,
        deprecatedAt: props.treatmentVersion.deprecatedAt !== undefined ? {
            set: props.treatmentVersion.deprecatedAt
          } : undefined,
    parentVersion: props.treatmentVersion.parentVersion ? 
    typeof props.treatmentVersion.parentVersion === 'object' && Object.keys(props.treatmentVersion.parentVersion).length === 1 && (Object.keys(props.treatmentVersion.parentVersion)[0] === 'id' || Object.keys(props.treatmentVersion.parentVersion)[0] === 'symbol')
? {
    connect: {
      id: props.treatmentVersion.parentVersion.id
    }
} : { upsert: {
        where: {
          id: props.treatmentVersion.parentVersion.id !== undefined ? {
              equals: props.treatmentVersion.parentVersion.id
            } : undefined,
          parentVersionId: props.treatmentVersion.parentVersion.parentVersionId !== undefined ? {
              equals: props.treatmentVersion.parentVersion.parentVersionId
            } : undefined,
        },
        update: {
          id: props.treatmentVersion.parentVersion.id !== undefined ? {
              set: props.treatmentVersion.parentVersion.id
            } : undefined,
          modelName: props.treatmentVersion.parentVersion.modelName !== undefined ? {
              set: props.treatmentVersion.parentVersion.modelName
            } : undefined,
          version: props.treatmentVersion.parentVersion.version !== undefined ? {
              set: props.treatmentVersion.parentVersion.version
            } : undefined,
          status: props.treatmentVersion.parentVersion.status !== undefined ? {
              set: props.treatmentVersion.parentVersion.status
            } : undefined,
          performanceAccuracy: props.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? {
              set: props.treatmentVersion.parentVersion.performanceAccuracy
            } : undefined,
          performancePrecision: props.treatmentVersion.parentVersion.performancePrecision !== undefined ? {
              set: props.treatmentVersion.parentVersion.performancePrecision
            } : undefined,
          performanceRecall: props.treatmentVersion.parentVersion.performanceRecall !== undefined ? {
              set: props.treatmentVersion.parentVersion.performanceRecall
            } : undefined,
          performanceF1Score: props.treatmentVersion.parentVersion.performanceF1Score !== undefined ? {
              set: props.treatmentVersion.parentVersion.performanceF1Score
            } : undefined,
          performanceAuc: props.treatmentVersion.parentVersion.performanceAuc !== undefined ? {
              set: props.treatmentVersion.parentVersion.performanceAuc
            } : undefined,
          performanceSharpeRatio: props.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? {
              set: props.treatmentVersion.parentVersion.performanceSharpeRatio
            } : undefined,
          performanceMaxDrawdown: props.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? {
              set: props.treatmentVersion.parentVersion.performanceMaxDrawdown
            } : undefined,
          performanceWinRate: props.treatmentVersion.parentVersion.performanceWinRate !== undefined ? {
              set: props.treatmentVersion.parentVersion.performanceWinRate
            } : undefined,
          performanceAvgReturn: props.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? {
              set: props.treatmentVersion.parentVersion.performanceAvgReturn
            } : undefined,
          performanceCalibrationScore: props.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? {
              set: props.treatmentVersion.parentVersion.performanceCalibrationScore
            } : undefined,
          performanceStabilityScore: props.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? {
              set: props.treatmentVersion.parentVersion.performanceStabilityScore
            } : undefined,
          validationCrossValidationScore: props.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? {
              set: props.treatmentVersion.parentVersion.validationCrossValidationScore
            } : undefined,
          validationOutOfSamplePerformance: props.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? {
              set: props.treatmentVersion.parentVersion.validationOutOfSamplePerformance
            } : undefined,
          validationBacktestResults: props.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? {
              set: props.treatmentVersion.parentVersion.validationBacktestResults
            } : undefined,
          validationStatTestResults: props.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? {
              set: props.treatmentVersion.parentVersion.validationStatTestResults
            } : undefined,
          deploymentEnvironment: props.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? {
              set: props.treatmentVersion.parentVersion.deploymentEnvironment
            } : undefined,
          deploymentTrafficAllocation: props.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? {
              set: props.treatmentVersion.parentVersion.deploymentTrafficAllocation
            } : undefined,
          deploymentRolloutStrategy: props.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? {
              set: props.treatmentVersion.parentVersion.deploymentRolloutStrategy
            } : undefined,
          deploymentHealthCheckConfig: props.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? {
              set: props.treatmentVersion.parentVersion.deploymentHealthCheckConfig
            } : undefined,
          trainingStartTime: props.treatmentVersion.parentVersion.trainingStartTime !== undefined ? {
              set: props.treatmentVersion.parentVersion.trainingStartTime
            } : undefined,
          trainingEndTime: props.treatmentVersion.parentVersion.trainingEndTime !== undefined ? {
              set: props.treatmentVersion.parentVersion.trainingEndTime
            } : undefined,
          trainingDuration: props.treatmentVersion.parentVersion.trainingDuration !== undefined ? {
              set: props.treatmentVersion.parentVersion.trainingDuration
            } : undefined,
          trainingDatasetSize: props.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? {
              set: props.treatmentVersion.parentVersion.trainingDatasetSize
            } : undefined,
          trainingFeaturesUsed: props.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? {
              set: props.treatmentVersion.parentVersion.trainingFeaturesUsed
            } : undefined,
          trainingHyperparameters: props.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? {
              set: props.treatmentVersion.parentVersion.trainingHyperparameters
            } : undefined,
          trainingResourcePeakMemoryMB: props.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
              set: props.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB
            } : undefined,
          trainingResourceTotalCpuHours: props.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
              set: props.treatmentVersion.parentVersion.trainingResourceTotalCpuHours
            } : undefined,
          trainingResourceGpuHours: props.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? {
              set: props.treatmentVersion.parentVersion.trainingResourceGpuHours
            } : undefined,
          deployedAt: props.treatmentVersion.parentVersion.deployedAt !== undefined ? {
              set: props.treatmentVersion.parentVersion.deployedAt
            } : undefined,
          deprecatedAt: props.treatmentVersion.parentVersion.deprecatedAt !== undefined ? {
              set: props.treatmentVersion.parentVersion.deprecatedAt
            } : undefined,
      parentVersion: props.treatmentVersion.parentVersion.parentVersion ? 
      typeof props.treatmentVersion.parentVersion.parentVersion === 'object' && Object.keys(props.treatmentVersion.parentVersion.parentVersion).length === 1 && (Object.keys(props.treatmentVersion.parentVersion.parentVersion)[0] === 'id' || Object.keys(props.treatmentVersion.parentVersion.parentVersion)[0] === 'symbol')
? {
      connect: {
        id: props.treatmentVersion.parentVersion.parentVersion.id
      }
} : { upsert: {
          where: {
            id: props.treatmentVersion.parentVersion.parentVersion.id !== undefined ? {
                equals: props.treatmentVersion.parentVersion.parentVersion.id
              } : undefined,
            parentVersionId: props.treatmentVersion.parentVersion.parentVersion.parentVersionId !== undefined ? {
                equals: props.treatmentVersion.parentVersion.parentVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: props.treatmentVersion.parentVersion.parentVersion.id !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.id
              } : undefined,
            modelName: props.treatmentVersion.parentVersion.parentVersion.modelName !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.modelName
              } : undefined,
            version: props.treatmentVersion.parentVersion.parentVersion.version !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.version
              } : undefined,
            status: props.treatmentVersion.parentVersion.parentVersion.status !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.status
              } : undefined,
            performanceAccuracy: props.treatmentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.performanceAccuracy
              } : undefined,
            performancePrecision: props.treatmentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.performancePrecision
              } : undefined,
            performanceRecall: props.treatmentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.performanceRecall
              } : undefined,
            performanceF1Score: props.treatmentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.performanceF1Score
              } : undefined,
            performanceAuc: props.treatmentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: props.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: props.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: props.treatmentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: props.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: props.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: props.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: props.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: props.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: props.treatmentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: props.treatmentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: props.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: props.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: props.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: props.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: props.treatmentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.trainingStartTime
              } : undefined,
            trainingEndTime: props.treatmentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.trainingEndTime
              } : undefined,
            trainingDuration: props.treatmentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: props.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: props.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: props.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: props.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: props.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: props.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: props.treatmentVersion.parentVersion.parentVersion.deployedAt !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.deployedAt
              } : undefined,
            deprecatedAt: props.treatmentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: props.treatmentVersion.parentVersion.parentVersion.modelName !== undefined ? props.treatmentVersion.parentVersion.parentVersion.modelName : undefined,
            version: props.treatmentVersion.parentVersion.parentVersion.version !== undefined ? props.treatmentVersion.parentVersion.parentVersion.version : undefined,
            status: props.treatmentVersion.parentVersion.parentVersion.status !== undefined ? props.treatmentVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: props.treatmentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: props.treatmentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: props.treatmentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: props.treatmentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: props.treatmentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: props.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: props.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: props.treatmentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: props.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: props.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: props.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: props.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: props.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: props.treatmentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: props.treatmentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: props.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: props.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: props.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: props.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: props.treatmentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: props.treatmentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: props.treatmentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: props.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: props.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: props.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: props.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: props.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: props.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: props.treatmentVersion.parentVersion.parentVersion.deployedAt !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: props.treatmentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: props.treatmentVersion.parentVersion.artifacts ? 
      Array.isArray(props.treatmentVersion.parentVersion.artifacts) && props.treatmentVersion.parentVersion.artifacts.length > 0 && props.treatmentVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: props.treatmentVersion.parentVersion.artifacts.map((item: any) => ({
        id: item.id
      }))
} : { upsert: props.treatmentVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: props.treatmentVersion.parentVersion.abTestsAsControl ? 
      Array.isArray(props.treatmentVersion.parentVersion.abTestsAsControl) && props.treatmentVersion.parentVersion.abTestsAsControl.length > 0 && props.treatmentVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: props.treatmentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
        id: item.id
      }))
} : { upsert: props.treatmentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: props.treatmentVersion.parentVersion.abTestsAsTreatment ? 
      Array.isArray(props.treatmentVersion.parentVersion.abTestsAsTreatment) && props.treatmentVersion.parentVersion.abTestsAsTreatment.length > 0 && props.treatmentVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: props.treatmentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
        id: item.id
      }))
} : { upsert: props.treatmentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: props.treatmentVersion.parentVersion.featureImportanceAnalyses ? 
      Array.isArray(props.treatmentVersion.parentVersion.featureImportanceAnalyses) && props.treatmentVersion.parentVersion.featureImportanceAnalyses.length > 0 && props.treatmentVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: props.treatmentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
        id: item.id
      }))
} : { upsert: props.treatmentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            analysisType: item.analysisType !== undefined ? {
                set: item.analysisType
              } : undefined,
            featureImportances: item.featureImportances !== undefined ? {
                set: item.featureImportances
              } : undefined,
            globalImportance: item.globalImportance !== undefined ? {
                set: item.globalImportance
              } : undefined,
            localImportance: item.localImportance !== undefined ? {
                set: item.localImportance
              } : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
                set: item.analysisMetadataSampleSize
              } : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
                set: item.analysisMetadataBaselineAccuracy
              } : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
                set: item.analysisMetadataAnalysisDate
              } : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
                set: item.analysisMetadataComputationTime
              } : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
                set: item.analysisMetadataAnalysisParameters
              } : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
                set: item.insightsTopFeatures
              } : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
                set: item.insightsRedundantFeatures
              } : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
                set: item.insightsUnexpectedImportances
              } : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
                set: item.insightsStabilityScore
              } : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? {
                set: item.insightsRecommendations
              } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
        create: {
          modelName: props.treatmentVersion.parentVersion.modelName !== undefined ? props.treatmentVersion.parentVersion.modelName : undefined,
          version: props.treatmentVersion.parentVersion.version !== undefined ? props.treatmentVersion.parentVersion.version : undefined,
          status: props.treatmentVersion.parentVersion.status !== undefined ? props.treatmentVersion.parentVersion.status : undefined,
          performanceAccuracy: props.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? props.treatmentVersion.parentVersion.performanceAccuracy : undefined,
          performancePrecision: props.treatmentVersion.parentVersion.performancePrecision !== undefined ? props.treatmentVersion.parentVersion.performancePrecision : undefined,
          performanceRecall: props.treatmentVersion.parentVersion.performanceRecall !== undefined ? props.treatmentVersion.parentVersion.performanceRecall : undefined,
          performanceF1Score: props.treatmentVersion.parentVersion.performanceF1Score !== undefined ? props.treatmentVersion.parentVersion.performanceF1Score : undefined,
          performanceAuc: props.treatmentVersion.parentVersion.performanceAuc !== undefined ? props.treatmentVersion.parentVersion.performanceAuc : undefined,
          performanceSharpeRatio: props.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.treatmentVersion.parentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: props.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.treatmentVersion.parentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: props.treatmentVersion.parentVersion.performanceWinRate !== undefined ? props.treatmentVersion.parentVersion.performanceWinRate : undefined,
          performanceAvgReturn: props.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? props.treatmentVersion.parentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: props.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.treatmentVersion.parentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: props.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? props.treatmentVersion.parentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: props.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.treatmentVersion.parentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: props.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.treatmentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: props.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? props.treatmentVersion.parentVersion.validationBacktestResults : undefined,
          validationStatTestResults: props.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? props.treatmentVersion.parentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: props.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? props.treatmentVersion.parentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: props.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.treatmentVersion.parentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: props.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.treatmentVersion.parentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: props.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.treatmentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: props.treatmentVersion.parentVersion.trainingStartTime !== undefined ? props.treatmentVersion.parentVersion.trainingStartTime : undefined,
          trainingEndTime: props.treatmentVersion.parentVersion.trainingEndTime !== undefined ? props.treatmentVersion.parentVersion.trainingEndTime : undefined,
          trainingDuration: props.treatmentVersion.parentVersion.trainingDuration !== undefined ? props.treatmentVersion.parentVersion.trainingDuration : undefined,
          trainingDatasetSize: props.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? props.treatmentVersion.parentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: props.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.treatmentVersion.parentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: props.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? props.treatmentVersion.parentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: props.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: props.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.treatmentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: props.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.treatmentVersion.parentVersion.trainingResourceGpuHours : undefined,
          deployedAt: props.treatmentVersion.parentVersion.deployedAt !== undefined ? props.treatmentVersion.parentVersion.deployedAt : undefined,
          deprecatedAt: props.treatmentVersion.parentVersion.deprecatedAt !== undefined ? props.treatmentVersion.parentVersion.deprecatedAt : undefined,
      parentVersion: props.treatmentVersion.parentVersion.parentVersion ? 
        typeof props.treatmentVersion.parentVersion.parentVersion === 'object' && Object.keys(props.treatmentVersion.parentVersion.parentVersion).length === 1 && Object.keys(props.treatmentVersion.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: props.treatmentVersion.parentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: props.treatmentVersion.parentVersion.parentVersion.id !== undefined ? props.treatmentVersion.parentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: props.treatmentVersion.parentVersion.parentVersion.modelName !== undefined ? props.treatmentVersion.parentVersion.parentVersion.modelName : undefined,
            version: props.treatmentVersion.parentVersion.parentVersion.version !== undefined ? props.treatmentVersion.parentVersion.parentVersion.version : undefined,
            status: props.treatmentVersion.parentVersion.parentVersion.status !== undefined ? props.treatmentVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: props.treatmentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: props.treatmentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: props.treatmentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: props.treatmentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: props.treatmentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: props.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: props.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: props.treatmentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: props.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: props.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: props.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: props.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: props.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: props.treatmentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: props.treatmentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: props.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: props.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: props.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: props.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: props.treatmentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: props.treatmentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: props.treatmentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: props.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: props.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: props.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: props.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: props.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: props.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: props.treatmentVersion.parentVersion.parentVersion.deployedAt !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: props.treatmentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: props.treatmentVersion.parentVersion.artifacts ? 
        Array.isArray(props.treatmentVersion.parentVersion.artifacts) && props.treatmentVersion.parentVersion.artifacts.length > 0 &&  props.treatmentVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.treatmentVersion.parentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.treatmentVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: props.treatmentVersion.parentVersion.abTestsAsControl ? 
        Array.isArray(props.treatmentVersion.parentVersion.abTestsAsControl) && props.treatmentVersion.parentVersion.abTestsAsControl.length > 0 &&  props.treatmentVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.treatmentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.treatmentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: props.treatmentVersion.parentVersion.abTestsAsTreatment ? 
        Array.isArray(props.treatmentVersion.parentVersion.abTestsAsTreatment) && props.treatmentVersion.parentVersion.abTestsAsTreatment.length > 0 &&  props.treatmentVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.treatmentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.treatmentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: props.treatmentVersion.parentVersion.featureImportanceAnalyses ? 
        Array.isArray(props.treatmentVersion.parentVersion.featureImportanceAnalyses) && props.treatmentVersion.parentVersion.featureImportanceAnalyses.length > 0 &&  props.treatmentVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.treatmentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.treatmentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
    childVersions: props.treatmentVersion.childVersions ? 
    Array.isArray(props.treatmentVersion.childVersions) && props.treatmentVersion.childVersions.length > 0 && props.treatmentVersion.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: props.treatmentVersion.childVersions.map((item: any) => ({
      id: item.id
    }))
} : { upsert: props.treatmentVersion.childVersions.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          parentVersionId: item.parentVersionId !== undefined ? {
              equals: item.parentVersionId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          modelName: item.modelName !== undefined ? {
              set: item.modelName
            } : undefined,
          version: item.version !== undefined ? {
              set: item.version
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? {
              set: item.performanceAccuracy
            } : undefined,
          performancePrecision: item.performancePrecision !== undefined ? {
              set: item.performancePrecision
            } : undefined,
          performanceRecall: item.performanceRecall !== undefined ? {
              set: item.performanceRecall
            } : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? {
              set: item.performanceF1Score
            } : undefined,
          performanceAuc: item.performanceAuc !== undefined ? {
              set: item.performanceAuc
            } : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
              set: item.performanceSharpeRatio
            } : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
              set: item.performanceMaxDrawdown
            } : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? {
              set: item.performanceWinRate
            } : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
              set: item.performanceAvgReturn
            } : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
              set: item.performanceCalibrationScore
            } : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
              set: item.performanceStabilityScore
            } : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
              set: item.validationCrossValidationScore
            } : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
              set: item.validationOutOfSamplePerformance
            } : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? {
              set: item.validationBacktestResults
            } : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? {
              set: item.validationStatTestResults
            } : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
              set: item.deploymentEnvironment
            } : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
              set: item.deploymentTrafficAllocation
            } : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
              set: item.deploymentRolloutStrategy
            } : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
              set: item.deploymentHealthCheckConfig
            } : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? {
              set: item.trainingStartTime
            } : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? {
              set: item.trainingEndTime
            } : undefined,
          trainingDuration: item.trainingDuration !== undefined ? {
              set: item.trainingDuration
            } : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
              set: item.trainingDatasetSize
            } : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
              set: item.trainingFeaturesUsed
            } : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
              set: item.trainingHyperparameters
            } : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
              set: item.trainingResourcePeakMemoryMB
            } : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
              set: item.trainingResourceTotalCpuHours
            } : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
              set: item.trainingResourceGpuHours
            } : undefined,
          deployedAt: item.deployedAt !== undefined ? {
              set: item.deployedAt
            } : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? {
              set: item.deprecatedAt
            } : undefined,
      childVersions: item.childVersions ? 
      Array.isArray(item.childVersions) && item.childVersions.length > 0 && item.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.childVersions.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            parentVersionId: item.parentVersionId !== undefined ? {
                equals: item.parentVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            modelName: item.modelName !== undefined ? {
                set: item.modelName
              } : undefined,
            version: item.version !== undefined ? {
                set: item.version
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? {
                set: item.performanceAccuracy
              } : undefined,
            performancePrecision: item.performancePrecision !== undefined ? {
                set: item.performancePrecision
              } : undefined,
            performanceRecall: item.performanceRecall !== undefined ? {
                set: item.performanceRecall
              } : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? {
                set: item.performanceF1Score
              } : undefined,
            performanceAuc: item.performanceAuc !== undefined ? {
                set: item.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
                set: item.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
                set: item.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? {
                set: item.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
                set: item.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
                set: item.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
                set: item.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
                set: item.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
                set: item.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? {
                set: item.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? {
                set: item.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
                set: item.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
                set: item.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
                set: item.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
                set: item.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? {
                set: item.trainingStartTime
              } : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? {
                set: item.trainingEndTime
              } : undefined,
            trainingDuration: item.trainingDuration !== undefined ? {
                set: item.trainingDuration
              } : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
                set: item.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
                set: item.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
                set: item.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
                set: item.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
                set: item.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.deployedAt !== undefined ? {
                set: item.deployedAt
              } : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? {
                set: item.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
      Array.isArray(item.artifacts) && item.artifacts.length > 0 && item.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.artifacts.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
      Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 && item.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.abTestsAsControl.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
      Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 && item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.abTestsAsTreatment.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
      Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 && item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.featureImportanceAnalyses.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            analysisType: item.analysisType !== undefined ? {
                set: item.analysisType
              } : undefined,
            featureImportances: item.featureImportances !== undefined ? {
                set: item.featureImportances
              } : undefined,
            globalImportance: item.globalImportance !== undefined ? {
                set: item.globalImportance
              } : undefined,
            localImportance: item.localImportance !== undefined ? {
                set: item.localImportance
              } : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
                set: item.analysisMetadataSampleSize
              } : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
                set: item.analysisMetadataBaselineAccuracy
              } : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
                set: item.analysisMetadataAnalysisDate
              } : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
                set: item.analysisMetadataComputationTime
              } : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
                set: item.analysisMetadataAnalysisParameters
              } : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
                set: item.insightsTopFeatures
              } : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
                set: item.insightsRedundantFeatures
              } : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
                set: item.insightsUnexpectedImportances
              } : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
                set: item.insightsStabilityScore
              } : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? {
                set: item.insightsRecommendations
              } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
        create: {
          modelName: item.modelName !== undefined ? item.modelName : undefined,
          version: item.version !== undefined ? item.version : undefined,
          status: item.status !== undefined ? item.status : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
          performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
          performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
          performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
          trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
          deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
      childVersions: item.childVersions ? 
        Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
        Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
        Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
        Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
        Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }))
    } : undefined,
    artifacts: props.treatmentVersion.artifacts ? 
    Array.isArray(props.treatmentVersion.artifacts) && props.treatmentVersion.artifacts.length > 0 && props.treatmentVersion.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: props.treatmentVersion.artifacts.map((item: any) => ({
      id: item.id
    }))
} : { upsert: props.treatmentVersion.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId
            } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
      modelArtifact: item.modelArtifact ? 
      typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && (Object.keys(item.modelArtifact)[0] === 'id' || Object.keys(item.modelArtifact)[0] === 'symbol')
? {
      connect: {
        id: item.modelArtifact.id
      }
} : { upsert: {
          where: {
            id: item.modelArtifact.id !== undefined ? {
                equals: item.modelArtifact.id
              } : undefined,
          },
          update: {
            id: item.modelArtifact.id !== undefined ? {
                set: item.modelArtifact.id
              } : undefined,
            modelName: item.modelArtifact.modelName !== undefined ? {
                set: item.modelArtifact.modelName
              } : undefined,
            version: item.modelArtifact.version !== undefined ? {
                set: item.modelArtifact.version
              } : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? {
                set: item.modelArtifact.artifactType
              } : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? {
                set: item.modelArtifact.storageUrl
              } : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? {
                set: item.modelArtifact.storageProvider
              } : undefined,
            fileSize: item.modelArtifact.fileSize !== undefined ? {
                set: item.modelArtifact.fileSize
              } : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? {
                set: item.modelArtifact.checksum
              } : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? {
                set: item.modelArtifact.compressionType
              } : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? {
                set: item.modelArtifact.metadataFramework
              } : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? {
                set: item.modelArtifact.metadataPythonVersion
              } : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? {
                set: item.modelArtifact.metadataDependencies
              } : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? {
                set: item.modelArtifact.metadataTrainingDate
              } : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? {
                set: item.modelArtifact.metadataDatasetSize
              } : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? {
                set: item.modelArtifact.metadataHyperparameters
              } : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsControl: props.treatmentVersion.abTestsAsControl ? 
    Array.isArray(props.treatmentVersion.abTestsAsControl) && props.treatmentVersion.abTestsAsControl.length > 0 && props.treatmentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: props.treatmentVersion.abTestsAsControl.map((item: any) => ({
      id: item.id
    }))
} : { upsert: props.treatmentVersion.abTestsAsControl.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name
            } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId
            } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          name: item.name !== undefined ? {
              set: item.name
            } : undefined,
          description: item.description !== undefined ? {
              set: item.description
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
              set: item.trafficSplitControlPercent
            } : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
              set: item.trafficSplitTreatmentPercent
            } : undefined,
          targetMetrics: item.targetMetrics !== undefined ? {
              set: item.targetMetrics
            } : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
              set: item.successCriteriaPrimaryMetric
            } : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
              set: item.successCriteriaMinimumDetectableEffect
            } : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
              set: item.successCriteriaSignificanceLevel
            } : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
              set: item.successCriteriaPowerLevel
            } : undefined,
          startDate: item.startDate !== undefined ? {
              set: item.startDate
            } : undefined,
          endDate: item.endDate !== undefined ? {
              set: item.endDate
            } : undefined,
          plannedDuration: item.plannedDuration !== undefined ? {
              set: item.plannedDuration
            } : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
              set: item.resultsControlMetrics
            } : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
              set: item.resultsTreatmentMetrics
            } : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
              set: item.resultsStatisticalSignificance
            } : undefined,
          resultsPValues: item.resultsPValues !== undefined ? {
              set: item.resultsPValues
            } : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
              set: item.resultsConfidenceIntervals
            } : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? {
              set: item.resultsRecommendation
            } : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? {
              set: item.metadataEnvironment
            } : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
              set: item.metadataEligibilityCriteria
            } : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
              set: item.metadataExclusionCriteria
            } : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
              set: item.metadataSegmentationRules
            } : undefined,
          completedAt: item.completedAt !== undefined ? {
              set: item.completedAt
            } : undefined,
      treatmentVersion: item.treatmentVersion ? 
      typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && (Object.keys(item.treatmentVersion)[0] === 'id' || Object.keys(item.treatmentVersion)[0] === 'symbol')
? {
      connect: {
        id: item.treatmentVersion.id
      }
} : { upsert: {
          where: {
            id: item.treatmentVersion.id !== undefined ? {
                equals: item.treatmentVersion.id
              } : undefined,
            parentVersionId: item.treatmentVersion.parentVersionId !== undefined ? {
                equals: item.treatmentVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: item.treatmentVersion.id !== undefined ? {
                set: item.treatmentVersion.id
              } : undefined,
            modelName: item.treatmentVersion.modelName !== undefined ? {
                set: item.treatmentVersion.modelName
              } : undefined,
            version: item.treatmentVersion.version !== undefined ? {
                set: item.treatmentVersion.version
              } : undefined,
            status: item.treatmentVersion.status !== undefined ? {
                set: item.treatmentVersion.status
              } : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? {
                set: item.treatmentVersion.performanceAccuracy
              } : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? {
                set: item.treatmentVersion.performancePrecision
              } : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? {
                set: item.treatmentVersion.performanceRecall
              } : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? {
                set: item.treatmentVersion.performanceF1Score
              } : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? {
                set: item.treatmentVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? {
                set: item.treatmentVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? {
                set: item.treatmentVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? {
                set: item.treatmentVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? {
                set: item.treatmentVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? {
                set: item.treatmentVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? {
                set: item.treatmentVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? {
                set: item.treatmentVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? {
                set: item.treatmentVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? {
                set: item.treatmentVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? {
                set: item.treatmentVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? {
                set: item.treatmentVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? {
                set: item.treatmentVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? {
                set: item.treatmentVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? {
                set: item.treatmentVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? {
                set: item.treatmentVersion.trainingStartTime
              } : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? {
                set: item.treatmentVersion.trainingEndTime
              } : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? {
                set: item.treatmentVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? {
                set: item.treatmentVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? {
                set: item.treatmentVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? {
                set: item.treatmentVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.treatmentVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: item.treatmentVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? {
                set: item.treatmentVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? {
                set: item.treatmentVersion.deployedAt
              } : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? {
                set: item.treatmentVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      treatmentVersion: item.treatmentVersion ? 
        typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: props.treatmentVersion.featureImportanceAnalyses ? 
    Array.isArray(props.treatmentVersion.featureImportanceAnalyses) && props.treatmentVersion.featureImportanceAnalyses.length > 0 && props.treatmentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: props.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
      id: item.id
    }))
} : { upsert: props.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          analysisType: item.analysisType !== undefined ? {
              set: item.analysisType
            } : undefined,
          featureImportances: item.featureImportances !== undefined ? {
              set: item.featureImportances
            } : undefined,
          globalImportance: item.globalImportance !== undefined ? {
              set: item.globalImportance
            } : undefined,
          localImportance: item.localImportance !== undefined ? {
              set: item.localImportance
            } : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
              set: item.analysisMetadataSampleSize
            } : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
              set: item.analysisMetadataBaselineAccuracy
            } : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
              set: item.analysisMetadataAnalysisDate
            } : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
              set: item.analysisMetadataComputationTime
            } : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
              set: item.analysisMetadataAnalysisParameters
            } : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
              set: item.insightsTopFeatures
            } : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
              set: item.insightsRedundantFeatures
            } : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
              set: item.insightsUnexpectedImportances
            } : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
              set: item.insightsStabilityScore
            } : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? {
              set: item.insightsRecommendations
            } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
      create: {
        modelName: props.treatmentVersion.modelName !== undefined ? props.treatmentVersion.modelName : undefined,
        version: props.treatmentVersion.version !== undefined ? props.treatmentVersion.version : undefined,
        status: props.treatmentVersion.status !== undefined ? props.treatmentVersion.status : undefined,
        performanceAccuracy: props.treatmentVersion.performanceAccuracy !== undefined ? props.treatmentVersion.performanceAccuracy : undefined,
        performancePrecision: props.treatmentVersion.performancePrecision !== undefined ? props.treatmentVersion.performancePrecision : undefined,
        performanceRecall: props.treatmentVersion.performanceRecall !== undefined ? props.treatmentVersion.performanceRecall : undefined,
        performanceF1Score: props.treatmentVersion.performanceF1Score !== undefined ? props.treatmentVersion.performanceF1Score : undefined,
        performanceAuc: props.treatmentVersion.performanceAuc !== undefined ? props.treatmentVersion.performanceAuc : undefined,
        performanceSharpeRatio: props.treatmentVersion.performanceSharpeRatio !== undefined ? props.treatmentVersion.performanceSharpeRatio : undefined,
        performanceMaxDrawdown: props.treatmentVersion.performanceMaxDrawdown !== undefined ? props.treatmentVersion.performanceMaxDrawdown : undefined,
        performanceWinRate: props.treatmentVersion.performanceWinRate !== undefined ? props.treatmentVersion.performanceWinRate : undefined,
        performanceAvgReturn: props.treatmentVersion.performanceAvgReturn !== undefined ? props.treatmentVersion.performanceAvgReturn : undefined,
        performanceCalibrationScore: props.treatmentVersion.performanceCalibrationScore !== undefined ? props.treatmentVersion.performanceCalibrationScore : undefined,
        performanceStabilityScore: props.treatmentVersion.performanceStabilityScore !== undefined ? props.treatmentVersion.performanceStabilityScore : undefined,
        validationCrossValidationScore: props.treatmentVersion.validationCrossValidationScore !== undefined ? props.treatmentVersion.validationCrossValidationScore : undefined,
        validationOutOfSamplePerformance: props.treatmentVersion.validationOutOfSamplePerformance !== undefined ? props.treatmentVersion.validationOutOfSamplePerformance : undefined,
        validationBacktestResults: props.treatmentVersion.validationBacktestResults !== undefined ? props.treatmentVersion.validationBacktestResults : undefined,
        validationStatTestResults: props.treatmentVersion.validationStatTestResults !== undefined ? props.treatmentVersion.validationStatTestResults : undefined,
        deploymentEnvironment: props.treatmentVersion.deploymentEnvironment !== undefined ? props.treatmentVersion.deploymentEnvironment : undefined,
        deploymentTrafficAllocation: props.treatmentVersion.deploymentTrafficAllocation !== undefined ? props.treatmentVersion.deploymentTrafficAllocation : undefined,
        deploymentRolloutStrategy: props.treatmentVersion.deploymentRolloutStrategy !== undefined ? props.treatmentVersion.deploymentRolloutStrategy : undefined,
        deploymentHealthCheckConfig: props.treatmentVersion.deploymentHealthCheckConfig !== undefined ? props.treatmentVersion.deploymentHealthCheckConfig : undefined,
        trainingStartTime: props.treatmentVersion.trainingStartTime !== undefined ? props.treatmentVersion.trainingStartTime : undefined,
        trainingEndTime: props.treatmentVersion.trainingEndTime !== undefined ? props.treatmentVersion.trainingEndTime : undefined,
        trainingDuration: props.treatmentVersion.trainingDuration !== undefined ? props.treatmentVersion.trainingDuration : undefined,
        trainingDatasetSize: props.treatmentVersion.trainingDatasetSize !== undefined ? props.treatmentVersion.trainingDatasetSize : undefined,
        trainingFeaturesUsed: props.treatmentVersion.trainingFeaturesUsed !== undefined ? props.treatmentVersion.trainingFeaturesUsed : undefined,
        trainingHyperparameters: props.treatmentVersion.trainingHyperparameters !== undefined ? props.treatmentVersion.trainingHyperparameters : undefined,
        trainingResourcePeakMemoryMB: props.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? props.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
        trainingResourceTotalCpuHours: props.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? props.treatmentVersion.trainingResourceTotalCpuHours : undefined,
        trainingResourceGpuHours: props.treatmentVersion.trainingResourceGpuHours !== undefined ? props.treatmentVersion.trainingResourceGpuHours : undefined,
        deployedAt: props.treatmentVersion.deployedAt !== undefined ? props.treatmentVersion.deployedAt : undefined,
        deprecatedAt: props.treatmentVersion.deprecatedAt !== undefined ? props.treatmentVersion.deprecatedAt : undefined,
    parentVersion: props.treatmentVersion.parentVersion ? 
      typeof props.treatmentVersion.parentVersion === 'object' && Object.keys(props.treatmentVersion.parentVersion).length === 1 && Object.keys(props.treatmentVersion.parentVersion)[0] === 'id'
    ? { connect: {
          id: props.treatmentVersion.parentVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: props.treatmentVersion.parentVersion.id !== undefined ? props.treatmentVersion.parentVersion.id : undefined,
        },
        create: {
          modelName: props.treatmentVersion.parentVersion.modelName !== undefined ? props.treatmentVersion.parentVersion.modelName : undefined,
          version: props.treatmentVersion.parentVersion.version !== undefined ? props.treatmentVersion.parentVersion.version : undefined,
          status: props.treatmentVersion.parentVersion.status !== undefined ? props.treatmentVersion.parentVersion.status : undefined,
          performanceAccuracy: props.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? props.treatmentVersion.parentVersion.performanceAccuracy : undefined,
          performancePrecision: props.treatmentVersion.parentVersion.performancePrecision !== undefined ? props.treatmentVersion.parentVersion.performancePrecision : undefined,
          performanceRecall: props.treatmentVersion.parentVersion.performanceRecall !== undefined ? props.treatmentVersion.parentVersion.performanceRecall : undefined,
          performanceF1Score: props.treatmentVersion.parentVersion.performanceF1Score !== undefined ? props.treatmentVersion.parentVersion.performanceF1Score : undefined,
          performanceAuc: props.treatmentVersion.parentVersion.performanceAuc !== undefined ? props.treatmentVersion.parentVersion.performanceAuc : undefined,
          performanceSharpeRatio: props.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.treatmentVersion.parentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: props.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.treatmentVersion.parentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: props.treatmentVersion.parentVersion.performanceWinRate !== undefined ? props.treatmentVersion.parentVersion.performanceWinRate : undefined,
          performanceAvgReturn: props.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? props.treatmentVersion.parentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: props.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.treatmentVersion.parentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: props.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? props.treatmentVersion.parentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: props.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.treatmentVersion.parentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: props.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.treatmentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: props.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? props.treatmentVersion.parentVersion.validationBacktestResults : undefined,
          validationStatTestResults: props.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? props.treatmentVersion.parentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: props.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? props.treatmentVersion.parentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: props.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.treatmentVersion.parentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: props.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.treatmentVersion.parentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: props.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.treatmentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: props.treatmentVersion.parentVersion.trainingStartTime !== undefined ? props.treatmentVersion.parentVersion.trainingStartTime : undefined,
          trainingEndTime: props.treatmentVersion.parentVersion.trainingEndTime !== undefined ? props.treatmentVersion.parentVersion.trainingEndTime : undefined,
          trainingDuration: props.treatmentVersion.parentVersion.trainingDuration !== undefined ? props.treatmentVersion.parentVersion.trainingDuration : undefined,
          trainingDatasetSize: props.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? props.treatmentVersion.parentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: props.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.treatmentVersion.parentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: props.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? props.treatmentVersion.parentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: props.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: props.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.treatmentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: props.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.treatmentVersion.parentVersion.trainingResourceGpuHours : undefined,
          deployedAt: props.treatmentVersion.parentVersion.deployedAt !== undefined ? props.treatmentVersion.parentVersion.deployedAt : undefined,
          deprecatedAt: props.treatmentVersion.parentVersion.deprecatedAt !== undefined ? props.treatmentVersion.parentVersion.deprecatedAt : undefined,
      parentVersion: props.treatmentVersion.parentVersion.parentVersion ? 
        typeof props.treatmentVersion.parentVersion.parentVersion === 'object' && Object.keys(props.treatmentVersion.parentVersion.parentVersion).length === 1 && Object.keys(props.treatmentVersion.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: props.treatmentVersion.parentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: props.treatmentVersion.parentVersion.parentVersion.id !== undefined ? props.treatmentVersion.parentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: props.treatmentVersion.parentVersion.parentVersion.modelName !== undefined ? props.treatmentVersion.parentVersion.parentVersion.modelName : undefined,
            version: props.treatmentVersion.parentVersion.parentVersion.version !== undefined ? props.treatmentVersion.parentVersion.parentVersion.version : undefined,
            status: props.treatmentVersion.parentVersion.parentVersion.status !== undefined ? props.treatmentVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: props.treatmentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: props.treatmentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: props.treatmentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: props.treatmentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: props.treatmentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: props.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: props.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: props.treatmentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: props.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: props.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: props.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: props.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: props.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: props.treatmentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: props.treatmentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: props.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: props.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: props.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: props.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: props.treatmentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: props.treatmentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: props.treatmentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: props.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: props.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: props.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: props.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: props.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: props.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: props.treatmentVersion.parentVersion.parentVersion.deployedAt !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: props.treatmentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: props.treatmentVersion.parentVersion.artifacts ? 
        Array.isArray(props.treatmentVersion.parentVersion.artifacts) && props.treatmentVersion.parentVersion.artifacts.length > 0 &&  props.treatmentVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.treatmentVersion.parentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.treatmentVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: props.treatmentVersion.parentVersion.abTestsAsControl ? 
        Array.isArray(props.treatmentVersion.parentVersion.abTestsAsControl) && props.treatmentVersion.parentVersion.abTestsAsControl.length > 0 &&  props.treatmentVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.treatmentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.treatmentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: props.treatmentVersion.parentVersion.abTestsAsTreatment ? 
        Array.isArray(props.treatmentVersion.parentVersion.abTestsAsTreatment) && props.treatmentVersion.parentVersion.abTestsAsTreatment.length > 0 &&  props.treatmentVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.treatmentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.treatmentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: props.treatmentVersion.parentVersion.featureImportanceAnalyses ? 
        Array.isArray(props.treatmentVersion.parentVersion.featureImportanceAnalyses) && props.treatmentVersion.parentVersion.featureImportanceAnalyses.length > 0 &&  props.treatmentVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.treatmentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.treatmentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
    childVersions: props.treatmentVersion.childVersions ? 
      Array.isArray(props.treatmentVersion.childVersions) && props.treatmentVersion.childVersions.length > 0 &&  props.treatmentVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.treatmentVersion.childVersions.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.treatmentVersion.childVersions.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
        },
        create: {
          modelName: item.modelName !== undefined ? item.modelName : undefined,
          version: item.version !== undefined ? item.version : undefined,
          status: item.status !== undefined ? item.status : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
          performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
          performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
          performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
          trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
          deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
      childVersions: item.childVersions ? 
        Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
        Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
        Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
        Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
        Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }))
    } : undefined,
    artifacts: props.treatmentVersion.artifacts ? 
      Array.isArray(props.treatmentVersion.artifacts) && props.treatmentVersion.artifacts.length > 0 &&  props.treatmentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.treatmentVersion.artifacts.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.treatmentVersion.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId 
             } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsControl: props.treatmentVersion.abTestsAsControl ? 
      Array.isArray(props.treatmentVersion.abTestsAsControl) && props.treatmentVersion.abTestsAsControl.length > 0 &&  props.treatmentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.treatmentVersion.abTestsAsControl.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.treatmentVersion.abTestsAsControl.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      treatmentVersion: item.treatmentVersion ? 
        typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: props.treatmentVersion.featureImportanceAnalyses ? 
      Array.isArray(props.treatmentVersion.featureImportanceAnalyses) && props.treatmentVersion.featureImportanceAnalyses.length > 0 &&  props.treatmentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
    }
  } : undefined,
      },
        };

        const filteredVariables = removeUndefinedProps(variables);

        const response = await client.mutate({
          mutation: UPDATE_ONE_ABTEST,
          variables: filteredVariables,
          // Don't cache mutations, but ensure we're using the freshest context
          fetchPolicy: 'no-cache'
        });

        if (response.errors && response.errors.length > 0) throw new Error(response.errors[0].message);
        if (response && response.data && response.data.updateOneABTest) {
          return response.data.updateOneABTest;
        } else {
          return null as any;
        }
      } catch (error: any) {
        lastError = error;

        // Check if this is a database connection error that we should retry
        const isConnectionError =
          error.message?.includes('Server has closed the connection') ||
          error.message?.includes('Cannot reach database server') ||
          error.message?.includes('Connection timed out') ||
          error.message?.includes('Accelerate') || // Prisma Accelerate proxy errors
          (error.networkError && error.networkError.message?.includes('Failed to fetch'));

        if (isConnectionError && retryCount < MAX_RETRIES - 1) {
          retryCount++;
          const delay = Math.pow(2, retryCount) * 100; // Exponential backoff: 200ms, 400ms, 800ms
          console.warn("Database connection error, retrying...");
          await new Promise(resolve => setTimeout(resolve, delay));
          continue;
        }

        // Log the error and rethrow
        console.error("Database error occurred:", error);
        throw error;
      }
    }

    // If we exhausted retries, throw the last error
    throw lastError;
  },

  /**
   * Upsert a single ABTest record.
   * Enhanced with connection resilience against Prisma connection errors.
   * @param props - Properties to update.
   * @param globalClient - Apollo Client instance.
   * @returns The updated ABTest or null.
   */
  async upsert(props: ABTestType, globalClient?: ApolloClientType<NormalizedCacheObject>): Promise<ABTestType> {
    // Maximum number of retries for database connection issues
    const MAX_RETRIES = 3;
    let retryCount = 0;
    let lastError: any = null;

    // Retry loop to handle potential database connection issues
    while (retryCount < MAX_RETRIES) {
      try {
        const [modules, client] = await Promise.all([
          getApolloModules(),
          globalClient
            ? Promise.resolve(globalClient)
            : importedClient
        ]);

        const { gql, ApolloError } = modules;

        const UPSERT_ONE_ABTEST = gql`
          mutation upsertOneABTest($where: ABTestWhereUniqueInput!, $create: ABTestCreateInput!, $update: ABTestUpdateInput!) {
            upsertOneABTest(where: $where, create: $create, update: $update) {
              ${selectionSet}
            }
          }`;

        const variables = {
          where: {
            id: props.id !== undefined ? props.id : undefined,
  name: props.name !== undefined ? {
    equals: props.name 
  } : undefined,
  modelVersionAId: props.modelVersionAId !== undefined ? {
    equals: props.modelVersionAId 
  } : undefined,
  modelVersionBId: props.modelVersionBId !== undefined ? {
    equals: props.modelVersionBId 
  } : undefined,
      },
          create: {
        name: props.name !== undefined ? props.name : undefined,
  description: props.description !== undefined ? props.description : undefined,
  status: props.status !== undefined ? props.status : undefined,
  trafficSplitControlPercent: props.trafficSplitControlPercent !== undefined ? props.trafficSplitControlPercent : undefined,
  trafficSplitTreatmentPercent: props.trafficSplitTreatmentPercent !== undefined ? props.trafficSplitTreatmentPercent : undefined,
  targetMetrics: props.targetMetrics !== undefined ? props.targetMetrics : undefined,
  successCriteriaPrimaryMetric: props.successCriteriaPrimaryMetric !== undefined ? props.successCriteriaPrimaryMetric : undefined,
  successCriteriaMinimumDetectableEffect: props.successCriteriaMinimumDetectableEffect !== undefined ? props.successCriteriaMinimumDetectableEffect : undefined,
  successCriteriaSignificanceLevel: props.successCriteriaSignificanceLevel !== undefined ? props.successCriteriaSignificanceLevel : undefined,
  successCriteriaPowerLevel: props.successCriteriaPowerLevel !== undefined ? props.successCriteriaPowerLevel : undefined,
  startDate: props.startDate !== undefined ? props.startDate : undefined,
  endDate: props.endDate !== undefined ? props.endDate : undefined,
  resultsControlMetrics: props.resultsControlMetrics !== undefined ? props.resultsControlMetrics : undefined,
  resultsTreatmentMetrics: props.resultsTreatmentMetrics !== undefined ? props.resultsTreatmentMetrics : undefined,
  resultsStatisticalSignificance: props.resultsStatisticalSignificance !== undefined ? props.resultsStatisticalSignificance : undefined,
  resultsPValues: props.resultsPValues !== undefined ? props.resultsPValues : undefined,
  resultsConfidenceIntervals: props.resultsConfidenceIntervals !== undefined ? props.resultsConfidenceIntervals : undefined,
  resultsRecommendation: props.resultsRecommendation !== undefined ? props.resultsRecommendation : undefined,
  metadataEnvironment: props.metadataEnvironment !== undefined ? props.metadataEnvironment : undefined,
  metadataEligibilityCriteria: props.metadataEligibilityCriteria !== undefined ? props.metadataEligibilityCriteria : undefined,
  metadataExclusionCriteria: props.metadataExclusionCriteria !== undefined ? props.metadataExclusionCriteria : undefined,
  metadataSegmentationRules: props.metadataSegmentationRules !== undefined ? props.metadataSegmentationRules : undefined,
  completedAt: props.completedAt !== undefined ? props.completedAt : undefined,
  controlVersion: props.controlVersion ? 
    typeof props.controlVersion === 'object' && Object.keys(props.controlVersion).length === 1 && Object.keys(props.controlVersion)[0] === 'id'
    ? { connect: {
        id: props.controlVersion.id
        }
      }
    : { connectOrCreate: {
      where: {
        id: props.controlVersion.id !== undefined ? props.controlVersion.id : undefined,
      },
      create: {
        modelName: props.controlVersion.modelName !== undefined ? props.controlVersion.modelName : undefined,
        version: props.controlVersion.version !== undefined ? props.controlVersion.version : undefined,
        status: props.controlVersion.status !== undefined ? props.controlVersion.status : undefined,
        performanceAccuracy: props.controlVersion.performanceAccuracy !== undefined ? props.controlVersion.performanceAccuracy : undefined,
        performancePrecision: props.controlVersion.performancePrecision !== undefined ? props.controlVersion.performancePrecision : undefined,
        performanceRecall: props.controlVersion.performanceRecall !== undefined ? props.controlVersion.performanceRecall : undefined,
        performanceF1Score: props.controlVersion.performanceF1Score !== undefined ? props.controlVersion.performanceF1Score : undefined,
        performanceAuc: props.controlVersion.performanceAuc !== undefined ? props.controlVersion.performanceAuc : undefined,
        performanceSharpeRatio: props.controlVersion.performanceSharpeRatio !== undefined ? props.controlVersion.performanceSharpeRatio : undefined,
        performanceMaxDrawdown: props.controlVersion.performanceMaxDrawdown !== undefined ? props.controlVersion.performanceMaxDrawdown : undefined,
        performanceWinRate: props.controlVersion.performanceWinRate !== undefined ? props.controlVersion.performanceWinRate : undefined,
        performanceAvgReturn: props.controlVersion.performanceAvgReturn !== undefined ? props.controlVersion.performanceAvgReturn : undefined,
        performanceCalibrationScore: props.controlVersion.performanceCalibrationScore !== undefined ? props.controlVersion.performanceCalibrationScore : undefined,
        performanceStabilityScore: props.controlVersion.performanceStabilityScore !== undefined ? props.controlVersion.performanceStabilityScore : undefined,
        validationCrossValidationScore: props.controlVersion.validationCrossValidationScore !== undefined ? props.controlVersion.validationCrossValidationScore : undefined,
        validationOutOfSamplePerformance: props.controlVersion.validationOutOfSamplePerformance !== undefined ? props.controlVersion.validationOutOfSamplePerformance : undefined,
        validationBacktestResults: props.controlVersion.validationBacktestResults !== undefined ? props.controlVersion.validationBacktestResults : undefined,
        validationStatTestResults: props.controlVersion.validationStatTestResults !== undefined ? props.controlVersion.validationStatTestResults : undefined,
        deploymentEnvironment: props.controlVersion.deploymentEnvironment !== undefined ? props.controlVersion.deploymentEnvironment : undefined,
        deploymentTrafficAllocation: props.controlVersion.deploymentTrafficAllocation !== undefined ? props.controlVersion.deploymentTrafficAllocation : undefined,
        deploymentRolloutStrategy: props.controlVersion.deploymentRolloutStrategy !== undefined ? props.controlVersion.deploymentRolloutStrategy : undefined,
        deploymentHealthCheckConfig: props.controlVersion.deploymentHealthCheckConfig !== undefined ? props.controlVersion.deploymentHealthCheckConfig : undefined,
        trainingStartTime: props.controlVersion.trainingStartTime !== undefined ? props.controlVersion.trainingStartTime : undefined,
        trainingEndTime: props.controlVersion.trainingEndTime !== undefined ? props.controlVersion.trainingEndTime : undefined,
        trainingDuration: props.controlVersion.trainingDuration !== undefined ? props.controlVersion.trainingDuration : undefined,
        trainingDatasetSize: props.controlVersion.trainingDatasetSize !== undefined ? props.controlVersion.trainingDatasetSize : undefined,
        trainingFeaturesUsed: props.controlVersion.trainingFeaturesUsed !== undefined ? props.controlVersion.trainingFeaturesUsed : undefined,
        trainingHyperparameters: props.controlVersion.trainingHyperparameters !== undefined ? props.controlVersion.trainingHyperparameters : undefined,
        trainingResourcePeakMemoryMB: props.controlVersion.trainingResourcePeakMemoryMB !== undefined ? props.controlVersion.trainingResourcePeakMemoryMB : undefined,
        trainingResourceTotalCpuHours: props.controlVersion.trainingResourceTotalCpuHours !== undefined ? props.controlVersion.trainingResourceTotalCpuHours : undefined,
        trainingResourceGpuHours: props.controlVersion.trainingResourceGpuHours !== undefined ? props.controlVersion.trainingResourceGpuHours : undefined,
        deployedAt: props.controlVersion.deployedAt !== undefined ? props.controlVersion.deployedAt : undefined,
        deprecatedAt: props.controlVersion.deprecatedAt !== undefined ? props.controlVersion.deprecatedAt : undefined,
    parentVersion: props.controlVersion.parentVersion ? 
      typeof props.controlVersion.parentVersion === 'object' && Object.keys(props.controlVersion.parentVersion).length === 1 && Object.keys(props.controlVersion.parentVersion)[0] === 'id'
    ? { connect: {
          id: props.controlVersion.parentVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: props.controlVersion.parentVersion.id !== undefined ? props.controlVersion.parentVersion.id : undefined,
        },
        create: {
          modelName: props.controlVersion.parentVersion.modelName !== undefined ? props.controlVersion.parentVersion.modelName : undefined,
          version: props.controlVersion.parentVersion.version !== undefined ? props.controlVersion.parentVersion.version : undefined,
          status: props.controlVersion.parentVersion.status !== undefined ? props.controlVersion.parentVersion.status : undefined,
          performanceAccuracy: props.controlVersion.parentVersion.performanceAccuracy !== undefined ? props.controlVersion.parentVersion.performanceAccuracy : undefined,
          performancePrecision: props.controlVersion.parentVersion.performancePrecision !== undefined ? props.controlVersion.parentVersion.performancePrecision : undefined,
          performanceRecall: props.controlVersion.parentVersion.performanceRecall !== undefined ? props.controlVersion.parentVersion.performanceRecall : undefined,
          performanceF1Score: props.controlVersion.parentVersion.performanceF1Score !== undefined ? props.controlVersion.parentVersion.performanceF1Score : undefined,
          performanceAuc: props.controlVersion.parentVersion.performanceAuc !== undefined ? props.controlVersion.parentVersion.performanceAuc : undefined,
          performanceSharpeRatio: props.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? props.controlVersion.parentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: props.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.controlVersion.parentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: props.controlVersion.parentVersion.performanceWinRate !== undefined ? props.controlVersion.parentVersion.performanceWinRate : undefined,
          performanceAvgReturn: props.controlVersion.parentVersion.performanceAvgReturn !== undefined ? props.controlVersion.parentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: props.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? props.controlVersion.parentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: props.controlVersion.parentVersion.performanceStabilityScore !== undefined ? props.controlVersion.parentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: props.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? props.controlVersion.parentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: props.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.controlVersion.parentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: props.controlVersion.parentVersion.validationBacktestResults !== undefined ? props.controlVersion.parentVersion.validationBacktestResults : undefined,
          validationStatTestResults: props.controlVersion.parentVersion.validationStatTestResults !== undefined ? props.controlVersion.parentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: props.controlVersion.parentVersion.deploymentEnvironment !== undefined ? props.controlVersion.parentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: props.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.controlVersion.parentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: props.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.controlVersion.parentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: props.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.controlVersion.parentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: props.controlVersion.parentVersion.trainingStartTime !== undefined ? props.controlVersion.parentVersion.trainingStartTime : undefined,
          trainingEndTime: props.controlVersion.parentVersion.trainingEndTime !== undefined ? props.controlVersion.parentVersion.trainingEndTime : undefined,
          trainingDuration: props.controlVersion.parentVersion.trainingDuration !== undefined ? props.controlVersion.parentVersion.trainingDuration : undefined,
          trainingDatasetSize: props.controlVersion.parentVersion.trainingDatasetSize !== undefined ? props.controlVersion.parentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: props.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.controlVersion.parentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: props.controlVersion.parentVersion.trainingHyperparameters !== undefined ? props.controlVersion.parentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: props.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.controlVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: props.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.controlVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: props.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.controlVersion.parentVersion.trainingResourceGpuHours : undefined,
          deployedAt: props.controlVersion.parentVersion.deployedAt !== undefined ? props.controlVersion.parentVersion.deployedAt : undefined,
          deprecatedAt: props.controlVersion.parentVersion.deprecatedAt !== undefined ? props.controlVersion.parentVersion.deprecatedAt : undefined,
      parentVersion: props.controlVersion.parentVersion.parentVersion ? 
        typeof props.controlVersion.parentVersion.parentVersion === 'object' && Object.keys(props.controlVersion.parentVersion.parentVersion).length === 1 && Object.keys(props.controlVersion.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: props.controlVersion.parentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: props.controlVersion.parentVersion.parentVersion.id !== undefined ? props.controlVersion.parentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: props.controlVersion.parentVersion.parentVersion.modelName !== undefined ? props.controlVersion.parentVersion.parentVersion.modelName : undefined,
            version: props.controlVersion.parentVersion.parentVersion.version !== undefined ? props.controlVersion.parentVersion.parentVersion.version : undefined,
            status: props.controlVersion.parentVersion.parentVersion.status !== undefined ? props.controlVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: props.controlVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: props.controlVersion.parentVersion.parentVersion.performancePrecision !== undefined ? props.controlVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: props.controlVersion.parentVersion.parentVersion.performanceRecall !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: props.controlVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: props.controlVersion.parentVersion.parentVersion.performanceAuc !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: props.controlVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: props.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: props.controlVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: props.controlVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: props.controlVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: props.controlVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: props.controlVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.controlVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: props.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: props.controlVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.controlVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: props.controlVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.controlVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: props.controlVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: props.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: props.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: props.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: props.controlVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: props.controlVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: props.controlVersion.parentVersion.parentVersion.trainingDuration !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: props.controlVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: props.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: props.controlVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: props.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: props.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: props.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: props.controlVersion.parentVersion.parentVersion.deployedAt !== undefined ? props.controlVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: props.controlVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? props.controlVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: props.controlVersion.parentVersion.artifacts ? 
        Array.isArray(props.controlVersion.parentVersion.artifacts) && props.controlVersion.parentVersion.artifacts.length > 0 &&  props.controlVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.controlVersion.parentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.controlVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: props.controlVersion.parentVersion.abTestsAsControl ? 
        Array.isArray(props.controlVersion.parentVersion.abTestsAsControl) && props.controlVersion.parentVersion.abTestsAsControl.length > 0 &&  props.controlVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.controlVersion.parentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.controlVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: props.controlVersion.parentVersion.abTestsAsTreatment ? 
        Array.isArray(props.controlVersion.parentVersion.abTestsAsTreatment) && props.controlVersion.parentVersion.abTestsAsTreatment.length > 0 &&  props.controlVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.controlVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.controlVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: props.controlVersion.parentVersion.featureImportanceAnalyses ? 
        Array.isArray(props.controlVersion.parentVersion.featureImportanceAnalyses) && props.controlVersion.parentVersion.featureImportanceAnalyses.length > 0 &&  props.controlVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.controlVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.controlVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
    childVersions: props.controlVersion.childVersions ? 
      Array.isArray(props.controlVersion.childVersions) && props.controlVersion.childVersions.length > 0 &&  props.controlVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.controlVersion.childVersions.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.controlVersion.childVersions.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
        },
        create: {
          modelName: item.modelName !== undefined ? item.modelName : undefined,
          version: item.version !== undefined ? item.version : undefined,
          status: item.status !== undefined ? item.status : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
          performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
          performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
          performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
          trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
          deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
      childVersions: item.childVersions ? 
        Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
        Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
        Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
        Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
        Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }))
    } : undefined,
    artifacts: props.controlVersion.artifacts ? 
      Array.isArray(props.controlVersion.artifacts) && props.controlVersion.artifacts.length > 0 &&  props.controlVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.controlVersion.artifacts.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.controlVersion.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId 
             } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsTreatment: props.controlVersion.abTestsAsTreatment ? 
      Array.isArray(props.controlVersion.abTestsAsTreatment) && props.controlVersion.abTestsAsTreatment.length > 0 &&  props.controlVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.controlVersion.abTestsAsTreatment.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.controlVersion.abTestsAsTreatment.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      controlVersion: item.controlVersion ? 
        typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: props.controlVersion.featureImportanceAnalyses ? 
      Array.isArray(props.controlVersion.featureImportanceAnalyses) && props.controlVersion.featureImportanceAnalyses.length > 0 &&  props.controlVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.controlVersion.featureImportanceAnalyses.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.controlVersion.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
    }
  } : undefined,
  treatmentVersion: props.treatmentVersion ? 
    typeof props.treatmentVersion === 'object' && Object.keys(props.treatmentVersion).length === 1 && Object.keys(props.treatmentVersion)[0] === 'id'
    ? { connect: {
        id: props.treatmentVersion.id
        }
      }
    : { connectOrCreate: {
      where: {
        id: props.treatmentVersion.id !== undefined ? props.treatmentVersion.id : undefined,
      },
      create: {
        modelName: props.treatmentVersion.modelName !== undefined ? props.treatmentVersion.modelName : undefined,
        version: props.treatmentVersion.version !== undefined ? props.treatmentVersion.version : undefined,
        status: props.treatmentVersion.status !== undefined ? props.treatmentVersion.status : undefined,
        performanceAccuracy: props.treatmentVersion.performanceAccuracy !== undefined ? props.treatmentVersion.performanceAccuracy : undefined,
        performancePrecision: props.treatmentVersion.performancePrecision !== undefined ? props.treatmentVersion.performancePrecision : undefined,
        performanceRecall: props.treatmentVersion.performanceRecall !== undefined ? props.treatmentVersion.performanceRecall : undefined,
        performanceF1Score: props.treatmentVersion.performanceF1Score !== undefined ? props.treatmentVersion.performanceF1Score : undefined,
        performanceAuc: props.treatmentVersion.performanceAuc !== undefined ? props.treatmentVersion.performanceAuc : undefined,
        performanceSharpeRatio: props.treatmentVersion.performanceSharpeRatio !== undefined ? props.treatmentVersion.performanceSharpeRatio : undefined,
        performanceMaxDrawdown: props.treatmentVersion.performanceMaxDrawdown !== undefined ? props.treatmentVersion.performanceMaxDrawdown : undefined,
        performanceWinRate: props.treatmentVersion.performanceWinRate !== undefined ? props.treatmentVersion.performanceWinRate : undefined,
        performanceAvgReturn: props.treatmentVersion.performanceAvgReturn !== undefined ? props.treatmentVersion.performanceAvgReturn : undefined,
        performanceCalibrationScore: props.treatmentVersion.performanceCalibrationScore !== undefined ? props.treatmentVersion.performanceCalibrationScore : undefined,
        performanceStabilityScore: props.treatmentVersion.performanceStabilityScore !== undefined ? props.treatmentVersion.performanceStabilityScore : undefined,
        validationCrossValidationScore: props.treatmentVersion.validationCrossValidationScore !== undefined ? props.treatmentVersion.validationCrossValidationScore : undefined,
        validationOutOfSamplePerformance: props.treatmentVersion.validationOutOfSamplePerformance !== undefined ? props.treatmentVersion.validationOutOfSamplePerformance : undefined,
        validationBacktestResults: props.treatmentVersion.validationBacktestResults !== undefined ? props.treatmentVersion.validationBacktestResults : undefined,
        validationStatTestResults: props.treatmentVersion.validationStatTestResults !== undefined ? props.treatmentVersion.validationStatTestResults : undefined,
        deploymentEnvironment: props.treatmentVersion.deploymentEnvironment !== undefined ? props.treatmentVersion.deploymentEnvironment : undefined,
        deploymentTrafficAllocation: props.treatmentVersion.deploymentTrafficAllocation !== undefined ? props.treatmentVersion.deploymentTrafficAllocation : undefined,
        deploymentRolloutStrategy: props.treatmentVersion.deploymentRolloutStrategy !== undefined ? props.treatmentVersion.deploymentRolloutStrategy : undefined,
        deploymentHealthCheckConfig: props.treatmentVersion.deploymentHealthCheckConfig !== undefined ? props.treatmentVersion.deploymentHealthCheckConfig : undefined,
        trainingStartTime: props.treatmentVersion.trainingStartTime !== undefined ? props.treatmentVersion.trainingStartTime : undefined,
        trainingEndTime: props.treatmentVersion.trainingEndTime !== undefined ? props.treatmentVersion.trainingEndTime : undefined,
        trainingDuration: props.treatmentVersion.trainingDuration !== undefined ? props.treatmentVersion.trainingDuration : undefined,
        trainingDatasetSize: props.treatmentVersion.trainingDatasetSize !== undefined ? props.treatmentVersion.trainingDatasetSize : undefined,
        trainingFeaturesUsed: props.treatmentVersion.trainingFeaturesUsed !== undefined ? props.treatmentVersion.trainingFeaturesUsed : undefined,
        trainingHyperparameters: props.treatmentVersion.trainingHyperparameters !== undefined ? props.treatmentVersion.trainingHyperparameters : undefined,
        trainingResourcePeakMemoryMB: props.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? props.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
        trainingResourceTotalCpuHours: props.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? props.treatmentVersion.trainingResourceTotalCpuHours : undefined,
        trainingResourceGpuHours: props.treatmentVersion.trainingResourceGpuHours !== undefined ? props.treatmentVersion.trainingResourceGpuHours : undefined,
        deployedAt: props.treatmentVersion.deployedAt !== undefined ? props.treatmentVersion.deployedAt : undefined,
        deprecatedAt: props.treatmentVersion.deprecatedAt !== undefined ? props.treatmentVersion.deprecatedAt : undefined,
    parentVersion: props.treatmentVersion.parentVersion ? 
      typeof props.treatmentVersion.parentVersion === 'object' && Object.keys(props.treatmentVersion.parentVersion).length === 1 && Object.keys(props.treatmentVersion.parentVersion)[0] === 'id'
    ? { connect: {
          id: props.treatmentVersion.parentVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: props.treatmentVersion.parentVersion.id !== undefined ? props.treatmentVersion.parentVersion.id : undefined,
        },
        create: {
          modelName: props.treatmentVersion.parentVersion.modelName !== undefined ? props.treatmentVersion.parentVersion.modelName : undefined,
          version: props.treatmentVersion.parentVersion.version !== undefined ? props.treatmentVersion.parentVersion.version : undefined,
          status: props.treatmentVersion.parentVersion.status !== undefined ? props.treatmentVersion.parentVersion.status : undefined,
          performanceAccuracy: props.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? props.treatmentVersion.parentVersion.performanceAccuracy : undefined,
          performancePrecision: props.treatmentVersion.parentVersion.performancePrecision !== undefined ? props.treatmentVersion.parentVersion.performancePrecision : undefined,
          performanceRecall: props.treatmentVersion.parentVersion.performanceRecall !== undefined ? props.treatmentVersion.parentVersion.performanceRecall : undefined,
          performanceF1Score: props.treatmentVersion.parentVersion.performanceF1Score !== undefined ? props.treatmentVersion.parentVersion.performanceF1Score : undefined,
          performanceAuc: props.treatmentVersion.parentVersion.performanceAuc !== undefined ? props.treatmentVersion.parentVersion.performanceAuc : undefined,
          performanceSharpeRatio: props.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.treatmentVersion.parentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: props.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.treatmentVersion.parentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: props.treatmentVersion.parentVersion.performanceWinRate !== undefined ? props.treatmentVersion.parentVersion.performanceWinRate : undefined,
          performanceAvgReturn: props.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? props.treatmentVersion.parentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: props.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.treatmentVersion.parentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: props.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? props.treatmentVersion.parentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: props.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.treatmentVersion.parentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: props.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.treatmentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: props.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? props.treatmentVersion.parentVersion.validationBacktestResults : undefined,
          validationStatTestResults: props.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? props.treatmentVersion.parentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: props.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? props.treatmentVersion.parentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: props.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.treatmentVersion.parentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: props.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.treatmentVersion.parentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: props.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.treatmentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: props.treatmentVersion.parentVersion.trainingStartTime !== undefined ? props.treatmentVersion.parentVersion.trainingStartTime : undefined,
          trainingEndTime: props.treatmentVersion.parentVersion.trainingEndTime !== undefined ? props.treatmentVersion.parentVersion.trainingEndTime : undefined,
          trainingDuration: props.treatmentVersion.parentVersion.trainingDuration !== undefined ? props.treatmentVersion.parentVersion.trainingDuration : undefined,
          trainingDatasetSize: props.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? props.treatmentVersion.parentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: props.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.treatmentVersion.parentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: props.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? props.treatmentVersion.parentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: props.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: props.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.treatmentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: props.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.treatmentVersion.parentVersion.trainingResourceGpuHours : undefined,
          deployedAt: props.treatmentVersion.parentVersion.deployedAt !== undefined ? props.treatmentVersion.parentVersion.deployedAt : undefined,
          deprecatedAt: props.treatmentVersion.parentVersion.deprecatedAt !== undefined ? props.treatmentVersion.parentVersion.deprecatedAt : undefined,
      parentVersion: props.treatmentVersion.parentVersion.parentVersion ? 
        typeof props.treatmentVersion.parentVersion.parentVersion === 'object' && Object.keys(props.treatmentVersion.parentVersion.parentVersion).length === 1 && Object.keys(props.treatmentVersion.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: props.treatmentVersion.parentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: props.treatmentVersion.parentVersion.parentVersion.id !== undefined ? props.treatmentVersion.parentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: props.treatmentVersion.parentVersion.parentVersion.modelName !== undefined ? props.treatmentVersion.parentVersion.parentVersion.modelName : undefined,
            version: props.treatmentVersion.parentVersion.parentVersion.version !== undefined ? props.treatmentVersion.parentVersion.parentVersion.version : undefined,
            status: props.treatmentVersion.parentVersion.parentVersion.status !== undefined ? props.treatmentVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: props.treatmentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: props.treatmentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: props.treatmentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: props.treatmentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: props.treatmentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: props.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: props.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: props.treatmentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: props.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: props.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: props.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: props.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: props.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: props.treatmentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: props.treatmentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: props.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: props.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: props.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: props.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: props.treatmentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: props.treatmentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: props.treatmentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: props.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: props.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: props.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: props.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: props.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: props.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: props.treatmentVersion.parentVersion.parentVersion.deployedAt !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: props.treatmentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: props.treatmentVersion.parentVersion.artifacts ? 
        Array.isArray(props.treatmentVersion.parentVersion.artifacts) && props.treatmentVersion.parentVersion.artifacts.length > 0 &&  props.treatmentVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.treatmentVersion.parentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.treatmentVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: props.treatmentVersion.parentVersion.abTestsAsControl ? 
        Array.isArray(props.treatmentVersion.parentVersion.abTestsAsControl) && props.treatmentVersion.parentVersion.abTestsAsControl.length > 0 &&  props.treatmentVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.treatmentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.treatmentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: props.treatmentVersion.parentVersion.abTestsAsTreatment ? 
        Array.isArray(props.treatmentVersion.parentVersion.abTestsAsTreatment) && props.treatmentVersion.parentVersion.abTestsAsTreatment.length > 0 &&  props.treatmentVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.treatmentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.treatmentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: props.treatmentVersion.parentVersion.featureImportanceAnalyses ? 
        Array.isArray(props.treatmentVersion.parentVersion.featureImportanceAnalyses) && props.treatmentVersion.parentVersion.featureImportanceAnalyses.length > 0 &&  props.treatmentVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.treatmentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.treatmentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
    childVersions: props.treatmentVersion.childVersions ? 
      Array.isArray(props.treatmentVersion.childVersions) && props.treatmentVersion.childVersions.length > 0 &&  props.treatmentVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.treatmentVersion.childVersions.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.treatmentVersion.childVersions.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
        },
        create: {
          modelName: item.modelName !== undefined ? item.modelName : undefined,
          version: item.version !== undefined ? item.version : undefined,
          status: item.status !== undefined ? item.status : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
          performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
          performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
          performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
          trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
          deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
      childVersions: item.childVersions ? 
        Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
        Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
        Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
        Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
        Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }))
    } : undefined,
    artifacts: props.treatmentVersion.artifacts ? 
      Array.isArray(props.treatmentVersion.artifacts) && props.treatmentVersion.artifacts.length > 0 &&  props.treatmentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.treatmentVersion.artifacts.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.treatmentVersion.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId 
             } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsControl: props.treatmentVersion.abTestsAsControl ? 
      Array.isArray(props.treatmentVersion.abTestsAsControl) && props.treatmentVersion.abTestsAsControl.length > 0 &&  props.treatmentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.treatmentVersion.abTestsAsControl.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.treatmentVersion.abTestsAsControl.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      treatmentVersion: item.treatmentVersion ? 
        typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: props.treatmentVersion.featureImportanceAnalyses ? 
      Array.isArray(props.treatmentVersion.featureImportanceAnalyses) && props.treatmentVersion.featureImportanceAnalyses.length > 0 &&  props.treatmentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
    }
  } : undefined,
      },
          update: {
      name: props.name !== undefined ? {
            set: props.name 
           } : undefined,
  description: props.description !== undefined ? {
            set: props.description 
           } : undefined,
  status: props.status !== undefined ? {
            set: props.status 
           } : undefined,
  trafficSplitControlPercent: props.trafficSplitControlPercent !== undefined ? {
            set: props.trafficSplitControlPercent 
           } : undefined,
  trafficSplitTreatmentPercent: props.trafficSplitTreatmentPercent !== undefined ? {
            set: props.trafficSplitTreatmentPercent 
           } : undefined,
  targetMetrics: props.targetMetrics !== undefined ? {
            set: props.targetMetrics 
           } : undefined,
  successCriteriaPrimaryMetric: props.successCriteriaPrimaryMetric !== undefined ? {
            set: props.successCriteriaPrimaryMetric 
           } : undefined,
  successCriteriaMinimumDetectableEffect: props.successCriteriaMinimumDetectableEffect !== undefined ? {
            set: props.successCriteriaMinimumDetectableEffect 
           } : undefined,
  successCriteriaSignificanceLevel: props.successCriteriaSignificanceLevel !== undefined ? {
            set: props.successCriteriaSignificanceLevel 
           } : undefined,
  successCriteriaPowerLevel: props.successCriteriaPowerLevel !== undefined ? {
            set: props.successCriteriaPowerLevel 
           } : undefined,
  startDate: props.startDate !== undefined ? {
            set: props.startDate 
           } : undefined,
  endDate: props.endDate !== undefined ? {
            set: props.endDate 
           } : undefined,
  plannedDuration: props.plannedDuration !== undefined ? {
            set: props.plannedDuration 
           } : undefined,
  resultsControlMetrics: props.resultsControlMetrics !== undefined ? {
            set: props.resultsControlMetrics 
           } : undefined,
  resultsTreatmentMetrics: props.resultsTreatmentMetrics !== undefined ? {
            set: props.resultsTreatmentMetrics 
           } : undefined,
  resultsStatisticalSignificance: props.resultsStatisticalSignificance !== undefined ? {
            set: props.resultsStatisticalSignificance 
           } : undefined,
  resultsPValues: props.resultsPValues !== undefined ? {
            set: props.resultsPValues 
           } : undefined,
  resultsConfidenceIntervals: props.resultsConfidenceIntervals !== undefined ? {
            set: props.resultsConfidenceIntervals 
           } : undefined,
  resultsRecommendation: props.resultsRecommendation !== undefined ? {
            set: props.resultsRecommendation 
           } : undefined,
  metadataEnvironment: props.metadataEnvironment !== undefined ? {
            set: props.metadataEnvironment 
           } : undefined,
  metadataEligibilityCriteria: props.metadataEligibilityCriteria !== undefined ? {
            set: props.metadataEligibilityCriteria 
           } : undefined,
  metadataExclusionCriteria: props.metadataExclusionCriteria !== undefined ? {
            set: props.metadataExclusionCriteria 
           } : undefined,
  metadataSegmentationRules: props.metadataSegmentationRules !== undefined ? {
            set: props.metadataSegmentationRules 
           } : undefined,
  completedAt: props.completedAt !== undefined ? {
            set: props.completedAt 
           } : undefined,
  controlVersion: props.controlVersion ? 
  typeof props.controlVersion === 'object' && Object.keys(props.controlVersion).length === 1 && (Object.keys(props.controlVersion)[0] === 'id' || Object.keys(props.controlVersion)[0] === 'symbol')
? {
  connect: {
    id: props.controlVersion.id
  }
} : { upsert: {
      where: {
        id: props.controlVersion.id !== undefined ? {
            equals: props.controlVersion.id
          } : undefined,
        parentVersionId: props.controlVersion.parentVersionId !== undefined ? {
            equals: props.controlVersion.parentVersionId
          } : undefined,
      },
      update: {
        id: props.controlVersion.id !== undefined ? {
            set: props.controlVersion.id
          } : undefined,
        modelName: props.controlVersion.modelName !== undefined ? {
            set: props.controlVersion.modelName
          } : undefined,
        version: props.controlVersion.version !== undefined ? {
            set: props.controlVersion.version
          } : undefined,
        status: props.controlVersion.status !== undefined ? {
            set: props.controlVersion.status
          } : undefined,
        performanceAccuracy: props.controlVersion.performanceAccuracy !== undefined ? {
            set: props.controlVersion.performanceAccuracy
          } : undefined,
        performancePrecision: props.controlVersion.performancePrecision !== undefined ? {
            set: props.controlVersion.performancePrecision
          } : undefined,
        performanceRecall: props.controlVersion.performanceRecall !== undefined ? {
            set: props.controlVersion.performanceRecall
          } : undefined,
        performanceF1Score: props.controlVersion.performanceF1Score !== undefined ? {
            set: props.controlVersion.performanceF1Score
          } : undefined,
        performanceAuc: props.controlVersion.performanceAuc !== undefined ? {
            set: props.controlVersion.performanceAuc
          } : undefined,
        performanceSharpeRatio: props.controlVersion.performanceSharpeRatio !== undefined ? {
            set: props.controlVersion.performanceSharpeRatio
          } : undefined,
        performanceMaxDrawdown: props.controlVersion.performanceMaxDrawdown !== undefined ? {
            set: props.controlVersion.performanceMaxDrawdown
          } : undefined,
        performanceWinRate: props.controlVersion.performanceWinRate !== undefined ? {
            set: props.controlVersion.performanceWinRate
          } : undefined,
        performanceAvgReturn: props.controlVersion.performanceAvgReturn !== undefined ? {
            set: props.controlVersion.performanceAvgReturn
          } : undefined,
        performanceCalibrationScore: props.controlVersion.performanceCalibrationScore !== undefined ? {
            set: props.controlVersion.performanceCalibrationScore
          } : undefined,
        performanceStabilityScore: props.controlVersion.performanceStabilityScore !== undefined ? {
            set: props.controlVersion.performanceStabilityScore
          } : undefined,
        validationCrossValidationScore: props.controlVersion.validationCrossValidationScore !== undefined ? {
            set: props.controlVersion.validationCrossValidationScore
          } : undefined,
        validationOutOfSamplePerformance: props.controlVersion.validationOutOfSamplePerformance !== undefined ? {
            set: props.controlVersion.validationOutOfSamplePerformance
          } : undefined,
        validationBacktestResults: props.controlVersion.validationBacktestResults !== undefined ? {
            set: props.controlVersion.validationBacktestResults
          } : undefined,
        validationStatTestResults: props.controlVersion.validationStatTestResults !== undefined ? {
            set: props.controlVersion.validationStatTestResults
          } : undefined,
        deploymentEnvironment: props.controlVersion.deploymentEnvironment !== undefined ? {
            set: props.controlVersion.deploymentEnvironment
          } : undefined,
        deploymentTrafficAllocation: props.controlVersion.deploymentTrafficAllocation !== undefined ? {
            set: props.controlVersion.deploymentTrafficAllocation
          } : undefined,
        deploymentRolloutStrategy: props.controlVersion.deploymentRolloutStrategy !== undefined ? {
            set: props.controlVersion.deploymentRolloutStrategy
          } : undefined,
        deploymentHealthCheckConfig: props.controlVersion.deploymentHealthCheckConfig !== undefined ? {
            set: props.controlVersion.deploymentHealthCheckConfig
          } : undefined,
        trainingStartTime: props.controlVersion.trainingStartTime !== undefined ? {
            set: props.controlVersion.trainingStartTime
          } : undefined,
        trainingEndTime: props.controlVersion.trainingEndTime !== undefined ? {
            set: props.controlVersion.trainingEndTime
          } : undefined,
        trainingDuration: props.controlVersion.trainingDuration !== undefined ? {
            set: props.controlVersion.trainingDuration
          } : undefined,
        trainingDatasetSize: props.controlVersion.trainingDatasetSize !== undefined ? {
            set: props.controlVersion.trainingDatasetSize
          } : undefined,
        trainingFeaturesUsed: props.controlVersion.trainingFeaturesUsed !== undefined ? {
            set: props.controlVersion.trainingFeaturesUsed
          } : undefined,
        trainingHyperparameters: props.controlVersion.trainingHyperparameters !== undefined ? {
            set: props.controlVersion.trainingHyperparameters
          } : undefined,
        trainingResourcePeakMemoryMB: props.controlVersion.trainingResourcePeakMemoryMB !== undefined ? {
            set: props.controlVersion.trainingResourcePeakMemoryMB
          } : undefined,
        trainingResourceTotalCpuHours: props.controlVersion.trainingResourceTotalCpuHours !== undefined ? {
            set: props.controlVersion.trainingResourceTotalCpuHours
          } : undefined,
        trainingResourceGpuHours: props.controlVersion.trainingResourceGpuHours !== undefined ? {
            set: props.controlVersion.trainingResourceGpuHours
          } : undefined,
        deployedAt: props.controlVersion.deployedAt !== undefined ? {
            set: props.controlVersion.deployedAt
          } : undefined,
        deprecatedAt: props.controlVersion.deprecatedAt !== undefined ? {
            set: props.controlVersion.deprecatedAt
          } : undefined,
    parentVersion: props.controlVersion.parentVersion ? 
    typeof props.controlVersion.parentVersion === 'object' && Object.keys(props.controlVersion.parentVersion).length === 1 && (Object.keys(props.controlVersion.parentVersion)[0] === 'id' || Object.keys(props.controlVersion.parentVersion)[0] === 'symbol')
? {
    connect: {
      id: props.controlVersion.parentVersion.id
    }
} : { upsert: {
        where: {
          id: props.controlVersion.parentVersion.id !== undefined ? {
              equals: props.controlVersion.parentVersion.id
            } : undefined,
          parentVersionId: props.controlVersion.parentVersion.parentVersionId !== undefined ? {
              equals: props.controlVersion.parentVersion.parentVersionId
            } : undefined,
        },
        update: {
          id: props.controlVersion.parentVersion.id !== undefined ? {
              set: props.controlVersion.parentVersion.id
            } : undefined,
          modelName: props.controlVersion.parentVersion.modelName !== undefined ? {
              set: props.controlVersion.parentVersion.modelName
            } : undefined,
          version: props.controlVersion.parentVersion.version !== undefined ? {
              set: props.controlVersion.parentVersion.version
            } : undefined,
          status: props.controlVersion.parentVersion.status !== undefined ? {
              set: props.controlVersion.parentVersion.status
            } : undefined,
          performanceAccuracy: props.controlVersion.parentVersion.performanceAccuracy !== undefined ? {
              set: props.controlVersion.parentVersion.performanceAccuracy
            } : undefined,
          performancePrecision: props.controlVersion.parentVersion.performancePrecision !== undefined ? {
              set: props.controlVersion.parentVersion.performancePrecision
            } : undefined,
          performanceRecall: props.controlVersion.parentVersion.performanceRecall !== undefined ? {
              set: props.controlVersion.parentVersion.performanceRecall
            } : undefined,
          performanceF1Score: props.controlVersion.parentVersion.performanceF1Score !== undefined ? {
              set: props.controlVersion.parentVersion.performanceF1Score
            } : undefined,
          performanceAuc: props.controlVersion.parentVersion.performanceAuc !== undefined ? {
              set: props.controlVersion.parentVersion.performanceAuc
            } : undefined,
          performanceSharpeRatio: props.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? {
              set: props.controlVersion.parentVersion.performanceSharpeRatio
            } : undefined,
          performanceMaxDrawdown: props.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? {
              set: props.controlVersion.parentVersion.performanceMaxDrawdown
            } : undefined,
          performanceWinRate: props.controlVersion.parentVersion.performanceWinRate !== undefined ? {
              set: props.controlVersion.parentVersion.performanceWinRate
            } : undefined,
          performanceAvgReturn: props.controlVersion.parentVersion.performanceAvgReturn !== undefined ? {
              set: props.controlVersion.parentVersion.performanceAvgReturn
            } : undefined,
          performanceCalibrationScore: props.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? {
              set: props.controlVersion.parentVersion.performanceCalibrationScore
            } : undefined,
          performanceStabilityScore: props.controlVersion.parentVersion.performanceStabilityScore !== undefined ? {
              set: props.controlVersion.parentVersion.performanceStabilityScore
            } : undefined,
          validationCrossValidationScore: props.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? {
              set: props.controlVersion.parentVersion.validationCrossValidationScore
            } : undefined,
          validationOutOfSamplePerformance: props.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? {
              set: props.controlVersion.parentVersion.validationOutOfSamplePerformance
            } : undefined,
          validationBacktestResults: props.controlVersion.parentVersion.validationBacktestResults !== undefined ? {
              set: props.controlVersion.parentVersion.validationBacktestResults
            } : undefined,
          validationStatTestResults: props.controlVersion.parentVersion.validationStatTestResults !== undefined ? {
              set: props.controlVersion.parentVersion.validationStatTestResults
            } : undefined,
          deploymentEnvironment: props.controlVersion.parentVersion.deploymentEnvironment !== undefined ? {
              set: props.controlVersion.parentVersion.deploymentEnvironment
            } : undefined,
          deploymentTrafficAllocation: props.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? {
              set: props.controlVersion.parentVersion.deploymentTrafficAllocation
            } : undefined,
          deploymentRolloutStrategy: props.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? {
              set: props.controlVersion.parentVersion.deploymentRolloutStrategy
            } : undefined,
          deploymentHealthCheckConfig: props.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? {
              set: props.controlVersion.parentVersion.deploymentHealthCheckConfig
            } : undefined,
          trainingStartTime: props.controlVersion.parentVersion.trainingStartTime !== undefined ? {
              set: props.controlVersion.parentVersion.trainingStartTime
            } : undefined,
          trainingEndTime: props.controlVersion.parentVersion.trainingEndTime !== undefined ? {
              set: props.controlVersion.parentVersion.trainingEndTime
            } : undefined,
          trainingDuration: props.controlVersion.parentVersion.trainingDuration !== undefined ? {
              set: props.controlVersion.parentVersion.trainingDuration
            } : undefined,
          trainingDatasetSize: props.controlVersion.parentVersion.trainingDatasetSize !== undefined ? {
              set: props.controlVersion.parentVersion.trainingDatasetSize
            } : undefined,
          trainingFeaturesUsed: props.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? {
              set: props.controlVersion.parentVersion.trainingFeaturesUsed
            } : undefined,
          trainingHyperparameters: props.controlVersion.parentVersion.trainingHyperparameters !== undefined ? {
              set: props.controlVersion.parentVersion.trainingHyperparameters
            } : undefined,
          trainingResourcePeakMemoryMB: props.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
              set: props.controlVersion.parentVersion.trainingResourcePeakMemoryMB
            } : undefined,
          trainingResourceTotalCpuHours: props.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
              set: props.controlVersion.parentVersion.trainingResourceTotalCpuHours
            } : undefined,
          trainingResourceGpuHours: props.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? {
              set: props.controlVersion.parentVersion.trainingResourceGpuHours
            } : undefined,
          deployedAt: props.controlVersion.parentVersion.deployedAt !== undefined ? {
              set: props.controlVersion.parentVersion.deployedAt
            } : undefined,
          deprecatedAt: props.controlVersion.parentVersion.deprecatedAt !== undefined ? {
              set: props.controlVersion.parentVersion.deprecatedAt
            } : undefined,
      parentVersion: props.controlVersion.parentVersion.parentVersion ? 
      typeof props.controlVersion.parentVersion.parentVersion === 'object' && Object.keys(props.controlVersion.parentVersion.parentVersion).length === 1 && (Object.keys(props.controlVersion.parentVersion.parentVersion)[0] === 'id' || Object.keys(props.controlVersion.parentVersion.parentVersion)[0] === 'symbol')
? {
      connect: {
        id: props.controlVersion.parentVersion.parentVersion.id
      }
} : { upsert: {
          where: {
            id: props.controlVersion.parentVersion.parentVersion.id !== undefined ? {
                equals: props.controlVersion.parentVersion.parentVersion.id
              } : undefined,
            parentVersionId: props.controlVersion.parentVersion.parentVersion.parentVersionId !== undefined ? {
                equals: props.controlVersion.parentVersion.parentVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: props.controlVersion.parentVersion.parentVersion.id !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.id
              } : undefined,
            modelName: props.controlVersion.parentVersion.parentVersion.modelName !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.modelName
              } : undefined,
            version: props.controlVersion.parentVersion.parentVersion.version !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.version
              } : undefined,
            status: props.controlVersion.parentVersion.parentVersion.status !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.status
              } : undefined,
            performanceAccuracy: props.controlVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.performanceAccuracy
              } : undefined,
            performancePrecision: props.controlVersion.parentVersion.parentVersion.performancePrecision !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.performancePrecision
              } : undefined,
            performanceRecall: props.controlVersion.parentVersion.parentVersion.performanceRecall !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.performanceRecall
              } : undefined,
            performanceF1Score: props.controlVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.performanceF1Score
              } : undefined,
            performanceAuc: props.controlVersion.parentVersion.parentVersion.performanceAuc !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: props.controlVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: props.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: props.controlVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: props.controlVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: props.controlVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: props.controlVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: props.controlVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: props.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: props.controlVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: props.controlVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: props.controlVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: props.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: props.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: props.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: props.controlVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.trainingStartTime
              } : undefined,
            trainingEndTime: props.controlVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.trainingEndTime
              } : undefined,
            trainingDuration: props.controlVersion.parentVersion.parentVersion.trainingDuration !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: props.controlVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: props.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: props.controlVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: props.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: props.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: props.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: props.controlVersion.parentVersion.parentVersion.deployedAt !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.deployedAt
              } : undefined,
            deprecatedAt: props.controlVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? {
                set: props.controlVersion.parentVersion.parentVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: props.controlVersion.parentVersion.parentVersion.modelName !== undefined ? props.controlVersion.parentVersion.parentVersion.modelName : undefined,
            version: props.controlVersion.parentVersion.parentVersion.version !== undefined ? props.controlVersion.parentVersion.parentVersion.version : undefined,
            status: props.controlVersion.parentVersion.parentVersion.status !== undefined ? props.controlVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: props.controlVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: props.controlVersion.parentVersion.parentVersion.performancePrecision !== undefined ? props.controlVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: props.controlVersion.parentVersion.parentVersion.performanceRecall !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: props.controlVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: props.controlVersion.parentVersion.parentVersion.performanceAuc !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: props.controlVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: props.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: props.controlVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: props.controlVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: props.controlVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: props.controlVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: props.controlVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.controlVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: props.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: props.controlVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.controlVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: props.controlVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.controlVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: props.controlVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: props.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: props.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: props.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: props.controlVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: props.controlVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: props.controlVersion.parentVersion.parentVersion.trainingDuration !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: props.controlVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: props.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: props.controlVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: props.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: props.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: props.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: props.controlVersion.parentVersion.parentVersion.deployedAt !== undefined ? props.controlVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: props.controlVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? props.controlVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: props.controlVersion.parentVersion.artifacts ? 
      Array.isArray(props.controlVersion.parentVersion.artifacts) && props.controlVersion.parentVersion.artifacts.length > 0 && props.controlVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: props.controlVersion.parentVersion.artifacts.map((item: any) => ({
        id: item.id
      }))
} : { upsert: props.controlVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: props.controlVersion.parentVersion.abTestsAsControl ? 
      Array.isArray(props.controlVersion.parentVersion.abTestsAsControl) && props.controlVersion.parentVersion.abTestsAsControl.length > 0 && props.controlVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: props.controlVersion.parentVersion.abTestsAsControl.map((item: any) => ({
        id: item.id
      }))
} : { upsert: props.controlVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: props.controlVersion.parentVersion.abTestsAsTreatment ? 
      Array.isArray(props.controlVersion.parentVersion.abTestsAsTreatment) && props.controlVersion.parentVersion.abTestsAsTreatment.length > 0 && props.controlVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: props.controlVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
        id: item.id
      }))
} : { upsert: props.controlVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: props.controlVersion.parentVersion.featureImportanceAnalyses ? 
      Array.isArray(props.controlVersion.parentVersion.featureImportanceAnalyses) && props.controlVersion.parentVersion.featureImportanceAnalyses.length > 0 && props.controlVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: props.controlVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
        id: item.id
      }))
} : { upsert: props.controlVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            analysisType: item.analysisType !== undefined ? {
                set: item.analysisType
              } : undefined,
            featureImportances: item.featureImportances !== undefined ? {
                set: item.featureImportances
              } : undefined,
            globalImportance: item.globalImportance !== undefined ? {
                set: item.globalImportance
              } : undefined,
            localImportance: item.localImportance !== undefined ? {
                set: item.localImportance
              } : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
                set: item.analysisMetadataSampleSize
              } : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
                set: item.analysisMetadataBaselineAccuracy
              } : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
                set: item.analysisMetadataAnalysisDate
              } : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
                set: item.analysisMetadataComputationTime
              } : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
                set: item.analysisMetadataAnalysisParameters
              } : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
                set: item.insightsTopFeatures
              } : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
                set: item.insightsRedundantFeatures
              } : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
                set: item.insightsUnexpectedImportances
              } : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
                set: item.insightsStabilityScore
              } : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? {
                set: item.insightsRecommendations
              } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
        create: {
          modelName: props.controlVersion.parentVersion.modelName !== undefined ? props.controlVersion.parentVersion.modelName : undefined,
          version: props.controlVersion.parentVersion.version !== undefined ? props.controlVersion.parentVersion.version : undefined,
          status: props.controlVersion.parentVersion.status !== undefined ? props.controlVersion.parentVersion.status : undefined,
          performanceAccuracy: props.controlVersion.parentVersion.performanceAccuracy !== undefined ? props.controlVersion.parentVersion.performanceAccuracy : undefined,
          performancePrecision: props.controlVersion.parentVersion.performancePrecision !== undefined ? props.controlVersion.parentVersion.performancePrecision : undefined,
          performanceRecall: props.controlVersion.parentVersion.performanceRecall !== undefined ? props.controlVersion.parentVersion.performanceRecall : undefined,
          performanceF1Score: props.controlVersion.parentVersion.performanceF1Score !== undefined ? props.controlVersion.parentVersion.performanceF1Score : undefined,
          performanceAuc: props.controlVersion.parentVersion.performanceAuc !== undefined ? props.controlVersion.parentVersion.performanceAuc : undefined,
          performanceSharpeRatio: props.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? props.controlVersion.parentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: props.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.controlVersion.parentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: props.controlVersion.parentVersion.performanceWinRate !== undefined ? props.controlVersion.parentVersion.performanceWinRate : undefined,
          performanceAvgReturn: props.controlVersion.parentVersion.performanceAvgReturn !== undefined ? props.controlVersion.parentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: props.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? props.controlVersion.parentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: props.controlVersion.parentVersion.performanceStabilityScore !== undefined ? props.controlVersion.parentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: props.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? props.controlVersion.parentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: props.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.controlVersion.parentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: props.controlVersion.parentVersion.validationBacktestResults !== undefined ? props.controlVersion.parentVersion.validationBacktestResults : undefined,
          validationStatTestResults: props.controlVersion.parentVersion.validationStatTestResults !== undefined ? props.controlVersion.parentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: props.controlVersion.parentVersion.deploymentEnvironment !== undefined ? props.controlVersion.parentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: props.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.controlVersion.parentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: props.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.controlVersion.parentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: props.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.controlVersion.parentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: props.controlVersion.parentVersion.trainingStartTime !== undefined ? props.controlVersion.parentVersion.trainingStartTime : undefined,
          trainingEndTime: props.controlVersion.parentVersion.trainingEndTime !== undefined ? props.controlVersion.parentVersion.trainingEndTime : undefined,
          trainingDuration: props.controlVersion.parentVersion.trainingDuration !== undefined ? props.controlVersion.parentVersion.trainingDuration : undefined,
          trainingDatasetSize: props.controlVersion.parentVersion.trainingDatasetSize !== undefined ? props.controlVersion.parentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: props.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.controlVersion.parentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: props.controlVersion.parentVersion.trainingHyperparameters !== undefined ? props.controlVersion.parentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: props.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.controlVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: props.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.controlVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: props.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.controlVersion.parentVersion.trainingResourceGpuHours : undefined,
          deployedAt: props.controlVersion.parentVersion.deployedAt !== undefined ? props.controlVersion.parentVersion.deployedAt : undefined,
          deprecatedAt: props.controlVersion.parentVersion.deprecatedAt !== undefined ? props.controlVersion.parentVersion.deprecatedAt : undefined,
      parentVersion: props.controlVersion.parentVersion.parentVersion ? 
        typeof props.controlVersion.parentVersion.parentVersion === 'object' && Object.keys(props.controlVersion.parentVersion.parentVersion).length === 1 && Object.keys(props.controlVersion.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: props.controlVersion.parentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: props.controlVersion.parentVersion.parentVersion.id !== undefined ? props.controlVersion.parentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: props.controlVersion.parentVersion.parentVersion.modelName !== undefined ? props.controlVersion.parentVersion.parentVersion.modelName : undefined,
            version: props.controlVersion.parentVersion.parentVersion.version !== undefined ? props.controlVersion.parentVersion.parentVersion.version : undefined,
            status: props.controlVersion.parentVersion.parentVersion.status !== undefined ? props.controlVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: props.controlVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: props.controlVersion.parentVersion.parentVersion.performancePrecision !== undefined ? props.controlVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: props.controlVersion.parentVersion.parentVersion.performanceRecall !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: props.controlVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: props.controlVersion.parentVersion.parentVersion.performanceAuc !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: props.controlVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: props.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: props.controlVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: props.controlVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: props.controlVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: props.controlVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: props.controlVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.controlVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: props.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: props.controlVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.controlVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: props.controlVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.controlVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: props.controlVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: props.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: props.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: props.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: props.controlVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: props.controlVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: props.controlVersion.parentVersion.parentVersion.trainingDuration !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: props.controlVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: props.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: props.controlVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: props.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: props.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: props.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: props.controlVersion.parentVersion.parentVersion.deployedAt !== undefined ? props.controlVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: props.controlVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? props.controlVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: props.controlVersion.parentVersion.artifacts ? 
        Array.isArray(props.controlVersion.parentVersion.artifacts) && props.controlVersion.parentVersion.artifacts.length > 0 &&  props.controlVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.controlVersion.parentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.controlVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: props.controlVersion.parentVersion.abTestsAsControl ? 
        Array.isArray(props.controlVersion.parentVersion.abTestsAsControl) && props.controlVersion.parentVersion.abTestsAsControl.length > 0 &&  props.controlVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.controlVersion.parentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.controlVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: props.controlVersion.parentVersion.abTestsAsTreatment ? 
        Array.isArray(props.controlVersion.parentVersion.abTestsAsTreatment) && props.controlVersion.parentVersion.abTestsAsTreatment.length > 0 &&  props.controlVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.controlVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.controlVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: props.controlVersion.parentVersion.featureImportanceAnalyses ? 
        Array.isArray(props.controlVersion.parentVersion.featureImportanceAnalyses) && props.controlVersion.parentVersion.featureImportanceAnalyses.length > 0 &&  props.controlVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.controlVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.controlVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
    childVersions: props.controlVersion.childVersions ? 
    Array.isArray(props.controlVersion.childVersions) && props.controlVersion.childVersions.length > 0 && props.controlVersion.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: props.controlVersion.childVersions.map((item: any) => ({
      id: item.id
    }))
} : { upsert: props.controlVersion.childVersions.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          parentVersionId: item.parentVersionId !== undefined ? {
              equals: item.parentVersionId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          modelName: item.modelName !== undefined ? {
              set: item.modelName
            } : undefined,
          version: item.version !== undefined ? {
              set: item.version
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? {
              set: item.performanceAccuracy
            } : undefined,
          performancePrecision: item.performancePrecision !== undefined ? {
              set: item.performancePrecision
            } : undefined,
          performanceRecall: item.performanceRecall !== undefined ? {
              set: item.performanceRecall
            } : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? {
              set: item.performanceF1Score
            } : undefined,
          performanceAuc: item.performanceAuc !== undefined ? {
              set: item.performanceAuc
            } : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
              set: item.performanceSharpeRatio
            } : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
              set: item.performanceMaxDrawdown
            } : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? {
              set: item.performanceWinRate
            } : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
              set: item.performanceAvgReturn
            } : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
              set: item.performanceCalibrationScore
            } : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
              set: item.performanceStabilityScore
            } : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
              set: item.validationCrossValidationScore
            } : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
              set: item.validationOutOfSamplePerformance
            } : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? {
              set: item.validationBacktestResults
            } : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? {
              set: item.validationStatTestResults
            } : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
              set: item.deploymentEnvironment
            } : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
              set: item.deploymentTrafficAllocation
            } : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
              set: item.deploymentRolloutStrategy
            } : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
              set: item.deploymentHealthCheckConfig
            } : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? {
              set: item.trainingStartTime
            } : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? {
              set: item.trainingEndTime
            } : undefined,
          trainingDuration: item.trainingDuration !== undefined ? {
              set: item.trainingDuration
            } : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
              set: item.trainingDatasetSize
            } : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
              set: item.trainingFeaturesUsed
            } : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
              set: item.trainingHyperparameters
            } : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
              set: item.trainingResourcePeakMemoryMB
            } : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
              set: item.trainingResourceTotalCpuHours
            } : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
              set: item.trainingResourceGpuHours
            } : undefined,
          deployedAt: item.deployedAt !== undefined ? {
              set: item.deployedAt
            } : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? {
              set: item.deprecatedAt
            } : undefined,
      childVersions: item.childVersions ? 
      Array.isArray(item.childVersions) && item.childVersions.length > 0 && item.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.childVersions.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            parentVersionId: item.parentVersionId !== undefined ? {
                equals: item.parentVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            modelName: item.modelName !== undefined ? {
                set: item.modelName
              } : undefined,
            version: item.version !== undefined ? {
                set: item.version
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? {
                set: item.performanceAccuracy
              } : undefined,
            performancePrecision: item.performancePrecision !== undefined ? {
                set: item.performancePrecision
              } : undefined,
            performanceRecall: item.performanceRecall !== undefined ? {
                set: item.performanceRecall
              } : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? {
                set: item.performanceF1Score
              } : undefined,
            performanceAuc: item.performanceAuc !== undefined ? {
                set: item.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
                set: item.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
                set: item.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? {
                set: item.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
                set: item.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
                set: item.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
                set: item.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
                set: item.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
                set: item.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? {
                set: item.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? {
                set: item.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
                set: item.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
                set: item.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
                set: item.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
                set: item.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? {
                set: item.trainingStartTime
              } : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? {
                set: item.trainingEndTime
              } : undefined,
            trainingDuration: item.trainingDuration !== undefined ? {
                set: item.trainingDuration
              } : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
                set: item.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
                set: item.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
                set: item.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
                set: item.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
                set: item.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.deployedAt !== undefined ? {
                set: item.deployedAt
              } : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? {
                set: item.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
      Array.isArray(item.artifacts) && item.artifacts.length > 0 && item.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.artifacts.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
      Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 && item.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.abTestsAsControl.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
      Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 && item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.abTestsAsTreatment.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
      Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 && item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.featureImportanceAnalyses.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            analysisType: item.analysisType !== undefined ? {
                set: item.analysisType
              } : undefined,
            featureImportances: item.featureImportances !== undefined ? {
                set: item.featureImportances
              } : undefined,
            globalImportance: item.globalImportance !== undefined ? {
                set: item.globalImportance
              } : undefined,
            localImportance: item.localImportance !== undefined ? {
                set: item.localImportance
              } : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
                set: item.analysisMetadataSampleSize
              } : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
                set: item.analysisMetadataBaselineAccuracy
              } : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
                set: item.analysisMetadataAnalysisDate
              } : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
                set: item.analysisMetadataComputationTime
              } : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
                set: item.analysisMetadataAnalysisParameters
              } : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
                set: item.insightsTopFeatures
              } : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
                set: item.insightsRedundantFeatures
              } : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
                set: item.insightsUnexpectedImportances
              } : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
                set: item.insightsStabilityScore
              } : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? {
                set: item.insightsRecommendations
              } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
        create: {
          modelName: item.modelName !== undefined ? item.modelName : undefined,
          version: item.version !== undefined ? item.version : undefined,
          status: item.status !== undefined ? item.status : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
          performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
          performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
          performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
          trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
          deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
      childVersions: item.childVersions ? 
        Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
        Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
        Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
        Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
        Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }))
    } : undefined,
    artifacts: props.controlVersion.artifacts ? 
    Array.isArray(props.controlVersion.artifacts) && props.controlVersion.artifacts.length > 0 && props.controlVersion.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: props.controlVersion.artifacts.map((item: any) => ({
      id: item.id
    }))
} : { upsert: props.controlVersion.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId
            } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
      modelArtifact: item.modelArtifact ? 
      typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && (Object.keys(item.modelArtifact)[0] === 'id' || Object.keys(item.modelArtifact)[0] === 'symbol')
? {
      connect: {
        id: item.modelArtifact.id
      }
} : { upsert: {
          where: {
            id: item.modelArtifact.id !== undefined ? {
                equals: item.modelArtifact.id
              } : undefined,
          },
          update: {
            id: item.modelArtifact.id !== undefined ? {
                set: item.modelArtifact.id
              } : undefined,
            modelName: item.modelArtifact.modelName !== undefined ? {
                set: item.modelArtifact.modelName
              } : undefined,
            version: item.modelArtifact.version !== undefined ? {
                set: item.modelArtifact.version
              } : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? {
                set: item.modelArtifact.artifactType
              } : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? {
                set: item.modelArtifact.storageUrl
              } : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? {
                set: item.modelArtifact.storageProvider
              } : undefined,
            fileSize: item.modelArtifact.fileSize !== undefined ? {
                set: item.modelArtifact.fileSize
              } : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? {
                set: item.modelArtifact.checksum
              } : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? {
                set: item.modelArtifact.compressionType
              } : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? {
                set: item.modelArtifact.metadataFramework
              } : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? {
                set: item.modelArtifact.metadataPythonVersion
              } : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? {
                set: item.modelArtifact.metadataDependencies
              } : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? {
                set: item.modelArtifact.metadataTrainingDate
              } : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? {
                set: item.modelArtifact.metadataDatasetSize
              } : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? {
                set: item.modelArtifact.metadataHyperparameters
              } : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsTreatment: props.controlVersion.abTestsAsTreatment ? 
    Array.isArray(props.controlVersion.abTestsAsTreatment) && props.controlVersion.abTestsAsTreatment.length > 0 && props.controlVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: props.controlVersion.abTestsAsTreatment.map((item: any) => ({
      id: item.id
    }))
} : { upsert: props.controlVersion.abTestsAsTreatment.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name
            } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId
            } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          name: item.name !== undefined ? {
              set: item.name
            } : undefined,
          description: item.description !== undefined ? {
              set: item.description
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
              set: item.trafficSplitControlPercent
            } : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
              set: item.trafficSplitTreatmentPercent
            } : undefined,
          targetMetrics: item.targetMetrics !== undefined ? {
              set: item.targetMetrics
            } : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
              set: item.successCriteriaPrimaryMetric
            } : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
              set: item.successCriteriaMinimumDetectableEffect
            } : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
              set: item.successCriteriaSignificanceLevel
            } : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
              set: item.successCriteriaPowerLevel
            } : undefined,
          startDate: item.startDate !== undefined ? {
              set: item.startDate
            } : undefined,
          endDate: item.endDate !== undefined ? {
              set: item.endDate
            } : undefined,
          plannedDuration: item.plannedDuration !== undefined ? {
              set: item.plannedDuration
            } : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
              set: item.resultsControlMetrics
            } : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
              set: item.resultsTreatmentMetrics
            } : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
              set: item.resultsStatisticalSignificance
            } : undefined,
          resultsPValues: item.resultsPValues !== undefined ? {
              set: item.resultsPValues
            } : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
              set: item.resultsConfidenceIntervals
            } : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? {
              set: item.resultsRecommendation
            } : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? {
              set: item.metadataEnvironment
            } : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
              set: item.metadataEligibilityCriteria
            } : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
              set: item.metadataExclusionCriteria
            } : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
              set: item.metadataSegmentationRules
            } : undefined,
          completedAt: item.completedAt !== undefined ? {
              set: item.completedAt
            } : undefined,
      controlVersion: item.controlVersion ? 
      typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && (Object.keys(item.controlVersion)[0] === 'id' || Object.keys(item.controlVersion)[0] === 'symbol')
? {
      connect: {
        id: item.controlVersion.id
      }
} : { upsert: {
          where: {
            id: item.controlVersion.id !== undefined ? {
                equals: item.controlVersion.id
              } : undefined,
            parentVersionId: item.controlVersion.parentVersionId !== undefined ? {
                equals: item.controlVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: item.controlVersion.id !== undefined ? {
                set: item.controlVersion.id
              } : undefined,
            modelName: item.controlVersion.modelName !== undefined ? {
                set: item.controlVersion.modelName
              } : undefined,
            version: item.controlVersion.version !== undefined ? {
                set: item.controlVersion.version
              } : undefined,
            status: item.controlVersion.status !== undefined ? {
                set: item.controlVersion.status
              } : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? {
                set: item.controlVersion.performanceAccuracy
              } : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? {
                set: item.controlVersion.performancePrecision
              } : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? {
                set: item.controlVersion.performanceRecall
              } : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? {
                set: item.controlVersion.performanceF1Score
              } : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? {
                set: item.controlVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? {
                set: item.controlVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? {
                set: item.controlVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? {
                set: item.controlVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? {
                set: item.controlVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? {
                set: item.controlVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? {
                set: item.controlVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? {
                set: item.controlVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? {
                set: item.controlVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? {
                set: item.controlVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? {
                set: item.controlVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? {
                set: item.controlVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? {
                set: item.controlVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? {
                set: item.controlVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? {
                set: item.controlVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? {
                set: item.controlVersion.trainingStartTime
              } : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? {
                set: item.controlVersion.trainingEndTime
              } : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? {
                set: item.controlVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? {
                set: item.controlVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? {
                set: item.controlVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? {
                set: item.controlVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.controlVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: item.controlVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? {
                set: item.controlVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? {
                set: item.controlVersion.deployedAt
              } : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? {
                set: item.controlVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      controlVersion: item.controlVersion ? 
        typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: props.controlVersion.featureImportanceAnalyses ? 
    Array.isArray(props.controlVersion.featureImportanceAnalyses) && props.controlVersion.featureImportanceAnalyses.length > 0 && props.controlVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: props.controlVersion.featureImportanceAnalyses.map((item: any) => ({
      id: item.id
    }))
} : { upsert: props.controlVersion.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          analysisType: item.analysisType !== undefined ? {
              set: item.analysisType
            } : undefined,
          featureImportances: item.featureImportances !== undefined ? {
              set: item.featureImportances
            } : undefined,
          globalImportance: item.globalImportance !== undefined ? {
              set: item.globalImportance
            } : undefined,
          localImportance: item.localImportance !== undefined ? {
              set: item.localImportance
            } : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
              set: item.analysisMetadataSampleSize
            } : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
              set: item.analysisMetadataBaselineAccuracy
            } : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
              set: item.analysisMetadataAnalysisDate
            } : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
              set: item.analysisMetadataComputationTime
            } : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
              set: item.analysisMetadataAnalysisParameters
            } : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
              set: item.insightsTopFeatures
            } : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
              set: item.insightsRedundantFeatures
            } : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
              set: item.insightsUnexpectedImportances
            } : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
              set: item.insightsStabilityScore
            } : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? {
              set: item.insightsRecommendations
            } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
      create: {
        modelName: props.controlVersion.modelName !== undefined ? props.controlVersion.modelName : undefined,
        version: props.controlVersion.version !== undefined ? props.controlVersion.version : undefined,
        status: props.controlVersion.status !== undefined ? props.controlVersion.status : undefined,
        performanceAccuracy: props.controlVersion.performanceAccuracy !== undefined ? props.controlVersion.performanceAccuracy : undefined,
        performancePrecision: props.controlVersion.performancePrecision !== undefined ? props.controlVersion.performancePrecision : undefined,
        performanceRecall: props.controlVersion.performanceRecall !== undefined ? props.controlVersion.performanceRecall : undefined,
        performanceF1Score: props.controlVersion.performanceF1Score !== undefined ? props.controlVersion.performanceF1Score : undefined,
        performanceAuc: props.controlVersion.performanceAuc !== undefined ? props.controlVersion.performanceAuc : undefined,
        performanceSharpeRatio: props.controlVersion.performanceSharpeRatio !== undefined ? props.controlVersion.performanceSharpeRatio : undefined,
        performanceMaxDrawdown: props.controlVersion.performanceMaxDrawdown !== undefined ? props.controlVersion.performanceMaxDrawdown : undefined,
        performanceWinRate: props.controlVersion.performanceWinRate !== undefined ? props.controlVersion.performanceWinRate : undefined,
        performanceAvgReturn: props.controlVersion.performanceAvgReturn !== undefined ? props.controlVersion.performanceAvgReturn : undefined,
        performanceCalibrationScore: props.controlVersion.performanceCalibrationScore !== undefined ? props.controlVersion.performanceCalibrationScore : undefined,
        performanceStabilityScore: props.controlVersion.performanceStabilityScore !== undefined ? props.controlVersion.performanceStabilityScore : undefined,
        validationCrossValidationScore: props.controlVersion.validationCrossValidationScore !== undefined ? props.controlVersion.validationCrossValidationScore : undefined,
        validationOutOfSamplePerformance: props.controlVersion.validationOutOfSamplePerformance !== undefined ? props.controlVersion.validationOutOfSamplePerformance : undefined,
        validationBacktestResults: props.controlVersion.validationBacktestResults !== undefined ? props.controlVersion.validationBacktestResults : undefined,
        validationStatTestResults: props.controlVersion.validationStatTestResults !== undefined ? props.controlVersion.validationStatTestResults : undefined,
        deploymentEnvironment: props.controlVersion.deploymentEnvironment !== undefined ? props.controlVersion.deploymentEnvironment : undefined,
        deploymentTrafficAllocation: props.controlVersion.deploymentTrafficAllocation !== undefined ? props.controlVersion.deploymentTrafficAllocation : undefined,
        deploymentRolloutStrategy: props.controlVersion.deploymentRolloutStrategy !== undefined ? props.controlVersion.deploymentRolloutStrategy : undefined,
        deploymentHealthCheckConfig: props.controlVersion.deploymentHealthCheckConfig !== undefined ? props.controlVersion.deploymentHealthCheckConfig : undefined,
        trainingStartTime: props.controlVersion.trainingStartTime !== undefined ? props.controlVersion.trainingStartTime : undefined,
        trainingEndTime: props.controlVersion.trainingEndTime !== undefined ? props.controlVersion.trainingEndTime : undefined,
        trainingDuration: props.controlVersion.trainingDuration !== undefined ? props.controlVersion.trainingDuration : undefined,
        trainingDatasetSize: props.controlVersion.trainingDatasetSize !== undefined ? props.controlVersion.trainingDatasetSize : undefined,
        trainingFeaturesUsed: props.controlVersion.trainingFeaturesUsed !== undefined ? props.controlVersion.trainingFeaturesUsed : undefined,
        trainingHyperparameters: props.controlVersion.trainingHyperparameters !== undefined ? props.controlVersion.trainingHyperparameters : undefined,
        trainingResourcePeakMemoryMB: props.controlVersion.trainingResourcePeakMemoryMB !== undefined ? props.controlVersion.trainingResourcePeakMemoryMB : undefined,
        trainingResourceTotalCpuHours: props.controlVersion.trainingResourceTotalCpuHours !== undefined ? props.controlVersion.trainingResourceTotalCpuHours : undefined,
        trainingResourceGpuHours: props.controlVersion.trainingResourceGpuHours !== undefined ? props.controlVersion.trainingResourceGpuHours : undefined,
        deployedAt: props.controlVersion.deployedAt !== undefined ? props.controlVersion.deployedAt : undefined,
        deprecatedAt: props.controlVersion.deprecatedAt !== undefined ? props.controlVersion.deprecatedAt : undefined,
    parentVersion: props.controlVersion.parentVersion ? 
      typeof props.controlVersion.parentVersion === 'object' && Object.keys(props.controlVersion.parentVersion).length === 1 && Object.keys(props.controlVersion.parentVersion)[0] === 'id'
    ? { connect: {
          id: props.controlVersion.parentVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: props.controlVersion.parentVersion.id !== undefined ? props.controlVersion.parentVersion.id : undefined,
        },
        create: {
          modelName: props.controlVersion.parentVersion.modelName !== undefined ? props.controlVersion.parentVersion.modelName : undefined,
          version: props.controlVersion.parentVersion.version !== undefined ? props.controlVersion.parentVersion.version : undefined,
          status: props.controlVersion.parentVersion.status !== undefined ? props.controlVersion.parentVersion.status : undefined,
          performanceAccuracy: props.controlVersion.parentVersion.performanceAccuracy !== undefined ? props.controlVersion.parentVersion.performanceAccuracy : undefined,
          performancePrecision: props.controlVersion.parentVersion.performancePrecision !== undefined ? props.controlVersion.parentVersion.performancePrecision : undefined,
          performanceRecall: props.controlVersion.parentVersion.performanceRecall !== undefined ? props.controlVersion.parentVersion.performanceRecall : undefined,
          performanceF1Score: props.controlVersion.parentVersion.performanceF1Score !== undefined ? props.controlVersion.parentVersion.performanceF1Score : undefined,
          performanceAuc: props.controlVersion.parentVersion.performanceAuc !== undefined ? props.controlVersion.parentVersion.performanceAuc : undefined,
          performanceSharpeRatio: props.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? props.controlVersion.parentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: props.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.controlVersion.parentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: props.controlVersion.parentVersion.performanceWinRate !== undefined ? props.controlVersion.parentVersion.performanceWinRate : undefined,
          performanceAvgReturn: props.controlVersion.parentVersion.performanceAvgReturn !== undefined ? props.controlVersion.parentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: props.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? props.controlVersion.parentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: props.controlVersion.parentVersion.performanceStabilityScore !== undefined ? props.controlVersion.parentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: props.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? props.controlVersion.parentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: props.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.controlVersion.parentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: props.controlVersion.parentVersion.validationBacktestResults !== undefined ? props.controlVersion.parentVersion.validationBacktestResults : undefined,
          validationStatTestResults: props.controlVersion.parentVersion.validationStatTestResults !== undefined ? props.controlVersion.parentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: props.controlVersion.parentVersion.deploymentEnvironment !== undefined ? props.controlVersion.parentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: props.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.controlVersion.parentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: props.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.controlVersion.parentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: props.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.controlVersion.parentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: props.controlVersion.parentVersion.trainingStartTime !== undefined ? props.controlVersion.parentVersion.trainingStartTime : undefined,
          trainingEndTime: props.controlVersion.parentVersion.trainingEndTime !== undefined ? props.controlVersion.parentVersion.trainingEndTime : undefined,
          trainingDuration: props.controlVersion.parentVersion.trainingDuration !== undefined ? props.controlVersion.parentVersion.trainingDuration : undefined,
          trainingDatasetSize: props.controlVersion.parentVersion.trainingDatasetSize !== undefined ? props.controlVersion.parentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: props.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.controlVersion.parentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: props.controlVersion.parentVersion.trainingHyperparameters !== undefined ? props.controlVersion.parentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: props.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.controlVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: props.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.controlVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: props.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.controlVersion.parentVersion.trainingResourceGpuHours : undefined,
          deployedAt: props.controlVersion.parentVersion.deployedAt !== undefined ? props.controlVersion.parentVersion.deployedAt : undefined,
          deprecatedAt: props.controlVersion.parentVersion.deprecatedAt !== undefined ? props.controlVersion.parentVersion.deprecatedAt : undefined,
      parentVersion: props.controlVersion.parentVersion.parentVersion ? 
        typeof props.controlVersion.parentVersion.parentVersion === 'object' && Object.keys(props.controlVersion.parentVersion.parentVersion).length === 1 && Object.keys(props.controlVersion.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: props.controlVersion.parentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: props.controlVersion.parentVersion.parentVersion.id !== undefined ? props.controlVersion.parentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: props.controlVersion.parentVersion.parentVersion.modelName !== undefined ? props.controlVersion.parentVersion.parentVersion.modelName : undefined,
            version: props.controlVersion.parentVersion.parentVersion.version !== undefined ? props.controlVersion.parentVersion.parentVersion.version : undefined,
            status: props.controlVersion.parentVersion.parentVersion.status !== undefined ? props.controlVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: props.controlVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: props.controlVersion.parentVersion.parentVersion.performancePrecision !== undefined ? props.controlVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: props.controlVersion.parentVersion.parentVersion.performanceRecall !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: props.controlVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: props.controlVersion.parentVersion.parentVersion.performanceAuc !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: props.controlVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: props.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: props.controlVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: props.controlVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: props.controlVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: props.controlVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.controlVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: props.controlVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.controlVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: props.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: props.controlVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.controlVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: props.controlVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.controlVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: props.controlVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: props.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: props.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: props.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: props.controlVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: props.controlVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: props.controlVersion.parentVersion.parentVersion.trainingDuration !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: props.controlVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: props.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: props.controlVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: props.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: props.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: props.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: props.controlVersion.parentVersion.parentVersion.deployedAt !== undefined ? props.controlVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: props.controlVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? props.controlVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: props.controlVersion.parentVersion.artifacts ? 
        Array.isArray(props.controlVersion.parentVersion.artifacts) && props.controlVersion.parentVersion.artifacts.length > 0 &&  props.controlVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.controlVersion.parentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.controlVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: props.controlVersion.parentVersion.abTestsAsControl ? 
        Array.isArray(props.controlVersion.parentVersion.abTestsAsControl) && props.controlVersion.parentVersion.abTestsAsControl.length > 0 &&  props.controlVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.controlVersion.parentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.controlVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: props.controlVersion.parentVersion.abTestsAsTreatment ? 
        Array.isArray(props.controlVersion.parentVersion.abTestsAsTreatment) && props.controlVersion.parentVersion.abTestsAsTreatment.length > 0 &&  props.controlVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.controlVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.controlVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: props.controlVersion.parentVersion.featureImportanceAnalyses ? 
        Array.isArray(props.controlVersion.parentVersion.featureImportanceAnalyses) && props.controlVersion.parentVersion.featureImportanceAnalyses.length > 0 &&  props.controlVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.controlVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.controlVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
    childVersions: props.controlVersion.childVersions ? 
      Array.isArray(props.controlVersion.childVersions) && props.controlVersion.childVersions.length > 0 &&  props.controlVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.controlVersion.childVersions.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.controlVersion.childVersions.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
        },
        create: {
          modelName: item.modelName !== undefined ? item.modelName : undefined,
          version: item.version !== undefined ? item.version : undefined,
          status: item.status !== undefined ? item.status : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
          performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
          performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
          performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
          trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
          deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
      childVersions: item.childVersions ? 
        Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
        Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
        Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
        Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
        Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }))
    } : undefined,
    artifacts: props.controlVersion.artifacts ? 
      Array.isArray(props.controlVersion.artifacts) && props.controlVersion.artifacts.length > 0 &&  props.controlVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.controlVersion.artifacts.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.controlVersion.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId 
             } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsTreatment: props.controlVersion.abTestsAsTreatment ? 
      Array.isArray(props.controlVersion.abTestsAsTreatment) && props.controlVersion.abTestsAsTreatment.length > 0 &&  props.controlVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.controlVersion.abTestsAsTreatment.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.controlVersion.abTestsAsTreatment.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      controlVersion: item.controlVersion ? 
        typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: props.controlVersion.featureImportanceAnalyses ? 
      Array.isArray(props.controlVersion.featureImportanceAnalyses) && props.controlVersion.featureImportanceAnalyses.length > 0 &&  props.controlVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.controlVersion.featureImportanceAnalyses.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.controlVersion.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
    }
  } : undefined,
  treatmentVersion: props.treatmentVersion ? 
  typeof props.treatmentVersion === 'object' && Object.keys(props.treatmentVersion).length === 1 && (Object.keys(props.treatmentVersion)[0] === 'id' || Object.keys(props.treatmentVersion)[0] === 'symbol')
? {
  connect: {
    id: props.treatmentVersion.id
  }
} : { upsert: {
      where: {
        id: props.treatmentVersion.id !== undefined ? {
            equals: props.treatmentVersion.id
          } : undefined,
        parentVersionId: props.treatmentVersion.parentVersionId !== undefined ? {
            equals: props.treatmentVersion.parentVersionId
          } : undefined,
      },
      update: {
        id: props.treatmentVersion.id !== undefined ? {
            set: props.treatmentVersion.id
          } : undefined,
        modelName: props.treatmentVersion.modelName !== undefined ? {
            set: props.treatmentVersion.modelName
          } : undefined,
        version: props.treatmentVersion.version !== undefined ? {
            set: props.treatmentVersion.version
          } : undefined,
        status: props.treatmentVersion.status !== undefined ? {
            set: props.treatmentVersion.status
          } : undefined,
        performanceAccuracy: props.treatmentVersion.performanceAccuracy !== undefined ? {
            set: props.treatmentVersion.performanceAccuracy
          } : undefined,
        performancePrecision: props.treatmentVersion.performancePrecision !== undefined ? {
            set: props.treatmentVersion.performancePrecision
          } : undefined,
        performanceRecall: props.treatmentVersion.performanceRecall !== undefined ? {
            set: props.treatmentVersion.performanceRecall
          } : undefined,
        performanceF1Score: props.treatmentVersion.performanceF1Score !== undefined ? {
            set: props.treatmentVersion.performanceF1Score
          } : undefined,
        performanceAuc: props.treatmentVersion.performanceAuc !== undefined ? {
            set: props.treatmentVersion.performanceAuc
          } : undefined,
        performanceSharpeRatio: props.treatmentVersion.performanceSharpeRatio !== undefined ? {
            set: props.treatmentVersion.performanceSharpeRatio
          } : undefined,
        performanceMaxDrawdown: props.treatmentVersion.performanceMaxDrawdown !== undefined ? {
            set: props.treatmentVersion.performanceMaxDrawdown
          } : undefined,
        performanceWinRate: props.treatmentVersion.performanceWinRate !== undefined ? {
            set: props.treatmentVersion.performanceWinRate
          } : undefined,
        performanceAvgReturn: props.treatmentVersion.performanceAvgReturn !== undefined ? {
            set: props.treatmentVersion.performanceAvgReturn
          } : undefined,
        performanceCalibrationScore: props.treatmentVersion.performanceCalibrationScore !== undefined ? {
            set: props.treatmentVersion.performanceCalibrationScore
          } : undefined,
        performanceStabilityScore: props.treatmentVersion.performanceStabilityScore !== undefined ? {
            set: props.treatmentVersion.performanceStabilityScore
          } : undefined,
        validationCrossValidationScore: props.treatmentVersion.validationCrossValidationScore !== undefined ? {
            set: props.treatmentVersion.validationCrossValidationScore
          } : undefined,
        validationOutOfSamplePerformance: props.treatmentVersion.validationOutOfSamplePerformance !== undefined ? {
            set: props.treatmentVersion.validationOutOfSamplePerformance
          } : undefined,
        validationBacktestResults: props.treatmentVersion.validationBacktestResults !== undefined ? {
            set: props.treatmentVersion.validationBacktestResults
          } : undefined,
        validationStatTestResults: props.treatmentVersion.validationStatTestResults !== undefined ? {
            set: props.treatmentVersion.validationStatTestResults
          } : undefined,
        deploymentEnvironment: props.treatmentVersion.deploymentEnvironment !== undefined ? {
            set: props.treatmentVersion.deploymentEnvironment
          } : undefined,
        deploymentTrafficAllocation: props.treatmentVersion.deploymentTrafficAllocation !== undefined ? {
            set: props.treatmentVersion.deploymentTrafficAllocation
          } : undefined,
        deploymentRolloutStrategy: props.treatmentVersion.deploymentRolloutStrategy !== undefined ? {
            set: props.treatmentVersion.deploymentRolloutStrategy
          } : undefined,
        deploymentHealthCheckConfig: props.treatmentVersion.deploymentHealthCheckConfig !== undefined ? {
            set: props.treatmentVersion.deploymentHealthCheckConfig
          } : undefined,
        trainingStartTime: props.treatmentVersion.trainingStartTime !== undefined ? {
            set: props.treatmentVersion.trainingStartTime
          } : undefined,
        trainingEndTime: props.treatmentVersion.trainingEndTime !== undefined ? {
            set: props.treatmentVersion.trainingEndTime
          } : undefined,
        trainingDuration: props.treatmentVersion.trainingDuration !== undefined ? {
            set: props.treatmentVersion.trainingDuration
          } : undefined,
        trainingDatasetSize: props.treatmentVersion.trainingDatasetSize !== undefined ? {
            set: props.treatmentVersion.trainingDatasetSize
          } : undefined,
        trainingFeaturesUsed: props.treatmentVersion.trainingFeaturesUsed !== undefined ? {
            set: props.treatmentVersion.trainingFeaturesUsed
          } : undefined,
        trainingHyperparameters: props.treatmentVersion.trainingHyperparameters !== undefined ? {
            set: props.treatmentVersion.trainingHyperparameters
          } : undefined,
        trainingResourcePeakMemoryMB: props.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? {
            set: props.treatmentVersion.trainingResourcePeakMemoryMB
          } : undefined,
        trainingResourceTotalCpuHours: props.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? {
            set: props.treatmentVersion.trainingResourceTotalCpuHours
          } : undefined,
        trainingResourceGpuHours: props.treatmentVersion.trainingResourceGpuHours !== undefined ? {
            set: props.treatmentVersion.trainingResourceGpuHours
          } : undefined,
        deployedAt: props.treatmentVersion.deployedAt !== undefined ? {
            set: props.treatmentVersion.deployedAt
          } : undefined,
        deprecatedAt: props.treatmentVersion.deprecatedAt !== undefined ? {
            set: props.treatmentVersion.deprecatedAt
          } : undefined,
    parentVersion: props.treatmentVersion.parentVersion ? 
    typeof props.treatmentVersion.parentVersion === 'object' && Object.keys(props.treatmentVersion.parentVersion).length === 1 && (Object.keys(props.treatmentVersion.parentVersion)[0] === 'id' || Object.keys(props.treatmentVersion.parentVersion)[0] === 'symbol')
? {
    connect: {
      id: props.treatmentVersion.parentVersion.id
    }
} : { upsert: {
        where: {
          id: props.treatmentVersion.parentVersion.id !== undefined ? {
              equals: props.treatmentVersion.parentVersion.id
            } : undefined,
          parentVersionId: props.treatmentVersion.parentVersion.parentVersionId !== undefined ? {
              equals: props.treatmentVersion.parentVersion.parentVersionId
            } : undefined,
        },
        update: {
          id: props.treatmentVersion.parentVersion.id !== undefined ? {
              set: props.treatmentVersion.parentVersion.id
            } : undefined,
          modelName: props.treatmentVersion.parentVersion.modelName !== undefined ? {
              set: props.treatmentVersion.parentVersion.modelName
            } : undefined,
          version: props.treatmentVersion.parentVersion.version !== undefined ? {
              set: props.treatmentVersion.parentVersion.version
            } : undefined,
          status: props.treatmentVersion.parentVersion.status !== undefined ? {
              set: props.treatmentVersion.parentVersion.status
            } : undefined,
          performanceAccuracy: props.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? {
              set: props.treatmentVersion.parentVersion.performanceAccuracy
            } : undefined,
          performancePrecision: props.treatmentVersion.parentVersion.performancePrecision !== undefined ? {
              set: props.treatmentVersion.parentVersion.performancePrecision
            } : undefined,
          performanceRecall: props.treatmentVersion.parentVersion.performanceRecall !== undefined ? {
              set: props.treatmentVersion.parentVersion.performanceRecall
            } : undefined,
          performanceF1Score: props.treatmentVersion.parentVersion.performanceF1Score !== undefined ? {
              set: props.treatmentVersion.parentVersion.performanceF1Score
            } : undefined,
          performanceAuc: props.treatmentVersion.parentVersion.performanceAuc !== undefined ? {
              set: props.treatmentVersion.parentVersion.performanceAuc
            } : undefined,
          performanceSharpeRatio: props.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? {
              set: props.treatmentVersion.parentVersion.performanceSharpeRatio
            } : undefined,
          performanceMaxDrawdown: props.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? {
              set: props.treatmentVersion.parentVersion.performanceMaxDrawdown
            } : undefined,
          performanceWinRate: props.treatmentVersion.parentVersion.performanceWinRate !== undefined ? {
              set: props.treatmentVersion.parentVersion.performanceWinRate
            } : undefined,
          performanceAvgReturn: props.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? {
              set: props.treatmentVersion.parentVersion.performanceAvgReturn
            } : undefined,
          performanceCalibrationScore: props.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? {
              set: props.treatmentVersion.parentVersion.performanceCalibrationScore
            } : undefined,
          performanceStabilityScore: props.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? {
              set: props.treatmentVersion.parentVersion.performanceStabilityScore
            } : undefined,
          validationCrossValidationScore: props.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? {
              set: props.treatmentVersion.parentVersion.validationCrossValidationScore
            } : undefined,
          validationOutOfSamplePerformance: props.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? {
              set: props.treatmentVersion.parentVersion.validationOutOfSamplePerformance
            } : undefined,
          validationBacktestResults: props.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? {
              set: props.treatmentVersion.parentVersion.validationBacktestResults
            } : undefined,
          validationStatTestResults: props.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? {
              set: props.treatmentVersion.parentVersion.validationStatTestResults
            } : undefined,
          deploymentEnvironment: props.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? {
              set: props.treatmentVersion.parentVersion.deploymentEnvironment
            } : undefined,
          deploymentTrafficAllocation: props.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? {
              set: props.treatmentVersion.parentVersion.deploymentTrafficAllocation
            } : undefined,
          deploymentRolloutStrategy: props.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? {
              set: props.treatmentVersion.parentVersion.deploymentRolloutStrategy
            } : undefined,
          deploymentHealthCheckConfig: props.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? {
              set: props.treatmentVersion.parentVersion.deploymentHealthCheckConfig
            } : undefined,
          trainingStartTime: props.treatmentVersion.parentVersion.trainingStartTime !== undefined ? {
              set: props.treatmentVersion.parentVersion.trainingStartTime
            } : undefined,
          trainingEndTime: props.treatmentVersion.parentVersion.trainingEndTime !== undefined ? {
              set: props.treatmentVersion.parentVersion.trainingEndTime
            } : undefined,
          trainingDuration: props.treatmentVersion.parentVersion.trainingDuration !== undefined ? {
              set: props.treatmentVersion.parentVersion.trainingDuration
            } : undefined,
          trainingDatasetSize: props.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? {
              set: props.treatmentVersion.parentVersion.trainingDatasetSize
            } : undefined,
          trainingFeaturesUsed: props.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? {
              set: props.treatmentVersion.parentVersion.trainingFeaturesUsed
            } : undefined,
          trainingHyperparameters: props.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? {
              set: props.treatmentVersion.parentVersion.trainingHyperparameters
            } : undefined,
          trainingResourcePeakMemoryMB: props.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
              set: props.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB
            } : undefined,
          trainingResourceTotalCpuHours: props.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
              set: props.treatmentVersion.parentVersion.trainingResourceTotalCpuHours
            } : undefined,
          trainingResourceGpuHours: props.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? {
              set: props.treatmentVersion.parentVersion.trainingResourceGpuHours
            } : undefined,
          deployedAt: props.treatmentVersion.parentVersion.deployedAt !== undefined ? {
              set: props.treatmentVersion.parentVersion.deployedAt
            } : undefined,
          deprecatedAt: props.treatmentVersion.parentVersion.deprecatedAt !== undefined ? {
              set: props.treatmentVersion.parentVersion.deprecatedAt
            } : undefined,
      parentVersion: props.treatmentVersion.parentVersion.parentVersion ? 
      typeof props.treatmentVersion.parentVersion.parentVersion === 'object' && Object.keys(props.treatmentVersion.parentVersion.parentVersion).length === 1 && (Object.keys(props.treatmentVersion.parentVersion.parentVersion)[0] === 'id' || Object.keys(props.treatmentVersion.parentVersion.parentVersion)[0] === 'symbol')
? {
      connect: {
        id: props.treatmentVersion.parentVersion.parentVersion.id
      }
} : { upsert: {
          where: {
            id: props.treatmentVersion.parentVersion.parentVersion.id !== undefined ? {
                equals: props.treatmentVersion.parentVersion.parentVersion.id
              } : undefined,
            parentVersionId: props.treatmentVersion.parentVersion.parentVersion.parentVersionId !== undefined ? {
                equals: props.treatmentVersion.parentVersion.parentVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: props.treatmentVersion.parentVersion.parentVersion.id !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.id
              } : undefined,
            modelName: props.treatmentVersion.parentVersion.parentVersion.modelName !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.modelName
              } : undefined,
            version: props.treatmentVersion.parentVersion.parentVersion.version !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.version
              } : undefined,
            status: props.treatmentVersion.parentVersion.parentVersion.status !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.status
              } : undefined,
            performanceAccuracy: props.treatmentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.performanceAccuracy
              } : undefined,
            performancePrecision: props.treatmentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.performancePrecision
              } : undefined,
            performanceRecall: props.treatmentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.performanceRecall
              } : undefined,
            performanceF1Score: props.treatmentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.performanceF1Score
              } : undefined,
            performanceAuc: props.treatmentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: props.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: props.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: props.treatmentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: props.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: props.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: props.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: props.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: props.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: props.treatmentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: props.treatmentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: props.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: props.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: props.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: props.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: props.treatmentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.trainingStartTime
              } : undefined,
            trainingEndTime: props.treatmentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.trainingEndTime
              } : undefined,
            trainingDuration: props.treatmentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: props.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: props.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: props.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: props.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: props.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: props.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: props.treatmentVersion.parentVersion.parentVersion.deployedAt !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.deployedAt
              } : undefined,
            deprecatedAt: props.treatmentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? {
                set: props.treatmentVersion.parentVersion.parentVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: props.treatmentVersion.parentVersion.parentVersion.modelName !== undefined ? props.treatmentVersion.parentVersion.parentVersion.modelName : undefined,
            version: props.treatmentVersion.parentVersion.parentVersion.version !== undefined ? props.treatmentVersion.parentVersion.parentVersion.version : undefined,
            status: props.treatmentVersion.parentVersion.parentVersion.status !== undefined ? props.treatmentVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: props.treatmentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: props.treatmentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: props.treatmentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: props.treatmentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: props.treatmentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: props.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: props.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: props.treatmentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: props.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: props.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: props.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: props.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: props.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: props.treatmentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: props.treatmentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: props.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: props.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: props.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: props.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: props.treatmentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: props.treatmentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: props.treatmentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: props.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: props.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: props.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: props.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: props.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: props.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: props.treatmentVersion.parentVersion.parentVersion.deployedAt !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: props.treatmentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: props.treatmentVersion.parentVersion.artifacts ? 
      Array.isArray(props.treatmentVersion.parentVersion.artifacts) && props.treatmentVersion.parentVersion.artifacts.length > 0 && props.treatmentVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: props.treatmentVersion.parentVersion.artifacts.map((item: any) => ({
        id: item.id
      }))
} : { upsert: props.treatmentVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: props.treatmentVersion.parentVersion.abTestsAsControl ? 
      Array.isArray(props.treatmentVersion.parentVersion.abTestsAsControl) && props.treatmentVersion.parentVersion.abTestsAsControl.length > 0 && props.treatmentVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: props.treatmentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
        id: item.id
      }))
} : { upsert: props.treatmentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: props.treatmentVersion.parentVersion.abTestsAsTreatment ? 
      Array.isArray(props.treatmentVersion.parentVersion.abTestsAsTreatment) && props.treatmentVersion.parentVersion.abTestsAsTreatment.length > 0 && props.treatmentVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: props.treatmentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
        id: item.id
      }))
} : { upsert: props.treatmentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: props.treatmentVersion.parentVersion.featureImportanceAnalyses ? 
      Array.isArray(props.treatmentVersion.parentVersion.featureImportanceAnalyses) && props.treatmentVersion.parentVersion.featureImportanceAnalyses.length > 0 && props.treatmentVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: props.treatmentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
        id: item.id
      }))
} : { upsert: props.treatmentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            analysisType: item.analysisType !== undefined ? {
                set: item.analysisType
              } : undefined,
            featureImportances: item.featureImportances !== undefined ? {
                set: item.featureImportances
              } : undefined,
            globalImportance: item.globalImportance !== undefined ? {
                set: item.globalImportance
              } : undefined,
            localImportance: item.localImportance !== undefined ? {
                set: item.localImportance
              } : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
                set: item.analysisMetadataSampleSize
              } : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
                set: item.analysisMetadataBaselineAccuracy
              } : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
                set: item.analysisMetadataAnalysisDate
              } : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
                set: item.analysisMetadataComputationTime
              } : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
                set: item.analysisMetadataAnalysisParameters
              } : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
                set: item.insightsTopFeatures
              } : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
                set: item.insightsRedundantFeatures
              } : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
                set: item.insightsUnexpectedImportances
              } : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
                set: item.insightsStabilityScore
              } : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? {
                set: item.insightsRecommendations
              } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
        create: {
          modelName: props.treatmentVersion.parentVersion.modelName !== undefined ? props.treatmentVersion.parentVersion.modelName : undefined,
          version: props.treatmentVersion.parentVersion.version !== undefined ? props.treatmentVersion.parentVersion.version : undefined,
          status: props.treatmentVersion.parentVersion.status !== undefined ? props.treatmentVersion.parentVersion.status : undefined,
          performanceAccuracy: props.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? props.treatmentVersion.parentVersion.performanceAccuracy : undefined,
          performancePrecision: props.treatmentVersion.parentVersion.performancePrecision !== undefined ? props.treatmentVersion.parentVersion.performancePrecision : undefined,
          performanceRecall: props.treatmentVersion.parentVersion.performanceRecall !== undefined ? props.treatmentVersion.parentVersion.performanceRecall : undefined,
          performanceF1Score: props.treatmentVersion.parentVersion.performanceF1Score !== undefined ? props.treatmentVersion.parentVersion.performanceF1Score : undefined,
          performanceAuc: props.treatmentVersion.parentVersion.performanceAuc !== undefined ? props.treatmentVersion.parentVersion.performanceAuc : undefined,
          performanceSharpeRatio: props.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.treatmentVersion.parentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: props.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.treatmentVersion.parentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: props.treatmentVersion.parentVersion.performanceWinRate !== undefined ? props.treatmentVersion.parentVersion.performanceWinRate : undefined,
          performanceAvgReturn: props.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? props.treatmentVersion.parentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: props.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.treatmentVersion.parentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: props.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? props.treatmentVersion.parentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: props.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.treatmentVersion.parentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: props.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.treatmentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: props.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? props.treatmentVersion.parentVersion.validationBacktestResults : undefined,
          validationStatTestResults: props.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? props.treatmentVersion.parentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: props.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? props.treatmentVersion.parentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: props.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.treatmentVersion.parentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: props.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.treatmentVersion.parentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: props.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.treatmentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: props.treatmentVersion.parentVersion.trainingStartTime !== undefined ? props.treatmentVersion.parentVersion.trainingStartTime : undefined,
          trainingEndTime: props.treatmentVersion.parentVersion.trainingEndTime !== undefined ? props.treatmentVersion.parentVersion.trainingEndTime : undefined,
          trainingDuration: props.treatmentVersion.parentVersion.trainingDuration !== undefined ? props.treatmentVersion.parentVersion.trainingDuration : undefined,
          trainingDatasetSize: props.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? props.treatmentVersion.parentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: props.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.treatmentVersion.parentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: props.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? props.treatmentVersion.parentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: props.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: props.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.treatmentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: props.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.treatmentVersion.parentVersion.trainingResourceGpuHours : undefined,
          deployedAt: props.treatmentVersion.parentVersion.deployedAt !== undefined ? props.treatmentVersion.parentVersion.deployedAt : undefined,
          deprecatedAt: props.treatmentVersion.parentVersion.deprecatedAt !== undefined ? props.treatmentVersion.parentVersion.deprecatedAt : undefined,
      parentVersion: props.treatmentVersion.parentVersion.parentVersion ? 
        typeof props.treatmentVersion.parentVersion.parentVersion === 'object' && Object.keys(props.treatmentVersion.parentVersion.parentVersion).length === 1 && Object.keys(props.treatmentVersion.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: props.treatmentVersion.parentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: props.treatmentVersion.parentVersion.parentVersion.id !== undefined ? props.treatmentVersion.parentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: props.treatmentVersion.parentVersion.parentVersion.modelName !== undefined ? props.treatmentVersion.parentVersion.parentVersion.modelName : undefined,
            version: props.treatmentVersion.parentVersion.parentVersion.version !== undefined ? props.treatmentVersion.parentVersion.parentVersion.version : undefined,
            status: props.treatmentVersion.parentVersion.parentVersion.status !== undefined ? props.treatmentVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: props.treatmentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: props.treatmentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: props.treatmentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: props.treatmentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: props.treatmentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: props.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: props.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: props.treatmentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: props.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: props.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: props.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: props.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: props.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: props.treatmentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: props.treatmentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: props.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: props.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: props.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: props.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: props.treatmentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: props.treatmentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: props.treatmentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: props.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: props.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: props.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: props.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: props.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: props.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: props.treatmentVersion.parentVersion.parentVersion.deployedAt !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: props.treatmentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: props.treatmentVersion.parentVersion.artifacts ? 
        Array.isArray(props.treatmentVersion.parentVersion.artifacts) && props.treatmentVersion.parentVersion.artifacts.length > 0 &&  props.treatmentVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.treatmentVersion.parentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.treatmentVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: props.treatmentVersion.parentVersion.abTestsAsControl ? 
        Array.isArray(props.treatmentVersion.parentVersion.abTestsAsControl) && props.treatmentVersion.parentVersion.abTestsAsControl.length > 0 &&  props.treatmentVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.treatmentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.treatmentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: props.treatmentVersion.parentVersion.abTestsAsTreatment ? 
        Array.isArray(props.treatmentVersion.parentVersion.abTestsAsTreatment) && props.treatmentVersion.parentVersion.abTestsAsTreatment.length > 0 &&  props.treatmentVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.treatmentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.treatmentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: props.treatmentVersion.parentVersion.featureImportanceAnalyses ? 
        Array.isArray(props.treatmentVersion.parentVersion.featureImportanceAnalyses) && props.treatmentVersion.parentVersion.featureImportanceAnalyses.length > 0 &&  props.treatmentVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.treatmentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.treatmentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
    childVersions: props.treatmentVersion.childVersions ? 
    Array.isArray(props.treatmentVersion.childVersions) && props.treatmentVersion.childVersions.length > 0 && props.treatmentVersion.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: props.treatmentVersion.childVersions.map((item: any) => ({
      id: item.id
    }))
} : { upsert: props.treatmentVersion.childVersions.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          parentVersionId: item.parentVersionId !== undefined ? {
              equals: item.parentVersionId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          modelName: item.modelName !== undefined ? {
              set: item.modelName
            } : undefined,
          version: item.version !== undefined ? {
              set: item.version
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? {
              set: item.performanceAccuracy
            } : undefined,
          performancePrecision: item.performancePrecision !== undefined ? {
              set: item.performancePrecision
            } : undefined,
          performanceRecall: item.performanceRecall !== undefined ? {
              set: item.performanceRecall
            } : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? {
              set: item.performanceF1Score
            } : undefined,
          performanceAuc: item.performanceAuc !== undefined ? {
              set: item.performanceAuc
            } : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
              set: item.performanceSharpeRatio
            } : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
              set: item.performanceMaxDrawdown
            } : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? {
              set: item.performanceWinRate
            } : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
              set: item.performanceAvgReturn
            } : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
              set: item.performanceCalibrationScore
            } : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
              set: item.performanceStabilityScore
            } : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
              set: item.validationCrossValidationScore
            } : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
              set: item.validationOutOfSamplePerformance
            } : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? {
              set: item.validationBacktestResults
            } : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? {
              set: item.validationStatTestResults
            } : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
              set: item.deploymentEnvironment
            } : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
              set: item.deploymentTrafficAllocation
            } : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
              set: item.deploymentRolloutStrategy
            } : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
              set: item.deploymentHealthCheckConfig
            } : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? {
              set: item.trainingStartTime
            } : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? {
              set: item.trainingEndTime
            } : undefined,
          trainingDuration: item.trainingDuration !== undefined ? {
              set: item.trainingDuration
            } : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
              set: item.trainingDatasetSize
            } : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
              set: item.trainingFeaturesUsed
            } : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
              set: item.trainingHyperparameters
            } : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
              set: item.trainingResourcePeakMemoryMB
            } : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
              set: item.trainingResourceTotalCpuHours
            } : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
              set: item.trainingResourceGpuHours
            } : undefined,
          deployedAt: item.deployedAt !== undefined ? {
              set: item.deployedAt
            } : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? {
              set: item.deprecatedAt
            } : undefined,
      childVersions: item.childVersions ? 
      Array.isArray(item.childVersions) && item.childVersions.length > 0 && item.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.childVersions.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            parentVersionId: item.parentVersionId !== undefined ? {
                equals: item.parentVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            modelName: item.modelName !== undefined ? {
                set: item.modelName
              } : undefined,
            version: item.version !== undefined ? {
                set: item.version
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? {
                set: item.performanceAccuracy
              } : undefined,
            performancePrecision: item.performancePrecision !== undefined ? {
                set: item.performancePrecision
              } : undefined,
            performanceRecall: item.performanceRecall !== undefined ? {
                set: item.performanceRecall
              } : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? {
                set: item.performanceF1Score
              } : undefined,
            performanceAuc: item.performanceAuc !== undefined ? {
                set: item.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
                set: item.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
                set: item.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? {
                set: item.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
                set: item.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
                set: item.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
                set: item.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
                set: item.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
                set: item.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? {
                set: item.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? {
                set: item.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
                set: item.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
                set: item.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
                set: item.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
                set: item.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? {
                set: item.trainingStartTime
              } : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? {
                set: item.trainingEndTime
              } : undefined,
            trainingDuration: item.trainingDuration !== undefined ? {
                set: item.trainingDuration
              } : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
                set: item.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
                set: item.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
                set: item.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
                set: item.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
                set: item.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.deployedAt !== undefined ? {
                set: item.deployedAt
              } : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? {
                set: item.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
      Array.isArray(item.artifacts) && item.artifacts.length > 0 && item.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.artifacts.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
      Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 && item.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.abTestsAsControl.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
      Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 && item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.abTestsAsTreatment.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
      Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 && item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.featureImportanceAnalyses.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            analysisType: item.analysisType !== undefined ? {
                set: item.analysisType
              } : undefined,
            featureImportances: item.featureImportances !== undefined ? {
                set: item.featureImportances
              } : undefined,
            globalImportance: item.globalImportance !== undefined ? {
                set: item.globalImportance
              } : undefined,
            localImportance: item.localImportance !== undefined ? {
                set: item.localImportance
              } : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
                set: item.analysisMetadataSampleSize
              } : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
                set: item.analysisMetadataBaselineAccuracy
              } : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
                set: item.analysisMetadataAnalysisDate
              } : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
                set: item.analysisMetadataComputationTime
              } : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
                set: item.analysisMetadataAnalysisParameters
              } : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
                set: item.insightsTopFeatures
              } : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
                set: item.insightsRedundantFeatures
              } : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
                set: item.insightsUnexpectedImportances
              } : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
                set: item.insightsStabilityScore
              } : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? {
                set: item.insightsRecommendations
              } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
        create: {
          modelName: item.modelName !== undefined ? item.modelName : undefined,
          version: item.version !== undefined ? item.version : undefined,
          status: item.status !== undefined ? item.status : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
          performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
          performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
          performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
          trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
          deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
      childVersions: item.childVersions ? 
        Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
        Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
        Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
        Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
        Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }))
    } : undefined,
    artifacts: props.treatmentVersion.artifacts ? 
    Array.isArray(props.treatmentVersion.artifacts) && props.treatmentVersion.artifacts.length > 0 && props.treatmentVersion.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: props.treatmentVersion.artifacts.map((item: any) => ({
      id: item.id
    }))
} : { upsert: props.treatmentVersion.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId
            } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
      modelArtifact: item.modelArtifact ? 
      typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && (Object.keys(item.modelArtifact)[0] === 'id' || Object.keys(item.modelArtifact)[0] === 'symbol')
? {
      connect: {
        id: item.modelArtifact.id
      }
} : { upsert: {
          where: {
            id: item.modelArtifact.id !== undefined ? {
                equals: item.modelArtifact.id
              } : undefined,
          },
          update: {
            id: item.modelArtifact.id !== undefined ? {
                set: item.modelArtifact.id
              } : undefined,
            modelName: item.modelArtifact.modelName !== undefined ? {
                set: item.modelArtifact.modelName
              } : undefined,
            version: item.modelArtifact.version !== undefined ? {
                set: item.modelArtifact.version
              } : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? {
                set: item.modelArtifact.artifactType
              } : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? {
                set: item.modelArtifact.storageUrl
              } : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? {
                set: item.modelArtifact.storageProvider
              } : undefined,
            fileSize: item.modelArtifact.fileSize !== undefined ? {
                set: item.modelArtifact.fileSize
              } : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? {
                set: item.modelArtifact.checksum
              } : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? {
                set: item.modelArtifact.compressionType
              } : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? {
                set: item.modelArtifact.metadataFramework
              } : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? {
                set: item.modelArtifact.metadataPythonVersion
              } : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? {
                set: item.modelArtifact.metadataDependencies
              } : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? {
                set: item.modelArtifact.metadataTrainingDate
              } : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? {
                set: item.modelArtifact.metadataDatasetSize
              } : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? {
                set: item.modelArtifact.metadataHyperparameters
              } : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsControl: props.treatmentVersion.abTestsAsControl ? 
    Array.isArray(props.treatmentVersion.abTestsAsControl) && props.treatmentVersion.abTestsAsControl.length > 0 && props.treatmentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: props.treatmentVersion.abTestsAsControl.map((item: any) => ({
      id: item.id
    }))
} : { upsert: props.treatmentVersion.abTestsAsControl.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name
            } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId
            } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          name: item.name !== undefined ? {
              set: item.name
            } : undefined,
          description: item.description !== undefined ? {
              set: item.description
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
              set: item.trafficSplitControlPercent
            } : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
              set: item.trafficSplitTreatmentPercent
            } : undefined,
          targetMetrics: item.targetMetrics !== undefined ? {
              set: item.targetMetrics
            } : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
              set: item.successCriteriaPrimaryMetric
            } : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
              set: item.successCriteriaMinimumDetectableEffect
            } : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
              set: item.successCriteriaSignificanceLevel
            } : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
              set: item.successCriteriaPowerLevel
            } : undefined,
          startDate: item.startDate !== undefined ? {
              set: item.startDate
            } : undefined,
          endDate: item.endDate !== undefined ? {
              set: item.endDate
            } : undefined,
          plannedDuration: item.plannedDuration !== undefined ? {
              set: item.plannedDuration
            } : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
              set: item.resultsControlMetrics
            } : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
              set: item.resultsTreatmentMetrics
            } : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
              set: item.resultsStatisticalSignificance
            } : undefined,
          resultsPValues: item.resultsPValues !== undefined ? {
              set: item.resultsPValues
            } : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
              set: item.resultsConfidenceIntervals
            } : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? {
              set: item.resultsRecommendation
            } : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? {
              set: item.metadataEnvironment
            } : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
              set: item.metadataEligibilityCriteria
            } : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
              set: item.metadataExclusionCriteria
            } : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
              set: item.metadataSegmentationRules
            } : undefined,
          completedAt: item.completedAt !== undefined ? {
              set: item.completedAt
            } : undefined,
      treatmentVersion: item.treatmentVersion ? 
      typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && (Object.keys(item.treatmentVersion)[0] === 'id' || Object.keys(item.treatmentVersion)[0] === 'symbol')
? {
      connect: {
        id: item.treatmentVersion.id
      }
} : { upsert: {
          where: {
            id: item.treatmentVersion.id !== undefined ? {
                equals: item.treatmentVersion.id
              } : undefined,
            parentVersionId: item.treatmentVersion.parentVersionId !== undefined ? {
                equals: item.treatmentVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: item.treatmentVersion.id !== undefined ? {
                set: item.treatmentVersion.id
              } : undefined,
            modelName: item.treatmentVersion.modelName !== undefined ? {
                set: item.treatmentVersion.modelName
              } : undefined,
            version: item.treatmentVersion.version !== undefined ? {
                set: item.treatmentVersion.version
              } : undefined,
            status: item.treatmentVersion.status !== undefined ? {
                set: item.treatmentVersion.status
              } : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? {
                set: item.treatmentVersion.performanceAccuracy
              } : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? {
                set: item.treatmentVersion.performancePrecision
              } : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? {
                set: item.treatmentVersion.performanceRecall
              } : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? {
                set: item.treatmentVersion.performanceF1Score
              } : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? {
                set: item.treatmentVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? {
                set: item.treatmentVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? {
                set: item.treatmentVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? {
                set: item.treatmentVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? {
                set: item.treatmentVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? {
                set: item.treatmentVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? {
                set: item.treatmentVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? {
                set: item.treatmentVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? {
                set: item.treatmentVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? {
                set: item.treatmentVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? {
                set: item.treatmentVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? {
                set: item.treatmentVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? {
                set: item.treatmentVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? {
                set: item.treatmentVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? {
                set: item.treatmentVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? {
                set: item.treatmentVersion.trainingStartTime
              } : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? {
                set: item.treatmentVersion.trainingEndTime
              } : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? {
                set: item.treatmentVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? {
                set: item.treatmentVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? {
                set: item.treatmentVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? {
                set: item.treatmentVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.treatmentVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: item.treatmentVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? {
                set: item.treatmentVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? {
                set: item.treatmentVersion.deployedAt
              } : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? {
                set: item.treatmentVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      treatmentVersion: item.treatmentVersion ? 
        typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: props.treatmentVersion.featureImportanceAnalyses ? 
    Array.isArray(props.treatmentVersion.featureImportanceAnalyses) && props.treatmentVersion.featureImportanceAnalyses.length > 0 && props.treatmentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: props.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
      id: item.id
    }))
} : { upsert: props.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          analysisType: item.analysisType !== undefined ? {
              set: item.analysisType
            } : undefined,
          featureImportances: item.featureImportances !== undefined ? {
              set: item.featureImportances
            } : undefined,
          globalImportance: item.globalImportance !== undefined ? {
              set: item.globalImportance
            } : undefined,
          localImportance: item.localImportance !== undefined ? {
              set: item.localImportance
            } : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
              set: item.analysisMetadataSampleSize
            } : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
              set: item.analysisMetadataBaselineAccuracy
            } : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
              set: item.analysisMetadataAnalysisDate
            } : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
              set: item.analysisMetadataComputationTime
            } : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
              set: item.analysisMetadataAnalysisParameters
            } : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
              set: item.insightsTopFeatures
            } : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
              set: item.insightsRedundantFeatures
            } : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
              set: item.insightsUnexpectedImportances
            } : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
              set: item.insightsStabilityScore
            } : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? {
              set: item.insightsRecommendations
            } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
      create: {
        modelName: props.treatmentVersion.modelName !== undefined ? props.treatmentVersion.modelName : undefined,
        version: props.treatmentVersion.version !== undefined ? props.treatmentVersion.version : undefined,
        status: props.treatmentVersion.status !== undefined ? props.treatmentVersion.status : undefined,
        performanceAccuracy: props.treatmentVersion.performanceAccuracy !== undefined ? props.treatmentVersion.performanceAccuracy : undefined,
        performancePrecision: props.treatmentVersion.performancePrecision !== undefined ? props.treatmentVersion.performancePrecision : undefined,
        performanceRecall: props.treatmentVersion.performanceRecall !== undefined ? props.treatmentVersion.performanceRecall : undefined,
        performanceF1Score: props.treatmentVersion.performanceF1Score !== undefined ? props.treatmentVersion.performanceF1Score : undefined,
        performanceAuc: props.treatmentVersion.performanceAuc !== undefined ? props.treatmentVersion.performanceAuc : undefined,
        performanceSharpeRatio: props.treatmentVersion.performanceSharpeRatio !== undefined ? props.treatmentVersion.performanceSharpeRatio : undefined,
        performanceMaxDrawdown: props.treatmentVersion.performanceMaxDrawdown !== undefined ? props.treatmentVersion.performanceMaxDrawdown : undefined,
        performanceWinRate: props.treatmentVersion.performanceWinRate !== undefined ? props.treatmentVersion.performanceWinRate : undefined,
        performanceAvgReturn: props.treatmentVersion.performanceAvgReturn !== undefined ? props.treatmentVersion.performanceAvgReturn : undefined,
        performanceCalibrationScore: props.treatmentVersion.performanceCalibrationScore !== undefined ? props.treatmentVersion.performanceCalibrationScore : undefined,
        performanceStabilityScore: props.treatmentVersion.performanceStabilityScore !== undefined ? props.treatmentVersion.performanceStabilityScore : undefined,
        validationCrossValidationScore: props.treatmentVersion.validationCrossValidationScore !== undefined ? props.treatmentVersion.validationCrossValidationScore : undefined,
        validationOutOfSamplePerformance: props.treatmentVersion.validationOutOfSamplePerformance !== undefined ? props.treatmentVersion.validationOutOfSamplePerformance : undefined,
        validationBacktestResults: props.treatmentVersion.validationBacktestResults !== undefined ? props.treatmentVersion.validationBacktestResults : undefined,
        validationStatTestResults: props.treatmentVersion.validationStatTestResults !== undefined ? props.treatmentVersion.validationStatTestResults : undefined,
        deploymentEnvironment: props.treatmentVersion.deploymentEnvironment !== undefined ? props.treatmentVersion.deploymentEnvironment : undefined,
        deploymentTrafficAllocation: props.treatmentVersion.deploymentTrafficAllocation !== undefined ? props.treatmentVersion.deploymentTrafficAllocation : undefined,
        deploymentRolloutStrategy: props.treatmentVersion.deploymentRolloutStrategy !== undefined ? props.treatmentVersion.deploymentRolloutStrategy : undefined,
        deploymentHealthCheckConfig: props.treatmentVersion.deploymentHealthCheckConfig !== undefined ? props.treatmentVersion.deploymentHealthCheckConfig : undefined,
        trainingStartTime: props.treatmentVersion.trainingStartTime !== undefined ? props.treatmentVersion.trainingStartTime : undefined,
        trainingEndTime: props.treatmentVersion.trainingEndTime !== undefined ? props.treatmentVersion.trainingEndTime : undefined,
        trainingDuration: props.treatmentVersion.trainingDuration !== undefined ? props.treatmentVersion.trainingDuration : undefined,
        trainingDatasetSize: props.treatmentVersion.trainingDatasetSize !== undefined ? props.treatmentVersion.trainingDatasetSize : undefined,
        trainingFeaturesUsed: props.treatmentVersion.trainingFeaturesUsed !== undefined ? props.treatmentVersion.trainingFeaturesUsed : undefined,
        trainingHyperparameters: props.treatmentVersion.trainingHyperparameters !== undefined ? props.treatmentVersion.trainingHyperparameters : undefined,
        trainingResourcePeakMemoryMB: props.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? props.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
        trainingResourceTotalCpuHours: props.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? props.treatmentVersion.trainingResourceTotalCpuHours : undefined,
        trainingResourceGpuHours: props.treatmentVersion.trainingResourceGpuHours !== undefined ? props.treatmentVersion.trainingResourceGpuHours : undefined,
        deployedAt: props.treatmentVersion.deployedAt !== undefined ? props.treatmentVersion.deployedAt : undefined,
        deprecatedAt: props.treatmentVersion.deprecatedAt !== undefined ? props.treatmentVersion.deprecatedAt : undefined,
    parentVersion: props.treatmentVersion.parentVersion ? 
      typeof props.treatmentVersion.parentVersion === 'object' && Object.keys(props.treatmentVersion.parentVersion).length === 1 && Object.keys(props.treatmentVersion.parentVersion)[0] === 'id'
    ? { connect: {
          id: props.treatmentVersion.parentVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: props.treatmentVersion.parentVersion.id !== undefined ? props.treatmentVersion.parentVersion.id : undefined,
        },
        create: {
          modelName: props.treatmentVersion.parentVersion.modelName !== undefined ? props.treatmentVersion.parentVersion.modelName : undefined,
          version: props.treatmentVersion.parentVersion.version !== undefined ? props.treatmentVersion.parentVersion.version : undefined,
          status: props.treatmentVersion.parentVersion.status !== undefined ? props.treatmentVersion.parentVersion.status : undefined,
          performanceAccuracy: props.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? props.treatmentVersion.parentVersion.performanceAccuracy : undefined,
          performancePrecision: props.treatmentVersion.parentVersion.performancePrecision !== undefined ? props.treatmentVersion.parentVersion.performancePrecision : undefined,
          performanceRecall: props.treatmentVersion.parentVersion.performanceRecall !== undefined ? props.treatmentVersion.parentVersion.performanceRecall : undefined,
          performanceF1Score: props.treatmentVersion.parentVersion.performanceF1Score !== undefined ? props.treatmentVersion.parentVersion.performanceF1Score : undefined,
          performanceAuc: props.treatmentVersion.parentVersion.performanceAuc !== undefined ? props.treatmentVersion.parentVersion.performanceAuc : undefined,
          performanceSharpeRatio: props.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.treatmentVersion.parentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: props.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.treatmentVersion.parentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: props.treatmentVersion.parentVersion.performanceWinRate !== undefined ? props.treatmentVersion.parentVersion.performanceWinRate : undefined,
          performanceAvgReturn: props.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? props.treatmentVersion.parentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: props.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.treatmentVersion.parentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: props.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? props.treatmentVersion.parentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: props.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.treatmentVersion.parentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: props.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.treatmentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: props.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? props.treatmentVersion.parentVersion.validationBacktestResults : undefined,
          validationStatTestResults: props.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? props.treatmentVersion.parentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: props.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? props.treatmentVersion.parentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: props.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.treatmentVersion.parentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: props.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.treatmentVersion.parentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: props.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.treatmentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: props.treatmentVersion.parentVersion.trainingStartTime !== undefined ? props.treatmentVersion.parentVersion.trainingStartTime : undefined,
          trainingEndTime: props.treatmentVersion.parentVersion.trainingEndTime !== undefined ? props.treatmentVersion.parentVersion.trainingEndTime : undefined,
          trainingDuration: props.treatmentVersion.parentVersion.trainingDuration !== undefined ? props.treatmentVersion.parentVersion.trainingDuration : undefined,
          trainingDatasetSize: props.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? props.treatmentVersion.parentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: props.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.treatmentVersion.parentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: props.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? props.treatmentVersion.parentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: props.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: props.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.treatmentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: props.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.treatmentVersion.parentVersion.trainingResourceGpuHours : undefined,
          deployedAt: props.treatmentVersion.parentVersion.deployedAt !== undefined ? props.treatmentVersion.parentVersion.deployedAt : undefined,
          deprecatedAt: props.treatmentVersion.parentVersion.deprecatedAt !== undefined ? props.treatmentVersion.parentVersion.deprecatedAt : undefined,
      parentVersion: props.treatmentVersion.parentVersion.parentVersion ? 
        typeof props.treatmentVersion.parentVersion.parentVersion === 'object' && Object.keys(props.treatmentVersion.parentVersion.parentVersion).length === 1 && Object.keys(props.treatmentVersion.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: props.treatmentVersion.parentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: props.treatmentVersion.parentVersion.parentVersion.id !== undefined ? props.treatmentVersion.parentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: props.treatmentVersion.parentVersion.parentVersion.modelName !== undefined ? props.treatmentVersion.parentVersion.parentVersion.modelName : undefined,
            version: props.treatmentVersion.parentVersion.parentVersion.version !== undefined ? props.treatmentVersion.parentVersion.parentVersion.version : undefined,
            status: props.treatmentVersion.parentVersion.parentVersion.status !== undefined ? props.treatmentVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: props.treatmentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: props.treatmentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: props.treatmentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: props.treatmentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: props.treatmentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: props.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: props.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: props.treatmentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: props.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: props.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: props.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: props.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: props.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: props.treatmentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: props.treatmentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.treatmentVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: props.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: props.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: props.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: props.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: props.treatmentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: props.treatmentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: props.treatmentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: props.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: props.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: props.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: props.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: props.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: props.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: props.treatmentVersion.parentVersion.parentVersion.deployedAt !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: props.treatmentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? props.treatmentVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: props.treatmentVersion.parentVersion.artifacts ? 
        Array.isArray(props.treatmentVersion.parentVersion.artifacts) && props.treatmentVersion.parentVersion.artifacts.length > 0 &&  props.treatmentVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.treatmentVersion.parentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.treatmentVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: props.treatmentVersion.parentVersion.abTestsAsControl ? 
        Array.isArray(props.treatmentVersion.parentVersion.abTestsAsControl) && props.treatmentVersion.parentVersion.abTestsAsControl.length > 0 &&  props.treatmentVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.treatmentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.treatmentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: props.treatmentVersion.parentVersion.abTestsAsTreatment ? 
        Array.isArray(props.treatmentVersion.parentVersion.abTestsAsTreatment) && props.treatmentVersion.parentVersion.abTestsAsTreatment.length > 0 &&  props.treatmentVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.treatmentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.treatmentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: props.treatmentVersion.parentVersion.featureImportanceAnalyses ? 
        Array.isArray(props.treatmentVersion.parentVersion.featureImportanceAnalyses) && props.treatmentVersion.parentVersion.featureImportanceAnalyses.length > 0 &&  props.treatmentVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.treatmentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.treatmentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
    childVersions: props.treatmentVersion.childVersions ? 
      Array.isArray(props.treatmentVersion.childVersions) && props.treatmentVersion.childVersions.length > 0 &&  props.treatmentVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.treatmentVersion.childVersions.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.treatmentVersion.childVersions.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
        },
        create: {
          modelName: item.modelName !== undefined ? item.modelName : undefined,
          version: item.version !== undefined ? item.version : undefined,
          status: item.status !== undefined ? item.status : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
          performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
          performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
          performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
          trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
          deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
      childVersions: item.childVersions ? 
        Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
        Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
        Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
        Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
        Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }))
    } : undefined,
    artifacts: props.treatmentVersion.artifacts ? 
      Array.isArray(props.treatmentVersion.artifacts) && props.treatmentVersion.artifacts.length > 0 &&  props.treatmentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.treatmentVersion.artifacts.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.treatmentVersion.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId 
             } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsControl: props.treatmentVersion.abTestsAsControl ? 
      Array.isArray(props.treatmentVersion.abTestsAsControl) && props.treatmentVersion.abTestsAsControl.length > 0 &&  props.treatmentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.treatmentVersion.abTestsAsControl.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.treatmentVersion.abTestsAsControl.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      treatmentVersion: item.treatmentVersion ? 
        typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: props.treatmentVersion.featureImportanceAnalyses ? 
      Array.isArray(props.treatmentVersion.featureImportanceAnalyses) && props.treatmentVersion.featureImportanceAnalyses.length > 0 &&  props.treatmentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
    }
  } : undefined,
      },
        };

        const filteredVariables = removeUndefinedProps(variables);

        const response = await client.mutate({
          mutation: UPSERT_ONE_ABTEST,
          variables: filteredVariables,
          // Don't cache mutations, but ensure we're using the freshest context
          fetchPolicy: 'no-cache'
        });

        if (response.errors && response.errors.length > 0) throw new Error(response.errors[0].message);
        if (response && response.data && response.data.upsertOneABTest) {
          return response.data.upsertOneABTest;
        } else {
          return null as any;
        }
      } catch (error: any) {
        lastError = error;

        // Check if this is a database connection error that we should retry
        const isConnectionError =
          error.message?.includes('Server has closed the connection') ||
          error.message?.includes('Cannot reach database server') ||
          error.message?.includes('Connection timed out') ||
          error.message?.includes('Accelerate') || // Prisma Accelerate proxy errors
          (error.networkError && error.networkError.message?.includes('Failed to fetch'));

        if (isConnectionError && retryCount < MAX_RETRIES - 1) {
          retryCount++;
          const delay = Math.pow(2, retryCount) * 100; // Exponential backoff: 200ms, 400ms, 800ms
          console.warn("Database connection error, retrying...");
          await new Promise(resolve => setTimeout(resolve, delay));
          continue;
        }

        // Log the error and rethrow
        console.error("Database error occurred:", error);
        throw error;
      }
    }

    // If we exhausted retries, throw the last error
    throw lastError;
  },

  /**
   * Update multiple ABTest records.
   * Enhanced with connection resilience against Prisma connection errors.
   * @param props - Array of ABTest objects for the updated records.
   * @param globalClient - Apollo Client instance.
   * @returns The count of created records or null.
   */
  async updateMany(props: ABTestType[], globalClient?: ApolloClientType<NormalizedCacheObject>): Promise<{ count: number } | null> {
    // Maximum number of retries for database connection issues
    const MAX_RETRIES = 3;
    let retryCount = 0;
    let lastError: any = null;

    // Retry loop to handle potential database connection issues
    while (retryCount < MAX_RETRIES) {
      try {
        const [modules, client] = await Promise.all([
          getApolloModules(),
          globalClient
            ? Promise.resolve(globalClient)
            : importedClient
        ]);

        const { gql, ApolloError } = modules;

        const UPDATE_MANY_ABTEST = gql`
          mutation updateManyABTest($data: [ABTestCreateManyInput!]!) {
            updateManyABTest(data: $data) {
              count
            }
          }`;

        const variables = props.map(prop => ({
          where: {
              id: prop.id !== undefined ? prop.id : undefined,
  name: prop.name !== undefined ? {
    equals: prop.name 
  } : undefined,
  modelVersionAId: prop.modelVersionAId !== undefined ? {
    equals: prop.modelVersionAId 
  } : undefined,
  modelVersionBId: prop.modelVersionBId !== undefined ? {
    equals: prop.modelVersionBId 
  } : undefined,

          },
          data: {
              id: prop.id !== undefined ? {
            set: prop.id 
           } : undefined,
  name: prop.name !== undefined ? {
            set: prop.name 
           } : undefined,
  description: prop.description !== undefined ? {
            set: prop.description 
           } : undefined,
  status: prop.status !== undefined ? {
            set: prop.status 
           } : undefined,
  trafficSplitControlPercent: prop.trafficSplitControlPercent !== undefined ? {
            set: prop.trafficSplitControlPercent 
           } : undefined,
  trafficSplitTreatmentPercent: prop.trafficSplitTreatmentPercent !== undefined ? {
            set: prop.trafficSplitTreatmentPercent 
           } : undefined,
  targetMetrics: prop.targetMetrics !== undefined ? {
            set: prop.targetMetrics 
           } : undefined,
  successCriteriaPrimaryMetric: prop.successCriteriaPrimaryMetric !== undefined ? {
            set: prop.successCriteriaPrimaryMetric 
           } : undefined,
  successCriteriaMinimumDetectableEffect: prop.successCriteriaMinimumDetectableEffect !== undefined ? {
            set: prop.successCriteriaMinimumDetectableEffect 
           } : undefined,
  successCriteriaSignificanceLevel: prop.successCriteriaSignificanceLevel !== undefined ? {
            set: prop.successCriteriaSignificanceLevel 
           } : undefined,
  successCriteriaPowerLevel: prop.successCriteriaPowerLevel !== undefined ? {
            set: prop.successCriteriaPowerLevel 
           } : undefined,
  startDate: prop.startDate !== undefined ? {
            set: prop.startDate 
           } : undefined,
  endDate: prop.endDate !== undefined ? {
            set: prop.endDate 
           } : undefined,
  plannedDuration: prop.plannedDuration !== undefined ? {
            set: prop.plannedDuration 
           } : undefined,
  resultsControlMetrics: prop.resultsControlMetrics !== undefined ? {
            set: prop.resultsControlMetrics 
           } : undefined,
  resultsTreatmentMetrics: prop.resultsTreatmentMetrics !== undefined ? {
            set: prop.resultsTreatmentMetrics 
           } : undefined,
  resultsStatisticalSignificance: prop.resultsStatisticalSignificance !== undefined ? {
            set: prop.resultsStatisticalSignificance 
           } : undefined,
  resultsPValues: prop.resultsPValues !== undefined ? {
            set: prop.resultsPValues 
           } : undefined,
  resultsConfidenceIntervals: prop.resultsConfidenceIntervals !== undefined ? {
            set: prop.resultsConfidenceIntervals 
           } : undefined,
  resultsRecommendation: prop.resultsRecommendation !== undefined ? {
            set: prop.resultsRecommendation 
           } : undefined,
  metadataEnvironment: prop.metadataEnvironment !== undefined ? {
            set: prop.metadataEnvironment 
           } : undefined,
  metadataEligibilityCriteria: prop.metadataEligibilityCriteria !== undefined ? {
            set: prop.metadataEligibilityCriteria 
           } : undefined,
  metadataExclusionCriteria: prop.metadataExclusionCriteria !== undefined ? {
            set: prop.metadataExclusionCriteria 
           } : undefined,
  metadataSegmentationRules: prop.metadataSegmentationRules !== undefined ? {
            set: prop.metadataSegmentationRules 
           } : undefined,
  createdAt: prop.createdAt !== undefined ? {
            set: prop.createdAt 
           } : undefined,
  updatedAt: prop.updatedAt !== undefined ? {
            set: prop.updatedAt 
           } : undefined,
  completedAt: prop.completedAt !== undefined ? {
            set: prop.completedAt 
           } : undefined,
  controlVersion: prop.controlVersion ? 
  typeof prop.controlVersion === 'object' && Object.keys(prop.controlVersion).length === 1 && (Object.keys(prop.controlVersion)[0] === 'id' || Object.keys(prop.controlVersion)[0] === 'symbol')
? {
  connect: {
    id: prop.controlVersion.id
  }
} : { upsert: {
      where: {
        id: prop.controlVersion.id !== undefined ? {
            equals: prop.controlVersion.id
          } : undefined,
        parentVersionId: prop.controlVersion.parentVersionId !== undefined ? {
            equals: prop.controlVersion.parentVersionId
          } : undefined,
      },
      update: {
        id: prop.controlVersion.id !== undefined ? {
            set: prop.controlVersion.id
          } : undefined,
        modelName: prop.controlVersion.modelName !== undefined ? {
            set: prop.controlVersion.modelName
          } : undefined,
        version: prop.controlVersion.version !== undefined ? {
            set: prop.controlVersion.version
          } : undefined,
        status: prop.controlVersion.status !== undefined ? {
            set: prop.controlVersion.status
          } : undefined,
        performanceAccuracy: prop.controlVersion.performanceAccuracy !== undefined ? {
            set: prop.controlVersion.performanceAccuracy
          } : undefined,
        performancePrecision: prop.controlVersion.performancePrecision !== undefined ? {
            set: prop.controlVersion.performancePrecision
          } : undefined,
        performanceRecall: prop.controlVersion.performanceRecall !== undefined ? {
            set: prop.controlVersion.performanceRecall
          } : undefined,
        performanceF1Score: prop.controlVersion.performanceF1Score !== undefined ? {
            set: prop.controlVersion.performanceF1Score
          } : undefined,
        performanceAuc: prop.controlVersion.performanceAuc !== undefined ? {
            set: prop.controlVersion.performanceAuc
          } : undefined,
        performanceSharpeRatio: prop.controlVersion.performanceSharpeRatio !== undefined ? {
            set: prop.controlVersion.performanceSharpeRatio
          } : undefined,
        performanceMaxDrawdown: prop.controlVersion.performanceMaxDrawdown !== undefined ? {
            set: prop.controlVersion.performanceMaxDrawdown
          } : undefined,
        performanceWinRate: prop.controlVersion.performanceWinRate !== undefined ? {
            set: prop.controlVersion.performanceWinRate
          } : undefined,
        performanceAvgReturn: prop.controlVersion.performanceAvgReturn !== undefined ? {
            set: prop.controlVersion.performanceAvgReturn
          } : undefined,
        performanceCalibrationScore: prop.controlVersion.performanceCalibrationScore !== undefined ? {
            set: prop.controlVersion.performanceCalibrationScore
          } : undefined,
        performanceStabilityScore: prop.controlVersion.performanceStabilityScore !== undefined ? {
            set: prop.controlVersion.performanceStabilityScore
          } : undefined,
        validationCrossValidationScore: prop.controlVersion.validationCrossValidationScore !== undefined ? {
            set: prop.controlVersion.validationCrossValidationScore
          } : undefined,
        validationOutOfSamplePerformance: prop.controlVersion.validationOutOfSamplePerformance !== undefined ? {
            set: prop.controlVersion.validationOutOfSamplePerformance
          } : undefined,
        validationBacktestResults: prop.controlVersion.validationBacktestResults !== undefined ? {
            set: prop.controlVersion.validationBacktestResults
          } : undefined,
        validationStatTestResults: prop.controlVersion.validationStatTestResults !== undefined ? {
            set: prop.controlVersion.validationStatTestResults
          } : undefined,
        deploymentEnvironment: prop.controlVersion.deploymentEnvironment !== undefined ? {
            set: prop.controlVersion.deploymentEnvironment
          } : undefined,
        deploymentTrafficAllocation: prop.controlVersion.deploymentTrafficAllocation !== undefined ? {
            set: prop.controlVersion.deploymentTrafficAllocation
          } : undefined,
        deploymentRolloutStrategy: prop.controlVersion.deploymentRolloutStrategy !== undefined ? {
            set: prop.controlVersion.deploymentRolloutStrategy
          } : undefined,
        deploymentHealthCheckConfig: prop.controlVersion.deploymentHealthCheckConfig !== undefined ? {
            set: prop.controlVersion.deploymentHealthCheckConfig
          } : undefined,
        trainingStartTime: prop.controlVersion.trainingStartTime !== undefined ? {
            set: prop.controlVersion.trainingStartTime
          } : undefined,
        trainingEndTime: prop.controlVersion.trainingEndTime !== undefined ? {
            set: prop.controlVersion.trainingEndTime
          } : undefined,
        trainingDuration: prop.controlVersion.trainingDuration !== undefined ? {
            set: prop.controlVersion.trainingDuration
          } : undefined,
        trainingDatasetSize: prop.controlVersion.trainingDatasetSize !== undefined ? {
            set: prop.controlVersion.trainingDatasetSize
          } : undefined,
        trainingFeaturesUsed: prop.controlVersion.trainingFeaturesUsed !== undefined ? {
            set: prop.controlVersion.trainingFeaturesUsed
          } : undefined,
        trainingHyperparameters: prop.controlVersion.trainingHyperparameters !== undefined ? {
            set: prop.controlVersion.trainingHyperparameters
          } : undefined,
        trainingResourcePeakMemoryMB: prop.controlVersion.trainingResourcePeakMemoryMB !== undefined ? {
            set: prop.controlVersion.trainingResourcePeakMemoryMB
          } : undefined,
        trainingResourceTotalCpuHours: prop.controlVersion.trainingResourceTotalCpuHours !== undefined ? {
            set: prop.controlVersion.trainingResourceTotalCpuHours
          } : undefined,
        trainingResourceGpuHours: prop.controlVersion.trainingResourceGpuHours !== undefined ? {
            set: prop.controlVersion.trainingResourceGpuHours
          } : undefined,
        deployedAt: prop.controlVersion.deployedAt !== undefined ? {
            set: prop.controlVersion.deployedAt
          } : undefined,
        deprecatedAt: prop.controlVersion.deprecatedAt !== undefined ? {
            set: prop.controlVersion.deprecatedAt
          } : undefined,
    parentVersion: prop.controlVersion.parentVersion ? 
    typeof prop.controlVersion.parentVersion === 'object' && Object.keys(prop.controlVersion.parentVersion).length === 1 && (Object.keys(prop.controlVersion.parentVersion)[0] === 'id' || Object.keys(prop.controlVersion.parentVersion)[0] === 'symbol')
? {
    connect: {
      id: prop.controlVersion.parentVersion.id
    }
} : { upsert: {
        where: {
          id: prop.controlVersion.parentVersion.id !== undefined ? {
              equals: prop.controlVersion.parentVersion.id
            } : undefined,
          parentVersionId: prop.controlVersion.parentVersion.parentVersionId !== undefined ? {
              equals: prop.controlVersion.parentVersion.parentVersionId
            } : undefined,
        },
        update: {
          id: prop.controlVersion.parentVersion.id !== undefined ? {
              set: prop.controlVersion.parentVersion.id
            } : undefined,
          modelName: prop.controlVersion.parentVersion.modelName !== undefined ? {
              set: prop.controlVersion.parentVersion.modelName
            } : undefined,
          version: prop.controlVersion.parentVersion.version !== undefined ? {
              set: prop.controlVersion.parentVersion.version
            } : undefined,
          status: prop.controlVersion.parentVersion.status !== undefined ? {
              set: prop.controlVersion.parentVersion.status
            } : undefined,
          performanceAccuracy: prop.controlVersion.parentVersion.performanceAccuracy !== undefined ? {
              set: prop.controlVersion.parentVersion.performanceAccuracy
            } : undefined,
          performancePrecision: prop.controlVersion.parentVersion.performancePrecision !== undefined ? {
              set: prop.controlVersion.parentVersion.performancePrecision
            } : undefined,
          performanceRecall: prop.controlVersion.parentVersion.performanceRecall !== undefined ? {
              set: prop.controlVersion.parentVersion.performanceRecall
            } : undefined,
          performanceF1Score: prop.controlVersion.parentVersion.performanceF1Score !== undefined ? {
              set: prop.controlVersion.parentVersion.performanceF1Score
            } : undefined,
          performanceAuc: prop.controlVersion.parentVersion.performanceAuc !== undefined ? {
              set: prop.controlVersion.parentVersion.performanceAuc
            } : undefined,
          performanceSharpeRatio: prop.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? {
              set: prop.controlVersion.parentVersion.performanceSharpeRatio
            } : undefined,
          performanceMaxDrawdown: prop.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? {
              set: prop.controlVersion.parentVersion.performanceMaxDrawdown
            } : undefined,
          performanceWinRate: prop.controlVersion.parentVersion.performanceWinRate !== undefined ? {
              set: prop.controlVersion.parentVersion.performanceWinRate
            } : undefined,
          performanceAvgReturn: prop.controlVersion.parentVersion.performanceAvgReturn !== undefined ? {
              set: prop.controlVersion.parentVersion.performanceAvgReturn
            } : undefined,
          performanceCalibrationScore: prop.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? {
              set: prop.controlVersion.parentVersion.performanceCalibrationScore
            } : undefined,
          performanceStabilityScore: prop.controlVersion.parentVersion.performanceStabilityScore !== undefined ? {
              set: prop.controlVersion.parentVersion.performanceStabilityScore
            } : undefined,
          validationCrossValidationScore: prop.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? {
              set: prop.controlVersion.parentVersion.validationCrossValidationScore
            } : undefined,
          validationOutOfSamplePerformance: prop.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? {
              set: prop.controlVersion.parentVersion.validationOutOfSamplePerformance
            } : undefined,
          validationBacktestResults: prop.controlVersion.parentVersion.validationBacktestResults !== undefined ? {
              set: prop.controlVersion.parentVersion.validationBacktestResults
            } : undefined,
          validationStatTestResults: prop.controlVersion.parentVersion.validationStatTestResults !== undefined ? {
              set: prop.controlVersion.parentVersion.validationStatTestResults
            } : undefined,
          deploymentEnvironment: prop.controlVersion.parentVersion.deploymentEnvironment !== undefined ? {
              set: prop.controlVersion.parentVersion.deploymentEnvironment
            } : undefined,
          deploymentTrafficAllocation: prop.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? {
              set: prop.controlVersion.parentVersion.deploymentTrafficAllocation
            } : undefined,
          deploymentRolloutStrategy: prop.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? {
              set: prop.controlVersion.parentVersion.deploymentRolloutStrategy
            } : undefined,
          deploymentHealthCheckConfig: prop.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? {
              set: prop.controlVersion.parentVersion.deploymentHealthCheckConfig
            } : undefined,
          trainingStartTime: prop.controlVersion.parentVersion.trainingStartTime !== undefined ? {
              set: prop.controlVersion.parentVersion.trainingStartTime
            } : undefined,
          trainingEndTime: prop.controlVersion.parentVersion.trainingEndTime !== undefined ? {
              set: prop.controlVersion.parentVersion.trainingEndTime
            } : undefined,
          trainingDuration: prop.controlVersion.parentVersion.trainingDuration !== undefined ? {
              set: prop.controlVersion.parentVersion.trainingDuration
            } : undefined,
          trainingDatasetSize: prop.controlVersion.parentVersion.trainingDatasetSize !== undefined ? {
              set: prop.controlVersion.parentVersion.trainingDatasetSize
            } : undefined,
          trainingFeaturesUsed: prop.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? {
              set: prop.controlVersion.parentVersion.trainingFeaturesUsed
            } : undefined,
          trainingHyperparameters: prop.controlVersion.parentVersion.trainingHyperparameters !== undefined ? {
              set: prop.controlVersion.parentVersion.trainingHyperparameters
            } : undefined,
          trainingResourcePeakMemoryMB: prop.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
              set: prop.controlVersion.parentVersion.trainingResourcePeakMemoryMB
            } : undefined,
          trainingResourceTotalCpuHours: prop.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
              set: prop.controlVersion.parentVersion.trainingResourceTotalCpuHours
            } : undefined,
          trainingResourceGpuHours: prop.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? {
              set: prop.controlVersion.parentVersion.trainingResourceGpuHours
            } : undefined,
          deployedAt: prop.controlVersion.parentVersion.deployedAt !== undefined ? {
              set: prop.controlVersion.parentVersion.deployedAt
            } : undefined,
          deprecatedAt: prop.controlVersion.parentVersion.deprecatedAt !== undefined ? {
              set: prop.controlVersion.parentVersion.deprecatedAt
            } : undefined,
      parentVersion: prop.controlVersion.parentVersion.parentVersion ? 
      typeof prop.controlVersion.parentVersion.parentVersion === 'object' && Object.keys(prop.controlVersion.parentVersion.parentVersion).length === 1 && (Object.keys(prop.controlVersion.parentVersion.parentVersion)[0] === 'id' || Object.keys(prop.controlVersion.parentVersion.parentVersion)[0] === 'symbol')
? {
      connect: {
        id: prop.controlVersion.parentVersion.parentVersion.id
      }
} : { upsert: {
          where: {
            id: prop.controlVersion.parentVersion.parentVersion.id !== undefined ? {
                equals: prop.controlVersion.parentVersion.parentVersion.id
              } : undefined,
            parentVersionId: prop.controlVersion.parentVersion.parentVersion.parentVersionId !== undefined ? {
                equals: prop.controlVersion.parentVersion.parentVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: prop.controlVersion.parentVersion.parentVersion.id !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.id
              } : undefined,
            modelName: prop.controlVersion.parentVersion.parentVersion.modelName !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.modelName
              } : undefined,
            version: prop.controlVersion.parentVersion.parentVersion.version !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.version
              } : undefined,
            status: prop.controlVersion.parentVersion.parentVersion.status !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.status
              } : undefined,
            performanceAccuracy: prop.controlVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.performanceAccuracy
              } : undefined,
            performancePrecision: prop.controlVersion.parentVersion.parentVersion.performancePrecision !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.performancePrecision
              } : undefined,
            performanceRecall: prop.controlVersion.parentVersion.parentVersion.performanceRecall !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.performanceRecall
              } : undefined,
            performanceF1Score: prop.controlVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.performanceF1Score
              } : undefined,
            performanceAuc: prop.controlVersion.parentVersion.parentVersion.performanceAuc !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: prop.controlVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: prop.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: prop.controlVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: prop.controlVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: prop.controlVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: prop.controlVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: prop.controlVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: prop.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: prop.controlVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: prop.controlVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: prop.controlVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: prop.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: prop.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: prop.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: prop.controlVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.trainingStartTime
              } : undefined,
            trainingEndTime: prop.controlVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.trainingEndTime
              } : undefined,
            trainingDuration: prop.controlVersion.parentVersion.parentVersion.trainingDuration !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: prop.controlVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: prop.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: prop.controlVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: prop.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: prop.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: prop.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: prop.controlVersion.parentVersion.parentVersion.deployedAt !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.deployedAt
              } : undefined,
            deprecatedAt: prop.controlVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? {
                set: prop.controlVersion.parentVersion.parentVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: prop.controlVersion.parentVersion.parentVersion.modelName !== undefined ? prop.controlVersion.parentVersion.parentVersion.modelName : undefined,
            version: prop.controlVersion.parentVersion.parentVersion.version !== undefined ? prop.controlVersion.parentVersion.parentVersion.version : undefined,
            status: prop.controlVersion.parentVersion.parentVersion.status !== undefined ? prop.controlVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: prop.controlVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: prop.controlVersion.parentVersion.parentVersion.performancePrecision !== undefined ? prop.controlVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: prop.controlVersion.parentVersion.parentVersion.performanceRecall !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: prop.controlVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: prop.controlVersion.parentVersion.parentVersion.performanceAuc !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: prop.controlVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: prop.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: prop.controlVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: prop.controlVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: prop.controlVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: prop.controlVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: prop.controlVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? prop.controlVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: prop.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? prop.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: prop.controlVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? prop.controlVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: prop.controlVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? prop.controlVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: prop.controlVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? prop.controlVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: prop.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? prop.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: prop.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? prop.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: prop.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? prop.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: prop.controlVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: prop.controlVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: prop.controlVersion.parentVersion.parentVersion.trainingDuration !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: prop.controlVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: prop.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: prop.controlVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: prop.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: prop.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: prop.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: prop.controlVersion.parentVersion.parentVersion.deployedAt !== undefined ? prop.controlVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: prop.controlVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? prop.controlVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: prop.controlVersion.parentVersion.artifacts ? 
      Array.isArray(prop.controlVersion.parentVersion.artifacts) && prop.controlVersion.parentVersion.artifacts.length > 0 && prop.controlVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: prop.controlVersion.parentVersion.artifacts.map((item: any) => ({
        id: item.id
      }))
} : { upsert: prop.controlVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: prop.controlVersion.parentVersion.abTestsAsControl ? 
      Array.isArray(prop.controlVersion.parentVersion.abTestsAsControl) && prop.controlVersion.parentVersion.abTestsAsControl.length > 0 && prop.controlVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: prop.controlVersion.parentVersion.abTestsAsControl.map((item: any) => ({
        id: item.id
      }))
} : { upsert: prop.controlVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: prop.controlVersion.parentVersion.abTestsAsTreatment ? 
      Array.isArray(prop.controlVersion.parentVersion.abTestsAsTreatment) && prop.controlVersion.parentVersion.abTestsAsTreatment.length > 0 && prop.controlVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: prop.controlVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
        id: item.id
      }))
} : { upsert: prop.controlVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: prop.controlVersion.parentVersion.featureImportanceAnalyses ? 
      Array.isArray(prop.controlVersion.parentVersion.featureImportanceAnalyses) && prop.controlVersion.parentVersion.featureImportanceAnalyses.length > 0 && prop.controlVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: prop.controlVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
        id: item.id
      }))
} : { upsert: prop.controlVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            analysisType: item.analysisType !== undefined ? {
                set: item.analysisType
              } : undefined,
            featureImportances: item.featureImportances !== undefined ? {
                set: item.featureImportances
              } : undefined,
            globalImportance: item.globalImportance !== undefined ? {
                set: item.globalImportance
              } : undefined,
            localImportance: item.localImportance !== undefined ? {
                set: item.localImportance
              } : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
                set: item.analysisMetadataSampleSize
              } : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
                set: item.analysisMetadataBaselineAccuracy
              } : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
                set: item.analysisMetadataAnalysisDate
              } : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
                set: item.analysisMetadataComputationTime
              } : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
                set: item.analysisMetadataAnalysisParameters
              } : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
                set: item.insightsTopFeatures
              } : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
                set: item.insightsRedundantFeatures
              } : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
                set: item.insightsUnexpectedImportances
              } : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
                set: item.insightsStabilityScore
              } : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? {
                set: item.insightsRecommendations
              } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
        create: {
          modelName: prop.controlVersion.parentVersion.modelName !== undefined ? prop.controlVersion.parentVersion.modelName : undefined,
          version: prop.controlVersion.parentVersion.version !== undefined ? prop.controlVersion.parentVersion.version : undefined,
          status: prop.controlVersion.parentVersion.status !== undefined ? prop.controlVersion.parentVersion.status : undefined,
          performanceAccuracy: prop.controlVersion.parentVersion.performanceAccuracy !== undefined ? prop.controlVersion.parentVersion.performanceAccuracy : undefined,
          performancePrecision: prop.controlVersion.parentVersion.performancePrecision !== undefined ? prop.controlVersion.parentVersion.performancePrecision : undefined,
          performanceRecall: prop.controlVersion.parentVersion.performanceRecall !== undefined ? prop.controlVersion.parentVersion.performanceRecall : undefined,
          performanceF1Score: prop.controlVersion.parentVersion.performanceF1Score !== undefined ? prop.controlVersion.parentVersion.performanceF1Score : undefined,
          performanceAuc: prop.controlVersion.parentVersion.performanceAuc !== undefined ? prop.controlVersion.parentVersion.performanceAuc : undefined,
          performanceSharpeRatio: prop.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? prop.controlVersion.parentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: prop.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? prop.controlVersion.parentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: prop.controlVersion.parentVersion.performanceWinRate !== undefined ? prop.controlVersion.parentVersion.performanceWinRate : undefined,
          performanceAvgReturn: prop.controlVersion.parentVersion.performanceAvgReturn !== undefined ? prop.controlVersion.parentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: prop.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? prop.controlVersion.parentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: prop.controlVersion.parentVersion.performanceStabilityScore !== undefined ? prop.controlVersion.parentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: prop.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? prop.controlVersion.parentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: prop.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? prop.controlVersion.parentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: prop.controlVersion.parentVersion.validationBacktestResults !== undefined ? prop.controlVersion.parentVersion.validationBacktestResults : undefined,
          validationStatTestResults: prop.controlVersion.parentVersion.validationStatTestResults !== undefined ? prop.controlVersion.parentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: prop.controlVersion.parentVersion.deploymentEnvironment !== undefined ? prop.controlVersion.parentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: prop.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? prop.controlVersion.parentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: prop.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? prop.controlVersion.parentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: prop.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? prop.controlVersion.parentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: prop.controlVersion.parentVersion.trainingStartTime !== undefined ? prop.controlVersion.parentVersion.trainingStartTime : undefined,
          trainingEndTime: prop.controlVersion.parentVersion.trainingEndTime !== undefined ? prop.controlVersion.parentVersion.trainingEndTime : undefined,
          trainingDuration: prop.controlVersion.parentVersion.trainingDuration !== undefined ? prop.controlVersion.parentVersion.trainingDuration : undefined,
          trainingDatasetSize: prop.controlVersion.parentVersion.trainingDatasetSize !== undefined ? prop.controlVersion.parentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: prop.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? prop.controlVersion.parentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: prop.controlVersion.parentVersion.trainingHyperparameters !== undefined ? prop.controlVersion.parentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: prop.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? prop.controlVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: prop.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? prop.controlVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: prop.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? prop.controlVersion.parentVersion.trainingResourceGpuHours : undefined,
          deployedAt: prop.controlVersion.parentVersion.deployedAt !== undefined ? prop.controlVersion.parentVersion.deployedAt : undefined,
          deprecatedAt: prop.controlVersion.parentVersion.deprecatedAt !== undefined ? prop.controlVersion.parentVersion.deprecatedAt : undefined,
      parentVersion: prop.controlVersion.parentVersion.parentVersion ? 
        typeof prop.controlVersion.parentVersion.parentVersion === 'object' && Object.keys(prop.controlVersion.parentVersion.parentVersion).length === 1 && Object.keys(prop.controlVersion.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: prop.controlVersion.parentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: prop.controlVersion.parentVersion.parentVersion.id !== undefined ? prop.controlVersion.parentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: prop.controlVersion.parentVersion.parentVersion.modelName !== undefined ? prop.controlVersion.parentVersion.parentVersion.modelName : undefined,
            version: prop.controlVersion.parentVersion.parentVersion.version !== undefined ? prop.controlVersion.parentVersion.parentVersion.version : undefined,
            status: prop.controlVersion.parentVersion.parentVersion.status !== undefined ? prop.controlVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: prop.controlVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: prop.controlVersion.parentVersion.parentVersion.performancePrecision !== undefined ? prop.controlVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: prop.controlVersion.parentVersion.parentVersion.performanceRecall !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: prop.controlVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: prop.controlVersion.parentVersion.parentVersion.performanceAuc !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: prop.controlVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: prop.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: prop.controlVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: prop.controlVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: prop.controlVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: prop.controlVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: prop.controlVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? prop.controlVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: prop.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? prop.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: prop.controlVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? prop.controlVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: prop.controlVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? prop.controlVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: prop.controlVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? prop.controlVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: prop.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? prop.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: prop.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? prop.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: prop.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? prop.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: prop.controlVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: prop.controlVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: prop.controlVersion.parentVersion.parentVersion.trainingDuration !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: prop.controlVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: prop.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: prop.controlVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: prop.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: prop.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: prop.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: prop.controlVersion.parentVersion.parentVersion.deployedAt !== undefined ? prop.controlVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: prop.controlVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? prop.controlVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: prop.controlVersion.parentVersion.artifacts ? 
        Array.isArray(prop.controlVersion.parentVersion.artifacts) && prop.controlVersion.parentVersion.artifacts.length > 0 &&  prop.controlVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        prop.controlVersion.parentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: prop.controlVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: prop.controlVersion.parentVersion.abTestsAsControl ? 
        Array.isArray(prop.controlVersion.parentVersion.abTestsAsControl) && prop.controlVersion.parentVersion.abTestsAsControl.length > 0 &&  prop.controlVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        prop.controlVersion.parentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: prop.controlVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: prop.controlVersion.parentVersion.abTestsAsTreatment ? 
        Array.isArray(prop.controlVersion.parentVersion.abTestsAsTreatment) && prop.controlVersion.parentVersion.abTestsAsTreatment.length > 0 &&  prop.controlVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        prop.controlVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: prop.controlVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: prop.controlVersion.parentVersion.featureImportanceAnalyses ? 
        Array.isArray(prop.controlVersion.parentVersion.featureImportanceAnalyses) && prop.controlVersion.parentVersion.featureImportanceAnalyses.length > 0 &&  prop.controlVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        prop.controlVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: prop.controlVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
    childVersions: prop.controlVersion.childVersions ? 
    Array.isArray(prop.controlVersion.childVersions) && prop.controlVersion.childVersions.length > 0 && prop.controlVersion.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: prop.controlVersion.childVersions.map((item: any) => ({
      id: item.id
    }))
} : { upsert: prop.controlVersion.childVersions.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          parentVersionId: item.parentVersionId !== undefined ? {
              equals: item.parentVersionId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          modelName: item.modelName !== undefined ? {
              set: item.modelName
            } : undefined,
          version: item.version !== undefined ? {
              set: item.version
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? {
              set: item.performanceAccuracy
            } : undefined,
          performancePrecision: item.performancePrecision !== undefined ? {
              set: item.performancePrecision
            } : undefined,
          performanceRecall: item.performanceRecall !== undefined ? {
              set: item.performanceRecall
            } : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? {
              set: item.performanceF1Score
            } : undefined,
          performanceAuc: item.performanceAuc !== undefined ? {
              set: item.performanceAuc
            } : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
              set: item.performanceSharpeRatio
            } : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
              set: item.performanceMaxDrawdown
            } : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? {
              set: item.performanceWinRate
            } : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
              set: item.performanceAvgReturn
            } : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
              set: item.performanceCalibrationScore
            } : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
              set: item.performanceStabilityScore
            } : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
              set: item.validationCrossValidationScore
            } : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
              set: item.validationOutOfSamplePerformance
            } : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? {
              set: item.validationBacktestResults
            } : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? {
              set: item.validationStatTestResults
            } : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
              set: item.deploymentEnvironment
            } : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
              set: item.deploymentTrafficAllocation
            } : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
              set: item.deploymentRolloutStrategy
            } : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
              set: item.deploymentHealthCheckConfig
            } : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? {
              set: item.trainingStartTime
            } : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? {
              set: item.trainingEndTime
            } : undefined,
          trainingDuration: item.trainingDuration !== undefined ? {
              set: item.trainingDuration
            } : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
              set: item.trainingDatasetSize
            } : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
              set: item.trainingFeaturesUsed
            } : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
              set: item.trainingHyperparameters
            } : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
              set: item.trainingResourcePeakMemoryMB
            } : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
              set: item.trainingResourceTotalCpuHours
            } : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
              set: item.trainingResourceGpuHours
            } : undefined,
          deployedAt: item.deployedAt !== undefined ? {
              set: item.deployedAt
            } : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? {
              set: item.deprecatedAt
            } : undefined,
      childVersions: item.childVersions ? 
      Array.isArray(item.childVersions) && item.childVersions.length > 0 && item.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.childVersions.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            parentVersionId: item.parentVersionId !== undefined ? {
                equals: item.parentVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            modelName: item.modelName !== undefined ? {
                set: item.modelName
              } : undefined,
            version: item.version !== undefined ? {
                set: item.version
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? {
                set: item.performanceAccuracy
              } : undefined,
            performancePrecision: item.performancePrecision !== undefined ? {
                set: item.performancePrecision
              } : undefined,
            performanceRecall: item.performanceRecall !== undefined ? {
                set: item.performanceRecall
              } : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? {
                set: item.performanceF1Score
              } : undefined,
            performanceAuc: item.performanceAuc !== undefined ? {
                set: item.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
                set: item.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
                set: item.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? {
                set: item.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
                set: item.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
                set: item.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
                set: item.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
                set: item.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
                set: item.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? {
                set: item.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? {
                set: item.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
                set: item.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
                set: item.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
                set: item.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
                set: item.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? {
                set: item.trainingStartTime
              } : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? {
                set: item.trainingEndTime
              } : undefined,
            trainingDuration: item.trainingDuration !== undefined ? {
                set: item.trainingDuration
              } : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
                set: item.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
                set: item.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
                set: item.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
                set: item.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
                set: item.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.deployedAt !== undefined ? {
                set: item.deployedAt
              } : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? {
                set: item.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
      Array.isArray(item.artifacts) && item.artifacts.length > 0 && item.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.artifacts.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
      Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 && item.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.abTestsAsControl.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
      Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 && item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.abTestsAsTreatment.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
      Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 && item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.featureImportanceAnalyses.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            analysisType: item.analysisType !== undefined ? {
                set: item.analysisType
              } : undefined,
            featureImportances: item.featureImportances !== undefined ? {
                set: item.featureImportances
              } : undefined,
            globalImportance: item.globalImportance !== undefined ? {
                set: item.globalImportance
              } : undefined,
            localImportance: item.localImportance !== undefined ? {
                set: item.localImportance
              } : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
                set: item.analysisMetadataSampleSize
              } : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
                set: item.analysisMetadataBaselineAccuracy
              } : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
                set: item.analysisMetadataAnalysisDate
              } : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
                set: item.analysisMetadataComputationTime
              } : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
                set: item.analysisMetadataAnalysisParameters
              } : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
                set: item.insightsTopFeatures
              } : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
                set: item.insightsRedundantFeatures
              } : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
                set: item.insightsUnexpectedImportances
              } : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
                set: item.insightsStabilityScore
              } : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? {
                set: item.insightsRecommendations
              } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
        create: {
          modelName: item.modelName !== undefined ? item.modelName : undefined,
          version: item.version !== undefined ? item.version : undefined,
          status: item.status !== undefined ? item.status : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
          performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
          performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
          performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
          trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
          deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
      childVersions: item.childVersions ? 
        Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
        Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
        Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
        Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
        Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }))
    } : undefined,
    artifacts: prop.controlVersion.artifacts ? 
    Array.isArray(prop.controlVersion.artifacts) && prop.controlVersion.artifacts.length > 0 && prop.controlVersion.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: prop.controlVersion.artifacts.map((item: any) => ({
      id: item.id
    }))
} : { upsert: prop.controlVersion.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId
            } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
      modelArtifact: item.modelArtifact ? 
      typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && (Object.keys(item.modelArtifact)[0] === 'id' || Object.keys(item.modelArtifact)[0] === 'symbol')
? {
      connect: {
        id: item.modelArtifact.id
      }
} : { upsert: {
          where: {
            id: item.modelArtifact.id !== undefined ? {
                equals: item.modelArtifact.id
              } : undefined,
          },
          update: {
            id: item.modelArtifact.id !== undefined ? {
                set: item.modelArtifact.id
              } : undefined,
            modelName: item.modelArtifact.modelName !== undefined ? {
                set: item.modelArtifact.modelName
              } : undefined,
            version: item.modelArtifact.version !== undefined ? {
                set: item.modelArtifact.version
              } : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? {
                set: item.modelArtifact.artifactType
              } : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? {
                set: item.modelArtifact.storageUrl
              } : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? {
                set: item.modelArtifact.storageProvider
              } : undefined,
            fileSize: item.modelArtifact.fileSize !== undefined ? {
                set: item.modelArtifact.fileSize
              } : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? {
                set: item.modelArtifact.checksum
              } : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? {
                set: item.modelArtifact.compressionType
              } : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? {
                set: item.modelArtifact.metadataFramework
              } : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? {
                set: item.modelArtifact.metadataPythonVersion
              } : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? {
                set: item.modelArtifact.metadataDependencies
              } : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? {
                set: item.modelArtifact.metadataTrainingDate
              } : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? {
                set: item.modelArtifact.metadataDatasetSize
              } : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? {
                set: item.modelArtifact.metadataHyperparameters
              } : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsTreatment: prop.controlVersion.abTestsAsTreatment ? 
    Array.isArray(prop.controlVersion.abTestsAsTreatment) && prop.controlVersion.abTestsAsTreatment.length > 0 && prop.controlVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: prop.controlVersion.abTestsAsTreatment.map((item: any) => ({
      id: item.id
    }))
} : { upsert: prop.controlVersion.abTestsAsTreatment.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name
            } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId
            } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          name: item.name !== undefined ? {
              set: item.name
            } : undefined,
          description: item.description !== undefined ? {
              set: item.description
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
              set: item.trafficSplitControlPercent
            } : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
              set: item.trafficSplitTreatmentPercent
            } : undefined,
          targetMetrics: item.targetMetrics !== undefined ? {
              set: item.targetMetrics
            } : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
              set: item.successCriteriaPrimaryMetric
            } : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
              set: item.successCriteriaMinimumDetectableEffect
            } : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
              set: item.successCriteriaSignificanceLevel
            } : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
              set: item.successCriteriaPowerLevel
            } : undefined,
          startDate: item.startDate !== undefined ? {
              set: item.startDate
            } : undefined,
          endDate: item.endDate !== undefined ? {
              set: item.endDate
            } : undefined,
          plannedDuration: item.plannedDuration !== undefined ? {
              set: item.plannedDuration
            } : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
              set: item.resultsControlMetrics
            } : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
              set: item.resultsTreatmentMetrics
            } : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
              set: item.resultsStatisticalSignificance
            } : undefined,
          resultsPValues: item.resultsPValues !== undefined ? {
              set: item.resultsPValues
            } : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
              set: item.resultsConfidenceIntervals
            } : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? {
              set: item.resultsRecommendation
            } : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? {
              set: item.metadataEnvironment
            } : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
              set: item.metadataEligibilityCriteria
            } : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
              set: item.metadataExclusionCriteria
            } : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
              set: item.metadataSegmentationRules
            } : undefined,
          completedAt: item.completedAt !== undefined ? {
              set: item.completedAt
            } : undefined,
      controlVersion: item.controlVersion ? 
      typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && (Object.keys(item.controlVersion)[0] === 'id' || Object.keys(item.controlVersion)[0] === 'symbol')
? {
      connect: {
        id: item.controlVersion.id
      }
} : { upsert: {
          where: {
            id: item.controlVersion.id !== undefined ? {
                equals: item.controlVersion.id
              } : undefined,
            parentVersionId: item.controlVersion.parentVersionId !== undefined ? {
                equals: item.controlVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: item.controlVersion.id !== undefined ? {
                set: item.controlVersion.id
              } : undefined,
            modelName: item.controlVersion.modelName !== undefined ? {
                set: item.controlVersion.modelName
              } : undefined,
            version: item.controlVersion.version !== undefined ? {
                set: item.controlVersion.version
              } : undefined,
            status: item.controlVersion.status !== undefined ? {
                set: item.controlVersion.status
              } : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? {
                set: item.controlVersion.performanceAccuracy
              } : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? {
                set: item.controlVersion.performancePrecision
              } : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? {
                set: item.controlVersion.performanceRecall
              } : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? {
                set: item.controlVersion.performanceF1Score
              } : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? {
                set: item.controlVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? {
                set: item.controlVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? {
                set: item.controlVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? {
                set: item.controlVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? {
                set: item.controlVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? {
                set: item.controlVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? {
                set: item.controlVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? {
                set: item.controlVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? {
                set: item.controlVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? {
                set: item.controlVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? {
                set: item.controlVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? {
                set: item.controlVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? {
                set: item.controlVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? {
                set: item.controlVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? {
                set: item.controlVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? {
                set: item.controlVersion.trainingStartTime
              } : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? {
                set: item.controlVersion.trainingEndTime
              } : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? {
                set: item.controlVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? {
                set: item.controlVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? {
                set: item.controlVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? {
                set: item.controlVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.controlVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: item.controlVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? {
                set: item.controlVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? {
                set: item.controlVersion.deployedAt
              } : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? {
                set: item.controlVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      controlVersion: item.controlVersion ? 
        typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: prop.controlVersion.featureImportanceAnalyses ? 
    Array.isArray(prop.controlVersion.featureImportanceAnalyses) && prop.controlVersion.featureImportanceAnalyses.length > 0 && prop.controlVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: prop.controlVersion.featureImportanceAnalyses.map((item: any) => ({
      id: item.id
    }))
} : { upsert: prop.controlVersion.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          analysisType: item.analysisType !== undefined ? {
              set: item.analysisType
            } : undefined,
          featureImportances: item.featureImportances !== undefined ? {
              set: item.featureImportances
            } : undefined,
          globalImportance: item.globalImportance !== undefined ? {
              set: item.globalImportance
            } : undefined,
          localImportance: item.localImportance !== undefined ? {
              set: item.localImportance
            } : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
              set: item.analysisMetadataSampleSize
            } : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
              set: item.analysisMetadataBaselineAccuracy
            } : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
              set: item.analysisMetadataAnalysisDate
            } : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
              set: item.analysisMetadataComputationTime
            } : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
              set: item.analysisMetadataAnalysisParameters
            } : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
              set: item.insightsTopFeatures
            } : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
              set: item.insightsRedundantFeatures
            } : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
              set: item.insightsUnexpectedImportances
            } : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
              set: item.insightsStabilityScore
            } : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? {
              set: item.insightsRecommendations
            } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
      create: {
        modelName: prop.controlVersion.modelName !== undefined ? prop.controlVersion.modelName : undefined,
        version: prop.controlVersion.version !== undefined ? prop.controlVersion.version : undefined,
        status: prop.controlVersion.status !== undefined ? prop.controlVersion.status : undefined,
        performanceAccuracy: prop.controlVersion.performanceAccuracy !== undefined ? prop.controlVersion.performanceAccuracy : undefined,
        performancePrecision: prop.controlVersion.performancePrecision !== undefined ? prop.controlVersion.performancePrecision : undefined,
        performanceRecall: prop.controlVersion.performanceRecall !== undefined ? prop.controlVersion.performanceRecall : undefined,
        performanceF1Score: prop.controlVersion.performanceF1Score !== undefined ? prop.controlVersion.performanceF1Score : undefined,
        performanceAuc: prop.controlVersion.performanceAuc !== undefined ? prop.controlVersion.performanceAuc : undefined,
        performanceSharpeRatio: prop.controlVersion.performanceSharpeRatio !== undefined ? prop.controlVersion.performanceSharpeRatio : undefined,
        performanceMaxDrawdown: prop.controlVersion.performanceMaxDrawdown !== undefined ? prop.controlVersion.performanceMaxDrawdown : undefined,
        performanceWinRate: prop.controlVersion.performanceWinRate !== undefined ? prop.controlVersion.performanceWinRate : undefined,
        performanceAvgReturn: prop.controlVersion.performanceAvgReturn !== undefined ? prop.controlVersion.performanceAvgReturn : undefined,
        performanceCalibrationScore: prop.controlVersion.performanceCalibrationScore !== undefined ? prop.controlVersion.performanceCalibrationScore : undefined,
        performanceStabilityScore: prop.controlVersion.performanceStabilityScore !== undefined ? prop.controlVersion.performanceStabilityScore : undefined,
        validationCrossValidationScore: prop.controlVersion.validationCrossValidationScore !== undefined ? prop.controlVersion.validationCrossValidationScore : undefined,
        validationOutOfSamplePerformance: prop.controlVersion.validationOutOfSamplePerformance !== undefined ? prop.controlVersion.validationOutOfSamplePerformance : undefined,
        validationBacktestResults: prop.controlVersion.validationBacktestResults !== undefined ? prop.controlVersion.validationBacktestResults : undefined,
        validationStatTestResults: prop.controlVersion.validationStatTestResults !== undefined ? prop.controlVersion.validationStatTestResults : undefined,
        deploymentEnvironment: prop.controlVersion.deploymentEnvironment !== undefined ? prop.controlVersion.deploymentEnvironment : undefined,
        deploymentTrafficAllocation: prop.controlVersion.deploymentTrafficAllocation !== undefined ? prop.controlVersion.deploymentTrafficAllocation : undefined,
        deploymentRolloutStrategy: prop.controlVersion.deploymentRolloutStrategy !== undefined ? prop.controlVersion.deploymentRolloutStrategy : undefined,
        deploymentHealthCheckConfig: prop.controlVersion.deploymentHealthCheckConfig !== undefined ? prop.controlVersion.deploymentHealthCheckConfig : undefined,
        trainingStartTime: prop.controlVersion.trainingStartTime !== undefined ? prop.controlVersion.trainingStartTime : undefined,
        trainingEndTime: prop.controlVersion.trainingEndTime !== undefined ? prop.controlVersion.trainingEndTime : undefined,
        trainingDuration: prop.controlVersion.trainingDuration !== undefined ? prop.controlVersion.trainingDuration : undefined,
        trainingDatasetSize: prop.controlVersion.trainingDatasetSize !== undefined ? prop.controlVersion.trainingDatasetSize : undefined,
        trainingFeaturesUsed: prop.controlVersion.trainingFeaturesUsed !== undefined ? prop.controlVersion.trainingFeaturesUsed : undefined,
        trainingHyperparameters: prop.controlVersion.trainingHyperparameters !== undefined ? prop.controlVersion.trainingHyperparameters : undefined,
        trainingResourcePeakMemoryMB: prop.controlVersion.trainingResourcePeakMemoryMB !== undefined ? prop.controlVersion.trainingResourcePeakMemoryMB : undefined,
        trainingResourceTotalCpuHours: prop.controlVersion.trainingResourceTotalCpuHours !== undefined ? prop.controlVersion.trainingResourceTotalCpuHours : undefined,
        trainingResourceGpuHours: prop.controlVersion.trainingResourceGpuHours !== undefined ? prop.controlVersion.trainingResourceGpuHours : undefined,
        deployedAt: prop.controlVersion.deployedAt !== undefined ? prop.controlVersion.deployedAt : undefined,
        deprecatedAt: prop.controlVersion.deprecatedAt !== undefined ? prop.controlVersion.deprecatedAt : undefined,
    parentVersion: prop.controlVersion.parentVersion ? 
      typeof prop.controlVersion.parentVersion === 'object' && Object.keys(prop.controlVersion.parentVersion).length === 1 && Object.keys(prop.controlVersion.parentVersion)[0] === 'id'
    ? { connect: {
          id: prop.controlVersion.parentVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: prop.controlVersion.parentVersion.id !== undefined ? prop.controlVersion.parentVersion.id : undefined,
        },
        create: {
          modelName: prop.controlVersion.parentVersion.modelName !== undefined ? prop.controlVersion.parentVersion.modelName : undefined,
          version: prop.controlVersion.parentVersion.version !== undefined ? prop.controlVersion.parentVersion.version : undefined,
          status: prop.controlVersion.parentVersion.status !== undefined ? prop.controlVersion.parentVersion.status : undefined,
          performanceAccuracy: prop.controlVersion.parentVersion.performanceAccuracy !== undefined ? prop.controlVersion.parentVersion.performanceAccuracy : undefined,
          performancePrecision: prop.controlVersion.parentVersion.performancePrecision !== undefined ? prop.controlVersion.parentVersion.performancePrecision : undefined,
          performanceRecall: prop.controlVersion.parentVersion.performanceRecall !== undefined ? prop.controlVersion.parentVersion.performanceRecall : undefined,
          performanceF1Score: prop.controlVersion.parentVersion.performanceF1Score !== undefined ? prop.controlVersion.parentVersion.performanceF1Score : undefined,
          performanceAuc: prop.controlVersion.parentVersion.performanceAuc !== undefined ? prop.controlVersion.parentVersion.performanceAuc : undefined,
          performanceSharpeRatio: prop.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? prop.controlVersion.parentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: prop.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? prop.controlVersion.parentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: prop.controlVersion.parentVersion.performanceWinRate !== undefined ? prop.controlVersion.parentVersion.performanceWinRate : undefined,
          performanceAvgReturn: prop.controlVersion.parentVersion.performanceAvgReturn !== undefined ? prop.controlVersion.parentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: prop.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? prop.controlVersion.parentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: prop.controlVersion.parentVersion.performanceStabilityScore !== undefined ? prop.controlVersion.parentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: prop.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? prop.controlVersion.parentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: prop.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? prop.controlVersion.parentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: prop.controlVersion.parentVersion.validationBacktestResults !== undefined ? prop.controlVersion.parentVersion.validationBacktestResults : undefined,
          validationStatTestResults: prop.controlVersion.parentVersion.validationStatTestResults !== undefined ? prop.controlVersion.parentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: prop.controlVersion.parentVersion.deploymentEnvironment !== undefined ? prop.controlVersion.parentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: prop.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? prop.controlVersion.parentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: prop.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? prop.controlVersion.parentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: prop.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? prop.controlVersion.parentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: prop.controlVersion.parentVersion.trainingStartTime !== undefined ? prop.controlVersion.parentVersion.trainingStartTime : undefined,
          trainingEndTime: prop.controlVersion.parentVersion.trainingEndTime !== undefined ? prop.controlVersion.parentVersion.trainingEndTime : undefined,
          trainingDuration: prop.controlVersion.parentVersion.trainingDuration !== undefined ? prop.controlVersion.parentVersion.trainingDuration : undefined,
          trainingDatasetSize: prop.controlVersion.parentVersion.trainingDatasetSize !== undefined ? prop.controlVersion.parentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: prop.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? prop.controlVersion.parentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: prop.controlVersion.parentVersion.trainingHyperparameters !== undefined ? prop.controlVersion.parentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: prop.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? prop.controlVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: prop.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? prop.controlVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: prop.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? prop.controlVersion.parentVersion.trainingResourceGpuHours : undefined,
          deployedAt: prop.controlVersion.parentVersion.deployedAt !== undefined ? prop.controlVersion.parentVersion.deployedAt : undefined,
          deprecatedAt: prop.controlVersion.parentVersion.deprecatedAt !== undefined ? prop.controlVersion.parentVersion.deprecatedAt : undefined,
      parentVersion: prop.controlVersion.parentVersion.parentVersion ? 
        typeof prop.controlVersion.parentVersion.parentVersion === 'object' && Object.keys(prop.controlVersion.parentVersion.parentVersion).length === 1 && Object.keys(prop.controlVersion.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: prop.controlVersion.parentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: prop.controlVersion.parentVersion.parentVersion.id !== undefined ? prop.controlVersion.parentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: prop.controlVersion.parentVersion.parentVersion.modelName !== undefined ? prop.controlVersion.parentVersion.parentVersion.modelName : undefined,
            version: prop.controlVersion.parentVersion.parentVersion.version !== undefined ? prop.controlVersion.parentVersion.parentVersion.version : undefined,
            status: prop.controlVersion.parentVersion.parentVersion.status !== undefined ? prop.controlVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: prop.controlVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: prop.controlVersion.parentVersion.parentVersion.performancePrecision !== undefined ? prop.controlVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: prop.controlVersion.parentVersion.parentVersion.performanceRecall !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: prop.controlVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: prop.controlVersion.parentVersion.parentVersion.performanceAuc !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: prop.controlVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: prop.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: prop.controlVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: prop.controlVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: prop.controlVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: prop.controlVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? prop.controlVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: prop.controlVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? prop.controlVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: prop.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? prop.controlVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: prop.controlVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? prop.controlVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: prop.controlVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? prop.controlVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: prop.controlVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? prop.controlVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: prop.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? prop.controlVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: prop.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? prop.controlVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: prop.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? prop.controlVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: prop.controlVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: prop.controlVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: prop.controlVersion.parentVersion.parentVersion.trainingDuration !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: prop.controlVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: prop.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: prop.controlVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: prop.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: prop.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: prop.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? prop.controlVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: prop.controlVersion.parentVersion.parentVersion.deployedAt !== undefined ? prop.controlVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: prop.controlVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? prop.controlVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: prop.controlVersion.parentVersion.artifacts ? 
        Array.isArray(prop.controlVersion.parentVersion.artifacts) && prop.controlVersion.parentVersion.artifacts.length > 0 &&  prop.controlVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        prop.controlVersion.parentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: prop.controlVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: prop.controlVersion.parentVersion.abTestsAsControl ? 
        Array.isArray(prop.controlVersion.parentVersion.abTestsAsControl) && prop.controlVersion.parentVersion.abTestsAsControl.length > 0 &&  prop.controlVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        prop.controlVersion.parentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: prop.controlVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: prop.controlVersion.parentVersion.abTestsAsTreatment ? 
        Array.isArray(prop.controlVersion.parentVersion.abTestsAsTreatment) && prop.controlVersion.parentVersion.abTestsAsTreatment.length > 0 &&  prop.controlVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        prop.controlVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: prop.controlVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: prop.controlVersion.parentVersion.featureImportanceAnalyses ? 
        Array.isArray(prop.controlVersion.parentVersion.featureImportanceAnalyses) && prop.controlVersion.parentVersion.featureImportanceAnalyses.length > 0 &&  prop.controlVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        prop.controlVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: prop.controlVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
    childVersions: prop.controlVersion.childVersions ? 
      Array.isArray(prop.controlVersion.childVersions) && prop.controlVersion.childVersions.length > 0 &&  prop.controlVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      prop.controlVersion.childVersions.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: prop.controlVersion.childVersions.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
        },
        create: {
          modelName: item.modelName !== undefined ? item.modelName : undefined,
          version: item.version !== undefined ? item.version : undefined,
          status: item.status !== undefined ? item.status : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
          performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
          performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
          performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
          trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
          deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
      childVersions: item.childVersions ? 
        Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
        Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
        Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
        Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
        Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }))
    } : undefined,
    artifacts: prop.controlVersion.artifacts ? 
      Array.isArray(prop.controlVersion.artifacts) && prop.controlVersion.artifacts.length > 0 &&  prop.controlVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      prop.controlVersion.artifacts.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: prop.controlVersion.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId 
             } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsTreatment: prop.controlVersion.abTestsAsTreatment ? 
      Array.isArray(prop.controlVersion.abTestsAsTreatment) && prop.controlVersion.abTestsAsTreatment.length > 0 &&  prop.controlVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      prop.controlVersion.abTestsAsTreatment.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: prop.controlVersion.abTestsAsTreatment.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      controlVersion: item.controlVersion ? 
        typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: prop.controlVersion.featureImportanceAnalyses ? 
      Array.isArray(prop.controlVersion.featureImportanceAnalyses) && prop.controlVersion.featureImportanceAnalyses.length > 0 &&  prop.controlVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      prop.controlVersion.featureImportanceAnalyses.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: prop.controlVersion.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
    }
  } : undefined,
  treatmentVersion: prop.treatmentVersion ? 
  typeof prop.treatmentVersion === 'object' && Object.keys(prop.treatmentVersion).length === 1 && (Object.keys(prop.treatmentVersion)[0] === 'id' || Object.keys(prop.treatmentVersion)[0] === 'symbol')
? {
  connect: {
    id: prop.treatmentVersion.id
  }
} : { upsert: {
      where: {
        id: prop.treatmentVersion.id !== undefined ? {
            equals: prop.treatmentVersion.id
          } : undefined,
        parentVersionId: prop.treatmentVersion.parentVersionId !== undefined ? {
            equals: prop.treatmentVersion.parentVersionId
          } : undefined,
      },
      update: {
        id: prop.treatmentVersion.id !== undefined ? {
            set: prop.treatmentVersion.id
          } : undefined,
        modelName: prop.treatmentVersion.modelName !== undefined ? {
            set: prop.treatmentVersion.modelName
          } : undefined,
        version: prop.treatmentVersion.version !== undefined ? {
            set: prop.treatmentVersion.version
          } : undefined,
        status: prop.treatmentVersion.status !== undefined ? {
            set: prop.treatmentVersion.status
          } : undefined,
        performanceAccuracy: prop.treatmentVersion.performanceAccuracy !== undefined ? {
            set: prop.treatmentVersion.performanceAccuracy
          } : undefined,
        performancePrecision: prop.treatmentVersion.performancePrecision !== undefined ? {
            set: prop.treatmentVersion.performancePrecision
          } : undefined,
        performanceRecall: prop.treatmentVersion.performanceRecall !== undefined ? {
            set: prop.treatmentVersion.performanceRecall
          } : undefined,
        performanceF1Score: prop.treatmentVersion.performanceF1Score !== undefined ? {
            set: prop.treatmentVersion.performanceF1Score
          } : undefined,
        performanceAuc: prop.treatmentVersion.performanceAuc !== undefined ? {
            set: prop.treatmentVersion.performanceAuc
          } : undefined,
        performanceSharpeRatio: prop.treatmentVersion.performanceSharpeRatio !== undefined ? {
            set: prop.treatmentVersion.performanceSharpeRatio
          } : undefined,
        performanceMaxDrawdown: prop.treatmentVersion.performanceMaxDrawdown !== undefined ? {
            set: prop.treatmentVersion.performanceMaxDrawdown
          } : undefined,
        performanceWinRate: prop.treatmentVersion.performanceWinRate !== undefined ? {
            set: prop.treatmentVersion.performanceWinRate
          } : undefined,
        performanceAvgReturn: prop.treatmentVersion.performanceAvgReturn !== undefined ? {
            set: prop.treatmentVersion.performanceAvgReturn
          } : undefined,
        performanceCalibrationScore: prop.treatmentVersion.performanceCalibrationScore !== undefined ? {
            set: prop.treatmentVersion.performanceCalibrationScore
          } : undefined,
        performanceStabilityScore: prop.treatmentVersion.performanceStabilityScore !== undefined ? {
            set: prop.treatmentVersion.performanceStabilityScore
          } : undefined,
        validationCrossValidationScore: prop.treatmentVersion.validationCrossValidationScore !== undefined ? {
            set: prop.treatmentVersion.validationCrossValidationScore
          } : undefined,
        validationOutOfSamplePerformance: prop.treatmentVersion.validationOutOfSamplePerformance !== undefined ? {
            set: prop.treatmentVersion.validationOutOfSamplePerformance
          } : undefined,
        validationBacktestResults: prop.treatmentVersion.validationBacktestResults !== undefined ? {
            set: prop.treatmentVersion.validationBacktestResults
          } : undefined,
        validationStatTestResults: prop.treatmentVersion.validationStatTestResults !== undefined ? {
            set: prop.treatmentVersion.validationStatTestResults
          } : undefined,
        deploymentEnvironment: prop.treatmentVersion.deploymentEnvironment !== undefined ? {
            set: prop.treatmentVersion.deploymentEnvironment
          } : undefined,
        deploymentTrafficAllocation: prop.treatmentVersion.deploymentTrafficAllocation !== undefined ? {
            set: prop.treatmentVersion.deploymentTrafficAllocation
          } : undefined,
        deploymentRolloutStrategy: prop.treatmentVersion.deploymentRolloutStrategy !== undefined ? {
            set: prop.treatmentVersion.deploymentRolloutStrategy
          } : undefined,
        deploymentHealthCheckConfig: prop.treatmentVersion.deploymentHealthCheckConfig !== undefined ? {
            set: prop.treatmentVersion.deploymentHealthCheckConfig
          } : undefined,
        trainingStartTime: prop.treatmentVersion.trainingStartTime !== undefined ? {
            set: prop.treatmentVersion.trainingStartTime
          } : undefined,
        trainingEndTime: prop.treatmentVersion.trainingEndTime !== undefined ? {
            set: prop.treatmentVersion.trainingEndTime
          } : undefined,
        trainingDuration: prop.treatmentVersion.trainingDuration !== undefined ? {
            set: prop.treatmentVersion.trainingDuration
          } : undefined,
        trainingDatasetSize: prop.treatmentVersion.trainingDatasetSize !== undefined ? {
            set: prop.treatmentVersion.trainingDatasetSize
          } : undefined,
        trainingFeaturesUsed: prop.treatmentVersion.trainingFeaturesUsed !== undefined ? {
            set: prop.treatmentVersion.trainingFeaturesUsed
          } : undefined,
        trainingHyperparameters: prop.treatmentVersion.trainingHyperparameters !== undefined ? {
            set: prop.treatmentVersion.trainingHyperparameters
          } : undefined,
        trainingResourcePeakMemoryMB: prop.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? {
            set: prop.treatmentVersion.trainingResourcePeakMemoryMB
          } : undefined,
        trainingResourceTotalCpuHours: prop.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? {
            set: prop.treatmentVersion.trainingResourceTotalCpuHours
          } : undefined,
        trainingResourceGpuHours: prop.treatmentVersion.trainingResourceGpuHours !== undefined ? {
            set: prop.treatmentVersion.trainingResourceGpuHours
          } : undefined,
        deployedAt: prop.treatmentVersion.deployedAt !== undefined ? {
            set: prop.treatmentVersion.deployedAt
          } : undefined,
        deprecatedAt: prop.treatmentVersion.deprecatedAt !== undefined ? {
            set: prop.treatmentVersion.deprecatedAt
          } : undefined,
    parentVersion: prop.treatmentVersion.parentVersion ? 
    typeof prop.treatmentVersion.parentVersion === 'object' && Object.keys(prop.treatmentVersion.parentVersion).length === 1 && (Object.keys(prop.treatmentVersion.parentVersion)[0] === 'id' || Object.keys(prop.treatmentVersion.parentVersion)[0] === 'symbol')
? {
    connect: {
      id: prop.treatmentVersion.parentVersion.id
    }
} : { upsert: {
        where: {
          id: prop.treatmentVersion.parentVersion.id !== undefined ? {
              equals: prop.treatmentVersion.parentVersion.id
            } : undefined,
          parentVersionId: prop.treatmentVersion.parentVersion.parentVersionId !== undefined ? {
              equals: prop.treatmentVersion.parentVersion.parentVersionId
            } : undefined,
        },
        update: {
          id: prop.treatmentVersion.parentVersion.id !== undefined ? {
              set: prop.treatmentVersion.parentVersion.id
            } : undefined,
          modelName: prop.treatmentVersion.parentVersion.modelName !== undefined ? {
              set: prop.treatmentVersion.parentVersion.modelName
            } : undefined,
          version: prop.treatmentVersion.parentVersion.version !== undefined ? {
              set: prop.treatmentVersion.parentVersion.version
            } : undefined,
          status: prop.treatmentVersion.parentVersion.status !== undefined ? {
              set: prop.treatmentVersion.parentVersion.status
            } : undefined,
          performanceAccuracy: prop.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? {
              set: prop.treatmentVersion.parentVersion.performanceAccuracy
            } : undefined,
          performancePrecision: prop.treatmentVersion.parentVersion.performancePrecision !== undefined ? {
              set: prop.treatmentVersion.parentVersion.performancePrecision
            } : undefined,
          performanceRecall: prop.treatmentVersion.parentVersion.performanceRecall !== undefined ? {
              set: prop.treatmentVersion.parentVersion.performanceRecall
            } : undefined,
          performanceF1Score: prop.treatmentVersion.parentVersion.performanceF1Score !== undefined ? {
              set: prop.treatmentVersion.parentVersion.performanceF1Score
            } : undefined,
          performanceAuc: prop.treatmentVersion.parentVersion.performanceAuc !== undefined ? {
              set: prop.treatmentVersion.parentVersion.performanceAuc
            } : undefined,
          performanceSharpeRatio: prop.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? {
              set: prop.treatmentVersion.parentVersion.performanceSharpeRatio
            } : undefined,
          performanceMaxDrawdown: prop.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? {
              set: prop.treatmentVersion.parentVersion.performanceMaxDrawdown
            } : undefined,
          performanceWinRate: prop.treatmentVersion.parentVersion.performanceWinRate !== undefined ? {
              set: prop.treatmentVersion.parentVersion.performanceWinRate
            } : undefined,
          performanceAvgReturn: prop.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? {
              set: prop.treatmentVersion.parentVersion.performanceAvgReturn
            } : undefined,
          performanceCalibrationScore: prop.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? {
              set: prop.treatmentVersion.parentVersion.performanceCalibrationScore
            } : undefined,
          performanceStabilityScore: prop.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? {
              set: prop.treatmentVersion.parentVersion.performanceStabilityScore
            } : undefined,
          validationCrossValidationScore: prop.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? {
              set: prop.treatmentVersion.parentVersion.validationCrossValidationScore
            } : undefined,
          validationOutOfSamplePerformance: prop.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? {
              set: prop.treatmentVersion.parentVersion.validationOutOfSamplePerformance
            } : undefined,
          validationBacktestResults: prop.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? {
              set: prop.treatmentVersion.parentVersion.validationBacktestResults
            } : undefined,
          validationStatTestResults: prop.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? {
              set: prop.treatmentVersion.parentVersion.validationStatTestResults
            } : undefined,
          deploymentEnvironment: prop.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? {
              set: prop.treatmentVersion.parentVersion.deploymentEnvironment
            } : undefined,
          deploymentTrafficAllocation: prop.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? {
              set: prop.treatmentVersion.parentVersion.deploymentTrafficAllocation
            } : undefined,
          deploymentRolloutStrategy: prop.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? {
              set: prop.treatmentVersion.parentVersion.deploymentRolloutStrategy
            } : undefined,
          deploymentHealthCheckConfig: prop.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? {
              set: prop.treatmentVersion.parentVersion.deploymentHealthCheckConfig
            } : undefined,
          trainingStartTime: prop.treatmentVersion.parentVersion.trainingStartTime !== undefined ? {
              set: prop.treatmentVersion.parentVersion.trainingStartTime
            } : undefined,
          trainingEndTime: prop.treatmentVersion.parentVersion.trainingEndTime !== undefined ? {
              set: prop.treatmentVersion.parentVersion.trainingEndTime
            } : undefined,
          trainingDuration: prop.treatmentVersion.parentVersion.trainingDuration !== undefined ? {
              set: prop.treatmentVersion.parentVersion.trainingDuration
            } : undefined,
          trainingDatasetSize: prop.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? {
              set: prop.treatmentVersion.parentVersion.trainingDatasetSize
            } : undefined,
          trainingFeaturesUsed: prop.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? {
              set: prop.treatmentVersion.parentVersion.trainingFeaturesUsed
            } : undefined,
          trainingHyperparameters: prop.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? {
              set: prop.treatmentVersion.parentVersion.trainingHyperparameters
            } : undefined,
          trainingResourcePeakMemoryMB: prop.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
              set: prop.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB
            } : undefined,
          trainingResourceTotalCpuHours: prop.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
              set: prop.treatmentVersion.parentVersion.trainingResourceTotalCpuHours
            } : undefined,
          trainingResourceGpuHours: prop.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? {
              set: prop.treatmentVersion.parentVersion.trainingResourceGpuHours
            } : undefined,
          deployedAt: prop.treatmentVersion.parentVersion.deployedAt !== undefined ? {
              set: prop.treatmentVersion.parentVersion.deployedAt
            } : undefined,
          deprecatedAt: prop.treatmentVersion.parentVersion.deprecatedAt !== undefined ? {
              set: prop.treatmentVersion.parentVersion.deprecatedAt
            } : undefined,
      parentVersion: prop.treatmentVersion.parentVersion.parentVersion ? 
      typeof prop.treatmentVersion.parentVersion.parentVersion === 'object' && Object.keys(prop.treatmentVersion.parentVersion.parentVersion).length === 1 && (Object.keys(prop.treatmentVersion.parentVersion.parentVersion)[0] === 'id' || Object.keys(prop.treatmentVersion.parentVersion.parentVersion)[0] === 'symbol')
? {
      connect: {
        id: prop.treatmentVersion.parentVersion.parentVersion.id
      }
} : { upsert: {
          where: {
            id: prop.treatmentVersion.parentVersion.parentVersion.id !== undefined ? {
                equals: prop.treatmentVersion.parentVersion.parentVersion.id
              } : undefined,
            parentVersionId: prop.treatmentVersion.parentVersion.parentVersion.parentVersionId !== undefined ? {
                equals: prop.treatmentVersion.parentVersion.parentVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: prop.treatmentVersion.parentVersion.parentVersion.id !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.id
              } : undefined,
            modelName: prop.treatmentVersion.parentVersion.parentVersion.modelName !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.modelName
              } : undefined,
            version: prop.treatmentVersion.parentVersion.parentVersion.version !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.version
              } : undefined,
            status: prop.treatmentVersion.parentVersion.parentVersion.status !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.status
              } : undefined,
            performanceAccuracy: prop.treatmentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.performanceAccuracy
              } : undefined,
            performancePrecision: prop.treatmentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.performancePrecision
              } : undefined,
            performanceRecall: prop.treatmentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.performanceRecall
              } : undefined,
            performanceF1Score: prop.treatmentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.performanceF1Score
              } : undefined,
            performanceAuc: prop.treatmentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: prop.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: prop.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: prop.treatmentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: prop.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: prop.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: prop.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: prop.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: prop.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: prop.treatmentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: prop.treatmentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: prop.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: prop.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: prop.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: prop.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: prop.treatmentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.trainingStartTime
              } : undefined,
            trainingEndTime: prop.treatmentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.trainingEndTime
              } : undefined,
            trainingDuration: prop.treatmentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: prop.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: prop.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: prop.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: prop.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: prop.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: prop.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: prop.treatmentVersion.parentVersion.parentVersion.deployedAt !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.deployedAt
              } : undefined,
            deprecatedAt: prop.treatmentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? {
                set: prop.treatmentVersion.parentVersion.parentVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: prop.treatmentVersion.parentVersion.parentVersion.modelName !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.modelName : undefined,
            version: prop.treatmentVersion.parentVersion.parentVersion.version !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.version : undefined,
            status: prop.treatmentVersion.parentVersion.parentVersion.status !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: prop.treatmentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: prop.treatmentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: prop.treatmentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: prop.treatmentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: prop.treatmentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: prop.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: prop.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: prop.treatmentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: prop.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: prop.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: prop.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: prop.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: prop.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: prop.treatmentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: prop.treatmentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: prop.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: prop.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: prop.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: prop.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: prop.treatmentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: prop.treatmentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: prop.treatmentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: prop.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: prop.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: prop.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: prop.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: prop.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: prop.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: prop.treatmentVersion.parentVersion.parentVersion.deployedAt !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: prop.treatmentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: prop.treatmentVersion.parentVersion.artifacts ? 
      Array.isArray(prop.treatmentVersion.parentVersion.artifacts) && prop.treatmentVersion.parentVersion.artifacts.length > 0 && prop.treatmentVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: prop.treatmentVersion.parentVersion.artifacts.map((item: any) => ({
        id: item.id
      }))
} : { upsert: prop.treatmentVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: prop.treatmentVersion.parentVersion.abTestsAsControl ? 
      Array.isArray(prop.treatmentVersion.parentVersion.abTestsAsControl) && prop.treatmentVersion.parentVersion.abTestsAsControl.length > 0 && prop.treatmentVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: prop.treatmentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
        id: item.id
      }))
} : { upsert: prop.treatmentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: prop.treatmentVersion.parentVersion.abTestsAsTreatment ? 
      Array.isArray(prop.treatmentVersion.parentVersion.abTestsAsTreatment) && prop.treatmentVersion.parentVersion.abTestsAsTreatment.length > 0 && prop.treatmentVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: prop.treatmentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
        id: item.id
      }))
} : { upsert: prop.treatmentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: prop.treatmentVersion.parentVersion.featureImportanceAnalyses ? 
      Array.isArray(prop.treatmentVersion.parentVersion.featureImportanceAnalyses) && prop.treatmentVersion.parentVersion.featureImportanceAnalyses.length > 0 && prop.treatmentVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: prop.treatmentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
        id: item.id
      }))
} : { upsert: prop.treatmentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            analysisType: item.analysisType !== undefined ? {
                set: item.analysisType
              } : undefined,
            featureImportances: item.featureImportances !== undefined ? {
                set: item.featureImportances
              } : undefined,
            globalImportance: item.globalImportance !== undefined ? {
                set: item.globalImportance
              } : undefined,
            localImportance: item.localImportance !== undefined ? {
                set: item.localImportance
              } : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
                set: item.analysisMetadataSampleSize
              } : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
                set: item.analysisMetadataBaselineAccuracy
              } : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
                set: item.analysisMetadataAnalysisDate
              } : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
                set: item.analysisMetadataComputationTime
              } : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
                set: item.analysisMetadataAnalysisParameters
              } : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
                set: item.insightsTopFeatures
              } : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
                set: item.insightsRedundantFeatures
              } : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
                set: item.insightsUnexpectedImportances
              } : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
                set: item.insightsStabilityScore
              } : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? {
                set: item.insightsRecommendations
              } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
        create: {
          modelName: prop.treatmentVersion.parentVersion.modelName !== undefined ? prop.treatmentVersion.parentVersion.modelName : undefined,
          version: prop.treatmentVersion.parentVersion.version !== undefined ? prop.treatmentVersion.parentVersion.version : undefined,
          status: prop.treatmentVersion.parentVersion.status !== undefined ? prop.treatmentVersion.parentVersion.status : undefined,
          performanceAccuracy: prop.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? prop.treatmentVersion.parentVersion.performanceAccuracy : undefined,
          performancePrecision: prop.treatmentVersion.parentVersion.performancePrecision !== undefined ? prop.treatmentVersion.parentVersion.performancePrecision : undefined,
          performanceRecall: prop.treatmentVersion.parentVersion.performanceRecall !== undefined ? prop.treatmentVersion.parentVersion.performanceRecall : undefined,
          performanceF1Score: prop.treatmentVersion.parentVersion.performanceF1Score !== undefined ? prop.treatmentVersion.parentVersion.performanceF1Score : undefined,
          performanceAuc: prop.treatmentVersion.parentVersion.performanceAuc !== undefined ? prop.treatmentVersion.parentVersion.performanceAuc : undefined,
          performanceSharpeRatio: prop.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? prop.treatmentVersion.parentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: prop.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? prop.treatmentVersion.parentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: prop.treatmentVersion.parentVersion.performanceWinRate !== undefined ? prop.treatmentVersion.parentVersion.performanceWinRate : undefined,
          performanceAvgReturn: prop.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? prop.treatmentVersion.parentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: prop.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? prop.treatmentVersion.parentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: prop.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? prop.treatmentVersion.parentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: prop.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? prop.treatmentVersion.parentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: prop.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? prop.treatmentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: prop.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? prop.treatmentVersion.parentVersion.validationBacktestResults : undefined,
          validationStatTestResults: prop.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? prop.treatmentVersion.parentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: prop.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? prop.treatmentVersion.parentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: prop.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? prop.treatmentVersion.parentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: prop.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? prop.treatmentVersion.parentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: prop.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? prop.treatmentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: prop.treatmentVersion.parentVersion.trainingStartTime !== undefined ? prop.treatmentVersion.parentVersion.trainingStartTime : undefined,
          trainingEndTime: prop.treatmentVersion.parentVersion.trainingEndTime !== undefined ? prop.treatmentVersion.parentVersion.trainingEndTime : undefined,
          trainingDuration: prop.treatmentVersion.parentVersion.trainingDuration !== undefined ? prop.treatmentVersion.parentVersion.trainingDuration : undefined,
          trainingDatasetSize: prop.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? prop.treatmentVersion.parentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: prop.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? prop.treatmentVersion.parentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: prop.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? prop.treatmentVersion.parentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: prop.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? prop.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: prop.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? prop.treatmentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: prop.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? prop.treatmentVersion.parentVersion.trainingResourceGpuHours : undefined,
          deployedAt: prop.treatmentVersion.parentVersion.deployedAt !== undefined ? prop.treatmentVersion.parentVersion.deployedAt : undefined,
          deprecatedAt: prop.treatmentVersion.parentVersion.deprecatedAt !== undefined ? prop.treatmentVersion.parentVersion.deprecatedAt : undefined,
      parentVersion: prop.treatmentVersion.parentVersion.parentVersion ? 
        typeof prop.treatmentVersion.parentVersion.parentVersion === 'object' && Object.keys(prop.treatmentVersion.parentVersion.parentVersion).length === 1 && Object.keys(prop.treatmentVersion.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: prop.treatmentVersion.parentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: prop.treatmentVersion.parentVersion.parentVersion.id !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: prop.treatmentVersion.parentVersion.parentVersion.modelName !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.modelName : undefined,
            version: prop.treatmentVersion.parentVersion.parentVersion.version !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.version : undefined,
            status: prop.treatmentVersion.parentVersion.parentVersion.status !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: prop.treatmentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: prop.treatmentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: prop.treatmentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: prop.treatmentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: prop.treatmentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: prop.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: prop.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: prop.treatmentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: prop.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: prop.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: prop.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: prop.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: prop.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: prop.treatmentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: prop.treatmentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: prop.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: prop.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: prop.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: prop.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: prop.treatmentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: prop.treatmentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: prop.treatmentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: prop.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: prop.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: prop.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: prop.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: prop.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: prop.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: prop.treatmentVersion.parentVersion.parentVersion.deployedAt !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: prop.treatmentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: prop.treatmentVersion.parentVersion.artifacts ? 
        Array.isArray(prop.treatmentVersion.parentVersion.artifacts) && prop.treatmentVersion.parentVersion.artifacts.length > 0 &&  prop.treatmentVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        prop.treatmentVersion.parentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: prop.treatmentVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: prop.treatmentVersion.parentVersion.abTestsAsControl ? 
        Array.isArray(prop.treatmentVersion.parentVersion.abTestsAsControl) && prop.treatmentVersion.parentVersion.abTestsAsControl.length > 0 &&  prop.treatmentVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        prop.treatmentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: prop.treatmentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: prop.treatmentVersion.parentVersion.abTestsAsTreatment ? 
        Array.isArray(prop.treatmentVersion.parentVersion.abTestsAsTreatment) && prop.treatmentVersion.parentVersion.abTestsAsTreatment.length > 0 &&  prop.treatmentVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        prop.treatmentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: prop.treatmentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: prop.treatmentVersion.parentVersion.featureImportanceAnalyses ? 
        Array.isArray(prop.treatmentVersion.parentVersion.featureImportanceAnalyses) && prop.treatmentVersion.parentVersion.featureImportanceAnalyses.length > 0 &&  prop.treatmentVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        prop.treatmentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: prop.treatmentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
    childVersions: prop.treatmentVersion.childVersions ? 
    Array.isArray(prop.treatmentVersion.childVersions) && prop.treatmentVersion.childVersions.length > 0 && prop.treatmentVersion.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: prop.treatmentVersion.childVersions.map((item: any) => ({
      id: item.id
    }))
} : { upsert: prop.treatmentVersion.childVersions.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          parentVersionId: item.parentVersionId !== undefined ? {
              equals: item.parentVersionId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          modelName: item.modelName !== undefined ? {
              set: item.modelName
            } : undefined,
          version: item.version !== undefined ? {
              set: item.version
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? {
              set: item.performanceAccuracy
            } : undefined,
          performancePrecision: item.performancePrecision !== undefined ? {
              set: item.performancePrecision
            } : undefined,
          performanceRecall: item.performanceRecall !== undefined ? {
              set: item.performanceRecall
            } : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? {
              set: item.performanceF1Score
            } : undefined,
          performanceAuc: item.performanceAuc !== undefined ? {
              set: item.performanceAuc
            } : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
              set: item.performanceSharpeRatio
            } : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
              set: item.performanceMaxDrawdown
            } : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? {
              set: item.performanceWinRate
            } : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
              set: item.performanceAvgReturn
            } : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
              set: item.performanceCalibrationScore
            } : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
              set: item.performanceStabilityScore
            } : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
              set: item.validationCrossValidationScore
            } : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
              set: item.validationOutOfSamplePerformance
            } : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? {
              set: item.validationBacktestResults
            } : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? {
              set: item.validationStatTestResults
            } : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
              set: item.deploymentEnvironment
            } : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
              set: item.deploymentTrafficAllocation
            } : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
              set: item.deploymentRolloutStrategy
            } : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
              set: item.deploymentHealthCheckConfig
            } : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? {
              set: item.trainingStartTime
            } : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? {
              set: item.trainingEndTime
            } : undefined,
          trainingDuration: item.trainingDuration !== undefined ? {
              set: item.trainingDuration
            } : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
              set: item.trainingDatasetSize
            } : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
              set: item.trainingFeaturesUsed
            } : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
              set: item.trainingHyperparameters
            } : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
              set: item.trainingResourcePeakMemoryMB
            } : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
              set: item.trainingResourceTotalCpuHours
            } : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
              set: item.trainingResourceGpuHours
            } : undefined,
          deployedAt: item.deployedAt !== undefined ? {
              set: item.deployedAt
            } : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? {
              set: item.deprecatedAt
            } : undefined,
      childVersions: item.childVersions ? 
      Array.isArray(item.childVersions) && item.childVersions.length > 0 && item.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.childVersions.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            parentVersionId: item.parentVersionId !== undefined ? {
                equals: item.parentVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            modelName: item.modelName !== undefined ? {
                set: item.modelName
              } : undefined,
            version: item.version !== undefined ? {
                set: item.version
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? {
                set: item.performanceAccuracy
              } : undefined,
            performancePrecision: item.performancePrecision !== undefined ? {
                set: item.performancePrecision
              } : undefined,
            performanceRecall: item.performanceRecall !== undefined ? {
                set: item.performanceRecall
              } : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? {
                set: item.performanceF1Score
              } : undefined,
            performanceAuc: item.performanceAuc !== undefined ? {
                set: item.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
                set: item.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
                set: item.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? {
                set: item.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
                set: item.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
                set: item.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
                set: item.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
                set: item.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
                set: item.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? {
                set: item.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? {
                set: item.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
                set: item.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
                set: item.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
                set: item.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
                set: item.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? {
                set: item.trainingStartTime
              } : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? {
                set: item.trainingEndTime
              } : undefined,
            trainingDuration: item.trainingDuration !== undefined ? {
                set: item.trainingDuration
              } : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
                set: item.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
                set: item.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
                set: item.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
                set: item.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
                set: item.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.deployedAt !== undefined ? {
                set: item.deployedAt
              } : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? {
                set: item.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
      Array.isArray(item.artifacts) && item.artifacts.length > 0 && item.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.artifacts.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
      Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 && item.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.abTestsAsControl.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
      Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 && item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.abTestsAsTreatment.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
      Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 && item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.featureImportanceAnalyses.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            analysisType: item.analysisType !== undefined ? {
                set: item.analysisType
              } : undefined,
            featureImportances: item.featureImportances !== undefined ? {
                set: item.featureImportances
              } : undefined,
            globalImportance: item.globalImportance !== undefined ? {
                set: item.globalImportance
              } : undefined,
            localImportance: item.localImportance !== undefined ? {
                set: item.localImportance
              } : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
                set: item.analysisMetadataSampleSize
              } : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
                set: item.analysisMetadataBaselineAccuracy
              } : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
                set: item.analysisMetadataAnalysisDate
              } : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
                set: item.analysisMetadataComputationTime
              } : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
                set: item.analysisMetadataAnalysisParameters
              } : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
                set: item.insightsTopFeatures
              } : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
                set: item.insightsRedundantFeatures
              } : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
                set: item.insightsUnexpectedImportances
              } : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
                set: item.insightsStabilityScore
              } : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? {
                set: item.insightsRecommendations
              } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
        create: {
          modelName: item.modelName !== undefined ? item.modelName : undefined,
          version: item.version !== undefined ? item.version : undefined,
          status: item.status !== undefined ? item.status : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
          performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
          performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
          performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
          trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
          deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
      childVersions: item.childVersions ? 
        Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
        Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
        Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
        Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
        Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }))
    } : undefined,
    artifacts: prop.treatmentVersion.artifacts ? 
    Array.isArray(prop.treatmentVersion.artifacts) && prop.treatmentVersion.artifacts.length > 0 && prop.treatmentVersion.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: prop.treatmentVersion.artifacts.map((item: any) => ({
      id: item.id
    }))
} : { upsert: prop.treatmentVersion.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId
            } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
      modelArtifact: item.modelArtifact ? 
      typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && (Object.keys(item.modelArtifact)[0] === 'id' || Object.keys(item.modelArtifact)[0] === 'symbol')
? {
      connect: {
        id: item.modelArtifact.id
      }
} : { upsert: {
          where: {
            id: item.modelArtifact.id !== undefined ? {
                equals: item.modelArtifact.id
              } : undefined,
          },
          update: {
            id: item.modelArtifact.id !== undefined ? {
                set: item.modelArtifact.id
              } : undefined,
            modelName: item.modelArtifact.modelName !== undefined ? {
                set: item.modelArtifact.modelName
              } : undefined,
            version: item.modelArtifact.version !== undefined ? {
                set: item.modelArtifact.version
              } : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? {
                set: item.modelArtifact.artifactType
              } : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? {
                set: item.modelArtifact.storageUrl
              } : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? {
                set: item.modelArtifact.storageProvider
              } : undefined,
            fileSize: item.modelArtifact.fileSize !== undefined ? {
                set: item.modelArtifact.fileSize
              } : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? {
                set: item.modelArtifact.checksum
              } : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? {
                set: item.modelArtifact.compressionType
              } : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? {
                set: item.modelArtifact.metadataFramework
              } : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? {
                set: item.modelArtifact.metadataPythonVersion
              } : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? {
                set: item.modelArtifact.metadataDependencies
              } : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? {
                set: item.modelArtifact.metadataTrainingDate
              } : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? {
                set: item.modelArtifact.metadataDatasetSize
              } : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? {
                set: item.modelArtifact.metadataHyperparameters
              } : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsControl: prop.treatmentVersion.abTestsAsControl ? 
    Array.isArray(prop.treatmentVersion.abTestsAsControl) && prop.treatmentVersion.abTestsAsControl.length > 0 && prop.treatmentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: prop.treatmentVersion.abTestsAsControl.map((item: any) => ({
      id: item.id
    }))
} : { upsert: prop.treatmentVersion.abTestsAsControl.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name
            } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId
            } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          name: item.name !== undefined ? {
              set: item.name
            } : undefined,
          description: item.description !== undefined ? {
              set: item.description
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
              set: item.trafficSplitControlPercent
            } : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
              set: item.trafficSplitTreatmentPercent
            } : undefined,
          targetMetrics: item.targetMetrics !== undefined ? {
              set: item.targetMetrics
            } : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
              set: item.successCriteriaPrimaryMetric
            } : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
              set: item.successCriteriaMinimumDetectableEffect
            } : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
              set: item.successCriteriaSignificanceLevel
            } : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
              set: item.successCriteriaPowerLevel
            } : undefined,
          startDate: item.startDate !== undefined ? {
              set: item.startDate
            } : undefined,
          endDate: item.endDate !== undefined ? {
              set: item.endDate
            } : undefined,
          plannedDuration: item.plannedDuration !== undefined ? {
              set: item.plannedDuration
            } : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
              set: item.resultsControlMetrics
            } : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
              set: item.resultsTreatmentMetrics
            } : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
              set: item.resultsStatisticalSignificance
            } : undefined,
          resultsPValues: item.resultsPValues !== undefined ? {
              set: item.resultsPValues
            } : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
              set: item.resultsConfidenceIntervals
            } : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? {
              set: item.resultsRecommendation
            } : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? {
              set: item.metadataEnvironment
            } : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
              set: item.metadataEligibilityCriteria
            } : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
              set: item.metadataExclusionCriteria
            } : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
              set: item.metadataSegmentationRules
            } : undefined,
          completedAt: item.completedAt !== undefined ? {
              set: item.completedAt
            } : undefined,
      treatmentVersion: item.treatmentVersion ? 
      typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && (Object.keys(item.treatmentVersion)[0] === 'id' || Object.keys(item.treatmentVersion)[0] === 'symbol')
? {
      connect: {
        id: item.treatmentVersion.id
      }
} : { upsert: {
          where: {
            id: item.treatmentVersion.id !== undefined ? {
                equals: item.treatmentVersion.id
              } : undefined,
            parentVersionId: item.treatmentVersion.parentVersionId !== undefined ? {
                equals: item.treatmentVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: item.treatmentVersion.id !== undefined ? {
                set: item.treatmentVersion.id
              } : undefined,
            modelName: item.treatmentVersion.modelName !== undefined ? {
                set: item.treatmentVersion.modelName
              } : undefined,
            version: item.treatmentVersion.version !== undefined ? {
                set: item.treatmentVersion.version
              } : undefined,
            status: item.treatmentVersion.status !== undefined ? {
                set: item.treatmentVersion.status
              } : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? {
                set: item.treatmentVersion.performanceAccuracy
              } : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? {
                set: item.treatmentVersion.performancePrecision
              } : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? {
                set: item.treatmentVersion.performanceRecall
              } : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? {
                set: item.treatmentVersion.performanceF1Score
              } : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? {
                set: item.treatmentVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? {
                set: item.treatmentVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? {
                set: item.treatmentVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? {
                set: item.treatmentVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? {
                set: item.treatmentVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? {
                set: item.treatmentVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? {
                set: item.treatmentVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? {
                set: item.treatmentVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? {
                set: item.treatmentVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? {
                set: item.treatmentVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? {
                set: item.treatmentVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? {
                set: item.treatmentVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? {
                set: item.treatmentVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? {
                set: item.treatmentVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? {
                set: item.treatmentVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? {
                set: item.treatmentVersion.trainingStartTime
              } : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? {
                set: item.treatmentVersion.trainingEndTime
              } : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? {
                set: item.treatmentVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? {
                set: item.treatmentVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? {
                set: item.treatmentVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? {
                set: item.treatmentVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.treatmentVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: item.treatmentVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? {
                set: item.treatmentVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? {
                set: item.treatmentVersion.deployedAt
              } : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? {
                set: item.treatmentVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      treatmentVersion: item.treatmentVersion ? 
        typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: prop.treatmentVersion.featureImportanceAnalyses ? 
    Array.isArray(prop.treatmentVersion.featureImportanceAnalyses) && prop.treatmentVersion.featureImportanceAnalyses.length > 0 && prop.treatmentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: prop.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
      id: item.id
    }))
} : { upsert: prop.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          analysisType: item.analysisType !== undefined ? {
              set: item.analysisType
            } : undefined,
          featureImportances: item.featureImportances !== undefined ? {
              set: item.featureImportances
            } : undefined,
          globalImportance: item.globalImportance !== undefined ? {
              set: item.globalImportance
            } : undefined,
          localImportance: item.localImportance !== undefined ? {
              set: item.localImportance
            } : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
              set: item.analysisMetadataSampleSize
            } : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
              set: item.analysisMetadataBaselineAccuracy
            } : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
              set: item.analysisMetadataAnalysisDate
            } : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
              set: item.analysisMetadataComputationTime
            } : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
              set: item.analysisMetadataAnalysisParameters
            } : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
              set: item.insightsTopFeatures
            } : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
              set: item.insightsRedundantFeatures
            } : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
              set: item.insightsUnexpectedImportances
            } : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
              set: item.insightsStabilityScore
            } : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? {
              set: item.insightsRecommendations
            } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
      create: {
        modelName: prop.treatmentVersion.modelName !== undefined ? prop.treatmentVersion.modelName : undefined,
        version: prop.treatmentVersion.version !== undefined ? prop.treatmentVersion.version : undefined,
        status: prop.treatmentVersion.status !== undefined ? prop.treatmentVersion.status : undefined,
        performanceAccuracy: prop.treatmentVersion.performanceAccuracy !== undefined ? prop.treatmentVersion.performanceAccuracy : undefined,
        performancePrecision: prop.treatmentVersion.performancePrecision !== undefined ? prop.treatmentVersion.performancePrecision : undefined,
        performanceRecall: prop.treatmentVersion.performanceRecall !== undefined ? prop.treatmentVersion.performanceRecall : undefined,
        performanceF1Score: prop.treatmentVersion.performanceF1Score !== undefined ? prop.treatmentVersion.performanceF1Score : undefined,
        performanceAuc: prop.treatmentVersion.performanceAuc !== undefined ? prop.treatmentVersion.performanceAuc : undefined,
        performanceSharpeRatio: prop.treatmentVersion.performanceSharpeRatio !== undefined ? prop.treatmentVersion.performanceSharpeRatio : undefined,
        performanceMaxDrawdown: prop.treatmentVersion.performanceMaxDrawdown !== undefined ? prop.treatmentVersion.performanceMaxDrawdown : undefined,
        performanceWinRate: prop.treatmentVersion.performanceWinRate !== undefined ? prop.treatmentVersion.performanceWinRate : undefined,
        performanceAvgReturn: prop.treatmentVersion.performanceAvgReturn !== undefined ? prop.treatmentVersion.performanceAvgReturn : undefined,
        performanceCalibrationScore: prop.treatmentVersion.performanceCalibrationScore !== undefined ? prop.treatmentVersion.performanceCalibrationScore : undefined,
        performanceStabilityScore: prop.treatmentVersion.performanceStabilityScore !== undefined ? prop.treatmentVersion.performanceStabilityScore : undefined,
        validationCrossValidationScore: prop.treatmentVersion.validationCrossValidationScore !== undefined ? prop.treatmentVersion.validationCrossValidationScore : undefined,
        validationOutOfSamplePerformance: prop.treatmentVersion.validationOutOfSamplePerformance !== undefined ? prop.treatmentVersion.validationOutOfSamplePerformance : undefined,
        validationBacktestResults: prop.treatmentVersion.validationBacktestResults !== undefined ? prop.treatmentVersion.validationBacktestResults : undefined,
        validationStatTestResults: prop.treatmentVersion.validationStatTestResults !== undefined ? prop.treatmentVersion.validationStatTestResults : undefined,
        deploymentEnvironment: prop.treatmentVersion.deploymentEnvironment !== undefined ? prop.treatmentVersion.deploymentEnvironment : undefined,
        deploymentTrafficAllocation: prop.treatmentVersion.deploymentTrafficAllocation !== undefined ? prop.treatmentVersion.deploymentTrafficAllocation : undefined,
        deploymentRolloutStrategy: prop.treatmentVersion.deploymentRolloutStrategy !== undefined ? prop.treatmentVersion.deploymentRolloutStrategy : undefined,
        deploymentHealthCheckConfig: prop.treatmentVersion.deploymentHealthCheckConfig !== undefined ? prop.treatmentVersion.deploymentHealthCheckConfig : undefined,
        trainingStartTime: prop.treatmentVersion.trainingStartTime !== undefined ? prop.treatmentVersion.trainingStartTime : undefined,
        trainingEndTime: prop.treatmentVersion.trainingEndTime !== undefined ? prop.treatmentVersion.trainingEndTime : undefined,
        trainingDuration: prop.treatmentVersion.trainingDuration !== undefined ? prop.treatmentVersion.trainingDuration : undefined,
        trainingDatasetSize: prop.treatmentVersion.trainingDatasetSize !== undefined ? prop.treatmentVersion.trainingDatasetSize : undefined,
        trainingFeaturesUsed: prop.treatmentVersion.trainingFeaturesUsed !== undefined ? prop.treatmentVersion.trainingFeaturesUsed : undefined,
        trainingHyperparameters: prop.treatmentVersion.trainingHyperparameters !== undefined ? prop.treatmentVersion.trainingHyperparameters : undefined,
        trainingResourcePeakMemoryMB: prop.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? prop.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
        trainingResourceTotalCpuHours: prop.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? prop.treatmentVersion.trainingResourceTotalCpuHours : undefined,
        trainingResourceGpuHours: prop.treatmentVersion.trainingResourceGpuHours !== undefined ? prop.treatmentVersion.trainingResourceGpuHours : undefined,
        deployedAt: prop.treatmentVersion.deployedAt !== undefined ? prop.treatmentVersion.deployedAt : undefined,
        deprecatedAt: prop.treatmentVersion.deprecatedAt !== undefined ? prop.treatmentVersion.deprecatedAt : undefined,
    parentVersion: prop.treatmentVersion.parentVersion ? 
      typeof prop.treatmentVersion.parentVersion === 'object' && Object.keys(prop.treatmentVersion.parentVersion).length === 1 && Object.keys(prop.treatmentVersion.parentVersion)[0] === 'id'
    ? { connect: {
          id: prop.treatmentVersion.parentVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: prop.treatmentVersion.parentVersion.id !== undefined ? prop.treatmentVersion.parentVersion.id : undefined,
        },
        create: {
          modelName: prop.treatmentVersion.parentVersion.modelName !== undefined ? prop.treatmentVersion.parentVersion.modelName : undefined,
          version: prop.treatmentVersion.parentVersion.version !== undefined ? prop.treatmentVersion.parentVersion.version : undefined,
          status: prop.treatmentVersion.parentVersion.status !== undefined ? prop.treatmentVersion.parentVersion.status : undefined,
          performanceAccuracy: prop.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? prop.treatmentVersion.parentVersion.performanceAccuracy : undefined,
          performancePrecision: prop.treatmentVersion.parentVersion.performancePrecision !== undefined ? prop.treatmentVersion.parentVersion.performancePrecision : undefined,
          performanceRecall: prop.treatmentVersion.parentVersion.performanceRecall !== undefined ? prop.treatmentVersion.parentVersion.performanceRecall : undefined,
          performanceF1Score: prop.treatmentVersion.parentVersion.performanceF1Score !== undefined ? prop.treatmentVersion.parentVersion.performanceF1Score : undefined,
          performanceAuc: prop.treatmentVersion.parentVersion.performanceAuc !== undefined ? prop.treatmentVersion.parentVersion.performanceAuc : undefined,
          performanceSharpeRatio: prop.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? prop.treatmentVersion.parentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: prop.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? prop.treatmentVersion.parentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: prop.treatmentVersion.parentVersion.performanceWinRate !== undefined ? prop.treatmentVersion.parentVersion.performanceWinRate : undefined,
          performanceAvgReturn: prop.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? prop.treatmentVersion.parentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: prop.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? prop.treatmentVersion.parentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: prop.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? prop.treatmentVersion.parentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: prop.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? prop.treatmentVersion.parentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: prop.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? prop.treatmentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: prop.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? prop.treatmentVersion.parentVersion.validationBacktestResults : undefined,
          validationStatTestResults: prop.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? prop.treatmentVersion.parentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: prop.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? prop.treatmentVersion.parentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: prop.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? prop.treatmentVersion.parentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: prop.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? prop.treatmentVersion.parentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: prop.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? prop.treatmentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: prop.treatmentVersion.parentVersion.trainingStartTime !== undefined ? prop.treatmentVersion.parentVersion.trainingStartTime : undefined,
          trainingEndTime: prop.treatmentVersion.parentVersion.trainingEndTime !== undefined ? prop.treatmentVersion.parentVersion.trainingEndTime : undefined,
          trainingDuration: prop.treatmentVersion.parentVersion.trainingDuration !== undefined ? prop.treatmentVersion.parentVersion.trainingDuration : undefined,
          trainingDatasetSize: prop.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? prop.treatmentVersion.parentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: prop.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? prop.treatmentVersion.parentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: prop.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? prop.treatmentVersion.parentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: prop.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? prop.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: prop.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? prop.treatmentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: prop.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? prop.treatmentVersion.parentVersion.trainingResourceGpuHours : undefined,
          deployedAt: prop.treatmentVersion.parentVersion.deployedAt !== undefined ? prop.treatmentVersion.parentVersion.deployedAt : undefined,
          deprecatedAt: prop.treatmentVersion.parentVersion.deprecatedAt !== undefined ? prop.treatmentVersion.parentVersion.deprecatedAt : undefined,
      parentVersion: prop.treatmentVersion.parentVersion.parentVersion ? 
        typeof prop.treatmentVersion.parentVersion.parentVersion === 'object' && Object.keys(prop.treatmentVersion.parentVersion.parentVersion).length === 1 && Object.keys(prop.treatmentVersion.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: prop.treatmentVersion.parentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: prop.treatmentVersion.parentVersion.parentVersion.id !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: prop.treatmentVersion.parentVersion.parentVersion.modelName !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.modelName : undefined,
            version: prop.treatmentVersion.parentVersion.parentVersion.version !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.version : undefined,
            status: prop.treatmentVersion.parentVersion.parentVersion.status !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: prop.treatmentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: prop.treatmentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: prop.treatmentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: prop.treatmentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: prop.treatmentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: prop.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: prop.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: prop.treatmentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: prop.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: prop.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: prop.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: prop.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: prop.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: prop.treatmentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: prop.treatmentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: prop.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: prop.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: prop.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: prop.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: prop.treatmentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: prop.treatmentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: prop.treatmentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: prop.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: prop.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: prop.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: prop.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: prop.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: prop.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: prop.treatmentVersion.parentVersion.parentVersion.deployedAt !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: prop.treatmentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? prop.treatmentVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: prop.treatmentVersion.parentVersion.artifacts ? 
        Array.isArray(prop.treatmentVersion.parentVersion.artifacts) && prop.treatmentVersion.parentVersion.artifacts.length > 0 &&  prop.treatmentVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        prop.treatmentVersion.parentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: prop.treatmentVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: prop.treatmentVersion.parentVersion.abTestsAsControl ? 
        Array.isArray(prop.treatmentVersion.parentVersion.abTestsAsControl) && prop.treatmentVersion.parentVersion.abTestsAsControl.length > 0 &&  prop.treatmentVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        prop.treatmentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: prop.treatmentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: prop.treatmentVersion.parentVersion.abTestsAsTreatment ? 
        Array.isArray(prop.treatmentVersion.parentVersion.abTestsAsTreatment) && prop.treatmentVersion.parentVersion.abTestsAsTreatment.length > 0 &&  prop.treatmentVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        prop.treatmentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: prop.treatmentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: prop.treatmentVersion.parentVersion.featureImportanceAnalyses ? 
        Array.isArray(prop.treatmentVersion.parentVersion.featureImportanceAnalyses) && prop.treatmentVersion.parentVersion.featureImportanceAnalyses.length > 0 &&  prop.treatmentVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        prop.treatmentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: prop.treatmentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
    childVersions: prop.treatmentVersion.childVersions ? 
      Array.isArray(prop.treatmentVersion.childVersions) && prop.treatmentVersion.childVersions.length > 0 &&  prop.treatmentVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      prop.treatmentVersion.childVersions.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: prop.treatmentVersion.childVersions.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
        },
        create: {
          modelName: item.modelName !== undefined ? item.modelName : undefined,
          version: item.version !== undefined ? item.version : undefined,
          status: item.status !== undefined ? item.status : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
          performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
          performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
          performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
          trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
          deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
      childVersions: item.childVersions ? 
        Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
        Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
        Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
        Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
        Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }))
    } : undefined,
    artifacts: prop.treatmentVersion.artifacts ? 
      Array.isArray(prop.treatmentVersion.artifacts) && prop.treatmentVersion.artifacts.length > 0 &&  prop.treatmentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      prop.treatmentVersion.artifacts.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: prop.treatmentVersion.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId 
             } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsControl: prop.treatmentVersion.abTestsAsControl ? 
      Array.isArray(prop.treatmentVersion.abTestsAsControl) && prop.treatmentVersion.abTestsAsControl.length > 0 &&  prop.treatmentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      prop.treatmentVersion.abTestsAsControl.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: prop.treatmentVersion.abTestsAsControl.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      treatmentVersion: item.treatmentVersion ? 
        typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: prop.treatmentVersion.featureImportanceAnalyses ? 
      Array.isArray(prop.treatmentVersion.featureImportanceAnalyses) && prop.treatmentVersion.featureImportanceAnalyses.length > 0 &&  prop.treatmentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      prop.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: prop.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
    }
  } : undefined,

          },
        }));

        const filteredVariables = removeUndefinedProps(variables);

        const response = await client.mutate({
          mutation: UPDATE_MANY_ABTEST,
          variables: filteredVariables,
          // Don't cache mutations, but ensure we're using the freshest context
          fetchPolicy: 'no-cache'
        });

        if (response.errors && response.errors.length > 0) throw new Error(response.errors[0].message);
        if (response && response.data && response.data.updateManyABTest) {
          return response.data.updateManyABTest;
        } else {
          return null as any;
        }
      } catch (error: any) {
        lastError = error;

        // Check if this is a database connection error that we should retry
        const isConnectionError =
          error.message?.includes('Server has closed the connection') ||
          error.message?.includes('Cannot reach database server') ||
          error.message?.includes('Connection timed out') ||
          error.message?.includes('Accelerate') || // Prisma Accelerate proxy errors
          (error.networkError && error.networkError.message?.includes('Failed to fetch'));

        if (isConnectionError && retryCount < MAX_RETRIES - 1) {
          retryCount++;
          const delay = Math.pow(2, retryCount) * 100; // Exponential backoff: 200ms, 400ms, 800ms
          console.warn("Database connection error, retrying...");
          await new Promise(resolve => setTimeout(resolve, delay));
          continue;
        }

        // Log the error and rethrow
        console.error("Database error occurred:", error);
        throw error;
      }
    }

    // If we exhausted retries, throw the last error
    throw lastError;
  },

  /**
   * Delete a single ABTest record.
   * Enhanced with connection resilience against Prisma connection errors.
   * @param props - Properties to identify the record to delete.
   * @param globalClient - Apollo Client instance.
   * @returns The deleted ABTest or null.
   */
  async delete(props: ABTestType, globalClient?: ApolloClientType<NormalizedCacheObject>): Promise<ABTestType> {
    // Maximum number of retries for database connection issues
    const MAX_RETRIES = 3;
    let retryCount = 0;
    let lastError: any = null;

    // Retry loop to handle potential database connection issues
    while (retryCount < MAX_RETRIES) {
      try {
        const [modules, client] = await Promise.all([
          getApolloModules(),
          globalClient
            ? Promise.resolve(globalClient)
            : importedClient
        ]);

        const { gql, ApolloError } = modules;

        const DELETE_ONE_ABTEST = gql`
          mutation deleteOneABTest($where: ABTestWhereUniqueInput!) {
            deleteOneABTest(where: $where) {
              id
            }
          }`;

        const variables = {
          where: {
            id: props.id ? props.id : undefined,
          }
        };

        const filteredVariables = removeUndefinedProps(variables);

        const response = await client.mutate({
          mutation: DELETE_ONE_ABTEST,
          variables: filteredVariables,
          // Don't cache mutations, but ensure we're using the freshest context
          fetchPolicy: 'no-cache'
        });

        if (response.errors && response.errors.length > 0) throw new Error(response.errors[0].message);
        if (response && response.data && response.data.deleteOneABTest) {
          return response.data.deleteOneABTest;
        } else {
          return null as any;
        }
      } catch (error: any) {
        lastError = error;

        // Check if this is a database connection error that we should retry
        const isConnectionError =
          error.message?.includes('Server has closed the connection') ||
          error.message?.includes('Cannot reach database server') ||
          error.message?.includes('Connection timed out') ||
          error.message?.includes('Accelerate') || // Prisma Accelerate proxy errors
          (error.networkError && error.networkError.message?.includes('Failed to fetch'));

        if (isConnectionError && retryCount < MAX_RETRIES - 1) {
          retryCount++;
          const delay = Math.pow(2, retryCount) * 100; // Exponential backoff: 200ms, 400ms, 800ms
          console.warn("Database connection error, retrying...");
          await new Promise(resolve => setTimeout(resolve, delay));
          continue;
        }

        // Log the error and rethrow
        console.error("Database error occurred:", error);
        throw error;
      }
    }

    // If we exhausted retries, throw the last error
    throw lastError;
  },

  /**
   * Retrieve a single ABTest record by ID.
   * Enhanced with connection resilience against Prisma connection errors.
   * @param props - Properties to identify the record.
   * @param globalClient - Apollo Client instance.
   * @param whereInput - Optional custom where input.
   * @returns The retrieved ABTest or null.
   */
  async get(props: ABTestType, globalClient?: ApolloClientType<NormalizedCacheObject>, whereInput?: any): Promise<ABTestType | null> {
    // Maximum number of retries for database connection issues
    const MAX_RETRIES = 3;
    let retryCount = 0;
    let lastError: any = null;

    // Retry loop to handle potential database connection issues
    while (retryCount < MAX_RETRIES) {
      try {
        const [modules, client] = await Promise.all([
          getApolloModules(),
          globalClient
            ? Promise.resolve(globalClient)
            : importedClient
        ]);

        const { gql, ApolloError } = modules;

        const GET_ABTEST = gql`
          query getABTest($where: ABTestWhereUniqueInput!) {
            getABTest(where: $where) {
              ${selectionSet}
            }
          }`;

        const variables = {
          where: whereInput ? whereInput : {
            id: props.id !== undefined ? props.id : undefined,
  name: props.name !== undefined ? {
    equals: props.name 
  } : undefined,
  modelVersionAId: props.modelVersionAId !== undefined ? {
    equals: props.modelVersionAId 
  } : undefined,
  modelVersionBId: props.modelVersionBId !== undefined ? {
    equals: props.modelVersionBId 
  } : undefined,
},
        };
        const filteredVariables = removeUndefinedProps(variables);

        const response = await client.query({
          query: GET_ABTEST,
          variables: filteredVariables,
          fetchPolicy: 'network-only', // Force network request to avoid stale cache
        });

        if (response.errors && response.errors.length > 0) throw new Error(response.errors[0].message);
        return response.data?.getABTest ?? null;
      } catch (error: any) {
        lastError = error;

        // Check if this is a "No record found" error - this is an expected condition, not a failure
        if (error.message === 'No ABTest found') {
          return null;
        }

        // Check if this is a database connection error that we should retry
        const isConnectionError =
          error.message?.includes('Server has closed the connection') ||
          error.message?.includes('Cannot reach database server') ||
          error.message?.includes('Connection timed out') ||
          error.message?.includes('Accelerate') || // Prisma Accelerate proxy errors
          (error.networkError && error.networkError.message?.includes('Failed to fetch'));

        if (isConnectionError && retryCount < MAX_RETRIES - 1) {
          retryCount++;
          const delay = Math.pow(2, retryCount) * 100; // Exponential backoff: 200ms, 400ms, 800ms
          console.warn("Database connection error, retrying...");
          await new Promise(resolve => setTimeout(resolve, delay));
          continue;
        }

        // Log the error and rethrow
        console.error("Database error occurred:", error);
        throw error;
      }
    }

    // If we exhausted retries, throw the last error
    throw lastError;
  },

  /**
   * Retrieve all ABTests records.
   * Enhanced with connection resilience against Prisma connection errors.
   * @param globalClient - Apollo Client instance.
   * @returns An array of ABTest records or null.
   */
  async getAll(globalClient?: ApolloClientType<NormalizedCacheObject>): Promise<ABTestType[] | null> {
    // Maximum number of retries for database connection issues
    const MAX_RETRIES = 3;
    let retryCount = 0;
    let lastError: any = null;

    // Retry loop to handle potential database connection issues
    while (retryCount < MAX_RETRIES) {
      try {
        const [modules, client] = await Promise.all([
          getApolloModules(),
          globalClient
            ? Promise.resolve(globalClient)
            : importedClient
        ]);

        const { gql, ApolloError } = modules;

        const GET_ALL_ABTEST = gql`
          query getAllABTest {
            aBTests {
              ${selectionSet}
            }
          }`;

        const response = await client.query({
          query: GET_ALL_ABTEST,
          fetchPolicy: 'network-only', // Force network request to avoid stale cache
        });

        if (response.errors && response.errors.length > 0) throw new Error(response.errors[0].message);
        return response.data?.aBTests ?? null;
      } catch (error: any) {
        lastError = error;

        // Check if this is a "No record found" error - this is an expected condition, not a failure
        if (error.message === 'No ABTest found') {
          return null;
        }

        // Check if this is a database connection error that we should retry
        const isConnectionError =
          error.message?.includes('Server has closed the connection') ||
          error.message?.includes('Cannot reach database server') ||
          error.message?.includes('Connection timed out') ||
          error.message?.includes('Accelerate') || // Prisma Accelerate proxy errors
          (error.networkError && error.networkError.message?.includes('Failed to fetch'));

        if (isConnectionError && retryCount < MAX_RETRIES - 1) {
          retryCount++;
          const delay = Math.pow(2, retryCount) * 100; // Exponential backoff: 200ms, 400ms, 800ms
          console.warn("Database connection error, retrying...");
          await new Promise(resolve => setTimeout(resolve, delay));
          continue;
        }

        // Log the error and rethrow
        console.error("Database error occurred:", error);
        throw error;
      }
    }

    // If we exhausted retries, throw the last error
    throw lastError;
  },

  /**
   * Find multiple ABTest records based on conditions.
   * Enhanced with connection resilience against Prisma connection errors.
   * @param props - Conditions to find records.
   * @param globalClient - Apollo Client instance.
   * @param whereInput - Optional custom where input.
   * @returns An array of found ABTest records or null.
   */
  async findMany(props: ABTestType, globalClient?: ApolloClientType<NormalizedCacheObject>, whereInput?: any): Promise<ABTestType[] | null> {
    // Maximum number of retries for database connection issues
    const MAX_RETRIES = 3;
    let retryCount = 0;
    let lastError: any = null;

    // Retry loop to handle potential database connection issues
    while (retryCount < MAX_RETRIES) {
      try {
        const [modules, client] = await Promise.all([
          getApolloModules(),
          globalClient
            ? Promise.resolve(globalClient)
            : importedClient
        ]);

        const { gql, ApolloError } = modules;

        const FIND_MANY_ABTEST = gql`
          query findManyABTest($where: ABTestWhereInput!) {
            aBTests(where: $where) {
              ${selectionSet}
            }
          }`;

        const variables = {
          where: whereInput ? whereInput : {
      id: props.id !== undefined ? {
    equals: props.id 
  } : undefined,
  name: props.name !== undefined ? {
    equals: props.name 
  } : undefined,
  modelVersionAId: props.modelVersionAId !== undefined ? {
    equals: props.modelVersionAId 
  } : undefined,
  modelVersionBId: props.modelVersionBId !== undefined ? {
    equals: props.modelVersionBId 
  } : undefined,
      },
        };

        const filteredVariables = removeUndefinedProps(variables);

        const response = await client.query({
          query: FIND_MANY_ABTEST,
          variables: filteredVariables,
          fetchPolicy: 'network-only', // Force network request to avoid stale cache
        });

        if (response.errors && response.errors.length > 0) throw new Error(response.errors[0].message);
        if (response && response.data && response.data.abtests) {
          return response.data.aBTests;
        } else {
          return [] as ABTestType[];
        }
      } catch (error: any) {
        lastError = error;

        // Check if this is a "No record found" error - this is an expected condition, not a failure
        if (error.message === 'No ABTest found') {
          return null;
        }

        // Check if this is a database connection error that we should retry
        const isConnectionError =
          error.message?.includes('Server has closed the connection') ||
          error.message?.includes('Cannot reach database server') ||
          error.message?.includes('Connection timed out') ||
          error.message?.includes('Accelerate') || // Prisma Accelerate proxy errors
          (error.networkError && error.networkError.message?.includes('Failed to fetch'));

        if (isConnectionError && retryCount < MAX_RETRIES - 1) {
          retryCount++;
          const delay = Math.pow(2, retryCount) * 100; // Exponential backoff: 200ms, 400ms, 800ms
          console.warn("Database connection error, retrying...");
          await new Promise(resolve => setTimeout(resolve, delay));
          continue;
        }

        // Log the error and rethrow
        console.error("Database error occurred:", error);
        throw error;
      }
    }

    // If we exhausted retries, throw the last error
    throw lastError;
  }
};
