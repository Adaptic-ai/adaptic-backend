
  
import { ModelVersion as ModelVersionType } from './generated/typegraphql-prisma/models/ModelVersion';
import { client as importedClient, ApolloClientType, NormalizedCacheObject, getApolloModules } from './client';
import { removeUndefinedProps } from './utils';
  
  /**
   * CRUD operations for the ModelVersion model.
   */

  const selectionSet = `
    
  id
  modelName
  version
  status
  parentVersionId
  parentVersion {
id
  }
  childVersions {
id
  }
  artifacts {
    id
    modelVersionId
    modelArtifactId
    modelArtifact {
      id
      modelName
      version
      artifactType
      storageUrl
      storageProvider
      fileSize
      checksum
      compressionType
      metadataFramework
      metadataPythonVersion
      metadataDependencies
      metadataTrainingDate
      metadataDatasetSize
      metadataHyperparameters
      createdAt
      updatedAt
    }
    createdAt
  }
  performanceAccuracy
  performancePrecision
  performanceRecall
  performanceF1Score
  performanceAuc
  performanceSharpeRatio
  performanceMaxDrawdown
  performanceWinRate
  performanceAvgReturn
  performanceCalibrationScore
  performanceStabilityScore
  validationCrossValidationScore
  validationOutOfSamplePerformance
  validationBacktestResults
  validationStatTestResults
  deploymentEnvironment
  deploymentTrafficAllocation
  deploymentRolloutStrategy
  deploymentHealthCheckConfig
  trainingStartTime
  trainingEndTime
  trainingDuration
  trainingDatasetSize
  trainingFeaturesUsed
  trainingHyperparameters
  trainingResourcePeakMemoryMB
  trainingResourceTotalCpuHours
  trainingResourceGpuHours
  createdAt
  updatedAt
  deployedAt
  deprecatedAt
  abTestsAsControl {
    id
    name
    description
    status
    modelVersionAId
    modelVersionBId
    treatmentVersion {
id
    }
    trafficSplitControlPercent
    trafficSplitTreatmentPercent
    targetMetrics
    successCriteriaPrimaryMetric
    successCriteriaMinimumDetectableEffect
    successCriteriaSignificanceLevel
    successCriteriaPowerLevel
    startDate
    endDate
    plannedDuration
    resultsControlMetrics
    resultsTreatmentMetrics
    resultsStatisticalSignificance
    resultsPValues
    resultsConfidenceIntervals
    resultsRecommendation
    metadataEnvironment
    metadataEligibilityCriteria
    metadataExclusionCriteria
    metadataSegmentationRules
    createdAt
    updatedAt
    completedAt
  }
  abTestsAsTreatment {
    id
    name
    description
    status
    modelVersionAId
    modelVersionBId
    controlVersion {
id
    }
    trafficSplitControlPercent
    trafficSplitTreatmentPercent
    targetMetrics
    successCriteriaPrimaryMetric
    successCriteriaMinimumDetectableEffect
    successCriteriaSignificanceLevel
    successCriteriaPowerLevel
    startDate
    endDate
    plannedDuration
    resultsControlMetrics
    resultsTreatmentMetrics
    resultsStatisticalSignificance
    resultsPValues
    resultsConfidenceIntervals
    resultsRecommendation
    metadataEnvironment
    metadataEligibilityCriteria
    metadataExclusionCriteria
    metadataSegmentationRules
    createdAt
    updatedAt
    completedAt
  }
  featureImportanceAnalyses {
    id
    modelVersionId
    analysisType
    featureImportances
    globalImportance
    localImportance
    analysisMetadataSampleSize
    analysisMetadataBaselineAccuracy
    analysisMetadataAnalysisDate
    analysisMetadataComputationTime
    analysisMetadataAnalysisParameters
    insightsTopFeatures
    insightsRedundantFeatures
    insightsUnexpectedImportances
    insightsStabilityScore
    insightsRecommendations
    createdAt
    updatedAt
  }

  `;

  export const ModelVersion = {

    /**
     * Create a new ModelVersion record.
     * @param props - Properties for the new record.
     * @param client - Apollo Client instance.
     * @returns The created ModelVersion or null.
     */

    /**
     * Create a new ModelVersion record.
     * Enhanced with connection resilience against Prisma connection errors.
     * @param props - Properties for the new record.
     * @param globalClient - Apollo Client instance.
     * @returns The created ModelVersion or null.
     */
    async create(props: ModelVersionType, globalClient?: ApolloClientType<NormalizedCacheObject>): Promise<ModelVersionType> {
      // Maximum number of retries for database connection issues
      const MAX_RETRIES = 3;
      let retryCount = 0;
      let lastError: any = null;

      // Retry loop to handle potential database connection issues
      while (retryCount < MAX_RETRIES) {
        try {
          const [modules, client] = await Promise.all([
            getApolloModules(),
            globalClient
              ? Promise.resolve(globalClient)
              : importedClient
          ]);

          const { gql, ApolloError } = modules;

          const CREATE_ONE_MODELVERSION = gql`
              mutation createOneModelVersion($data: ModelVersionCreateInput!) {
                createOneModelVersion(data: $data) {
                  ${selectionSet}
                }
              }
           `;

          const variables = {
            data: {
                modelName: props.modelName !== undefined ? props.modelName : undefined,
  version: props.version !== undefined ? props.version : undefined,
  status: props.status !== undefined ? props.status : undefined,
  performanceAccuracy: props.performanceAccuracy !== undefined ? props.performanceAccuracy : undefined,
  performancePrecision: props.performancePrecision !== undefined ? props.performancePrecision : undefined,
  performanceRecall: props.performanceRecall !== undefined ? props.performanceRecall : undefined,
  performanceF1Score: props.performanceF1Score !== undefined ? props.performanceF1Score : undefined,
  performanceAuc: props.performanceAuc !== undefined ? props.performanceAuc : undefined,
  performanceSharpeRatio: props.performanceSharpeRatio !== undefined ? props.performanceSharpeRatio : undefined,
  performanceMaxDrawdown: props.performanceMaxDrawdown !== undefined ? props.performanceMaxDrawdown : undefined,
  performanceWinRate: props.performanceWinRate !== undefined ? props.performanceWinRate : undefined,
  performanceAvgReturn: props.performanceAvgReturn !== undefined ? props.performanceAvgReturn : undefined,
  performanceCalibrationScore: props.performanceCalibrationScore !== undefined ? props.performanceCalibrationScore : undefined,
  performanceStabilityScore: props.performanceStabilityScore !== undefined ? props.performanceStabilityScore : undefined,
  validationCrossValidationScore: props.validationCrossValidationScore !== undefined ? props.validationCrossValidationScore : undefined,
  validationOutOfSamplePerformance: props.validationOutOfSamplePerformance !== undefined ? props.validationOutOfSamplePerformance : undefined,
  validationBacktestResults: props.validationBacktestResults !== undefined ? props.validationBacktestResults : undefined,
  validationStatTestResults: props.validationStatTestResults !== undefined ? props.validationStatTestResults : undefined,
  deploymentEnvironment: props.deploymentEnvironment !== undefined ? props.deploymentEnvironment : undefined,
  deploymentTrafficAllocation: props.deploymentTrafficAllocation !== undefined ? props.deploymentTrafficAllocation : undefined,
  deploymentRolloutStrategy: props.deploymentRolloutStrategy !== undefined ? props.deploymentRolloutStrategy : undefined,
  deploymentHealthCheckConfig: props.deploymentHealthCheckConfig !== undefined ? props.deploymentHealthCheckConfig : undefined,
  trainingStartTime: props.trainingStartTime !== undefined ? props.trainingStartTime : undefined,
  trainingEndTime: props.trainingEndTime !== undefined ? props.trainingEndTime : undefined,
  trainingDuration: props.trainingDuration !== undefined ? props.trainingDuration : undefined,
  trainingDatasetSize: props.trainingDatasetSize !== undefined ? props.trainingDatasetSize : undefined,
  trainingFeaturesUsed: props.trainingFeaturesUsed !== undefined ? props.trainingFeaturesUsed : undefined,
  trainingHyperparameters: props.trainingHyperparameters !== undefined ? props.trainingHyperparameters : undefined,
  trainingResourcePeakMemoryMB: props.trainingResourcePeakMemoryMB !== undefined ? props.trainingResourcePeakMemoryMB : undefined,
  trainingResourceTotalCpuHours: props.trainingResourceTotalCpuHours !== undefined ? props.trainingResourceTotalCpuHours : undefined,
  trainingResourceGpuHours: props.trainingResourceGpuHours !== undefined ? props.trainingResourceGpuHours : undefined,
  deployedAt: props.deployedAt !== undefined ? props.deployedAt : undefined,
  deprecatedAt: props.deprecatedAt !== undefined ? props.deprecatedAt : undefined,
  parentVersion: props.parentVersion ? 
    typeof props.parentVersion === 'object' && Object.keys(props.parentVersion).length === 1 && Object.keys(props.parentVersion)[0] === 'id'
    ? { connect: {
        id: props.parentVersion.id
        }
      }
    : { connectOrCreate: {
      where: {
        id: props.parentVersion.id !== undefined ? props.parentVersion.id : undefined,
      },
      create: {
        modelName: props.parentVersion.modelName !== undefined ? props.parentVersion.modelName : undefined,
        version: props.parentVersion.version !== undefined ? props.parentVersion.version : undefined,
        status: props.parentVersion.status !== undefined ? props.parentVersion.status : undefined,
        performanceAccuracy: props.parentVersion.performanceAccuracy !== undefined ? props.parentVersion.performanceAccuracy : undefined,
        performancePrecision: props.parentVersion.performancePrecision !== undefined ? props.parentVersion.performancePrecision : undefined,
        performanceRecall: props.parentVersion.performanceRecall !== undefined ? props.parentVersion.performanceRecall : undefined,
        performanceF1Score: props.parentVersion.performanceF1Score !== undefined ? props.parentVersion.performanceF1Score : undefined,
        performanceAuc: props.parentVersion.performanceAuc !== undefined ? props.parentVersion.performanceAuc : undefined,
        performanceSharpeRatio: props.parentVersion.performanceSharpeRatio !== undefined ? props.parentVersion.performanceSharpeRatio : undefined,
        performanceMaxDrawdown: props.parentVersion.performanceMaxDrawdown !== undefined ? props.parentVersion.performanceMaxDrawdown : undefined,
        performanceWinRate: props.parentVersion.performanceWinRate !== undefined ? props.parentVersion.performanceWinRate : undefined,
        performanceAvgReturn: props.parentVersion.performanceAvgReturn !== undefined ? props.parentVersion.performanceAvgReturn : undefined,
        performanceCalibrationScore: props.parentVersion.performanceCalibrationScore !== undefined ? props.parentVersion.performanceCalibrationScore : undefined,
        performanceStabilityScore: props.parentVersion.performanceStabilityScore !== undefined ? props.parentVersion.performanceStabilityScore : undefined,
        validationCrossValidationScore: props.parentVersion.validationCrossValidationScore !== undefined ? props.parentVersion.validationCrossValidationScore : undefined,
        validationOutOfSamplePerformance: props.parentVersion.validationOutOfSamplePerformance !== undefined ? props.parentVersion.validationOutOfSamplePerformance : undefined,
        validationBacktestResults: props.parentVersion.validationBacktestResults !== undefined ? props.parentVersion.validationBacktestResults : undefined,
        validationStatTestResults: props.parentVersion.validationStatTestResults !== undefined ? props.parentVersion.validationStatTestResults : undefined,
        deploymentEnvironment: props.parentVersion.deploymentEnvironment !== undefined ? props.parentVersion.deploymentEnvironment : undefined,
        deploymentTrafficAllocation: props.parentVersion.deploymentTrafficAllocation !== undefined ? props.parentVersion.deploymentTrafficAllocation : undefined,
        deploymentRolloutStrategy: props.parentVersion.deploymentRolloutStrategy !== undefined ? props.parentVersion.deploymentRolloutStrategy : undefined,
        deploymentHealthCheckConfig: props.parentVersion.deploymentHealthCheckConfig !== undefined ? props.parentVersion.deploymentHealthCheckConfig : undefined,
        trainingStartTime: props.parentVersion.trainingStartTime !== undefined ? props.parentVersion.trainingStartTime : undefined,
        trainingEndTime: props.parentVersion.trainingEndTime !== undefined ? props.parentVersion.trainingEndTime : undefined,
        trainingDuration: props.parentVersion.trainingDuration !== undefined ? props.parentVersion.trainingDuration : undefined,
        trainingDatasetSize: props.parentVersion.trainingDatasetSize !== undefined ? props.parentVersion.trainingDatasetSize : undefined,
        trainingFeaturesUsed: props.parentVersion.trainingFeaturesUsed !== undefined ? props.parentVersion.trainingFeaturesUsed : undefined,
        trainingHyperparameters: props.parentVersion.trainingHyperparameters !== undefined ? props.parentVersion.trainingHyperparameters : undefined,
        trainingResourcePeakMemoryMB: props.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.parentVersion.trainingResourcePeakMemoryMB : undefined,
        trainingResourceTotalCpuHours: props.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.parentVersion.trainingResourceTotalCpuHours : undefined,
        trainingResourceGpuHours: props.parentVersion.trainingResourceGpuHours !== undefined ? props.parentVersion.trainingResourceGpuHours : undefined,
        deployedAt: props.parentVersion.deployedAt !== undefined ? props.parentVersion.deployedAt : undefined,
        deprecatedAt: props.parentVersion.deprecatedAt !== undefined ? props.parentVersion.deprecatedAt : undefined,
    parentVersion: props.parentVersion.parentVersion ? 
      typeof props.parentVersion.parentVersion === 'object' && Object.keys(props.parentVersion.parentVersion).length === 1 && Object.keys(props.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
          id: props.parentVersion.parentVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: props.parentVersion.parentVersion.id !== undefined ? props.parentVersion.parentVersion.id : undefined,
        },
        create: {
          modelName: props.parentVersion.parentVersion.modelName !== undefined ? props.parentVersion.parentVersion.modelName : undefined,
          version: props.parentVersion.parentVersion.version !== undefined ? props.parentVersion.parentVersion.version : undefined,
          status: props.parentVersion.parentVersion.status !== undefined ? props.parentVersion.parentVersion.status : undefined,
          performanceAccuracy: props.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.parentVersion.parentVersion.performanceAccuracy : undefined,
          performancePrecision: props.parentVersion.parentVersion.performancePrecision !== undefined ? props.parentVersion.parentVersion.performancePrecision : undefined,
          performanceRecall: props.parentVersion.parentVersion.performanceRecall !== undefined ? props.parentVersion.parentVersion.performanceRecall : undefined,
          performanceF1Score: props.parentVersion.parentVersion.performanceF1Score !== undefined ? props.parentVersion.parentVersion.performanceF1Score : undefined,
          performanceAuc: props.parentVersion.parentVersion.performanceAuc !== undefined ? props.parentVersion.parentVersion.performanceAuc : undefined,
          performanceSharpeRatio: props.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.parentVersion.parentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: props.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: props.parentVersion.parentVersion.performanceWinRate !== undefined ? props.parentVersion.parentVersion.performanceWinRate : undefined,
          performanceAvgReturn: props.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.parentVersion.parentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: props.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.parentVersion.parentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: props.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.parentVersion.parentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: props.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.parentVersion.parentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: props.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: props.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.parentVersion.parentVersion.validationBacktestResults : undefined,
          validationStatTestResults: props.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.parentVersion.parentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: props.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.parentVersion.parentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: props.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: props.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: props.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: props.parentVersion.parentVersion.trainingStartTime !== undefined ? props.parentVersion.parentVersion.trainingStartTime : undefined,
          trainingEndTime: props.parentVersion.parentVersion.trainingEndTime !== undefined ? props.parentVersion.parentVersion.trainingEndTime : undefined,
          trainingDuration: props.parentVersion.parentVersion.trainingDuration !== undefined ? props.parentVersion.parentVersion.trainingDuration : undefined,
          trainingDatasetSize: props.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.parentVersion.parentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: props.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: props.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.parentVersion.parentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: props.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: props.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: props.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
          deployedAt: props.parentVersion.parentVersion.deployedAt !== undefined ? props.parentVersion.parentVersion.deployedAt : undefined,
          deprecatedAt: props.parentVersion.parentVersion.deprecatedAt !== undefined ? props.parentVersion.parentVersion.deprecatedAt : undefined,
      parentVersion: props.parentVersion.parentVersion.parentVersion ? 
        typeof props.parentVersion.parentVersion.parentVersion === 'object' && Object.keys(props.parentVersion.parentVersion.parentVersion).length === 1 && Object.keys(props.parentVersion.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: props.parentVersion.parentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: props.parentVersion.parentVersion.parentVersion.id !== undefined ? props.parentVersion.parentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: props.parentVersion.parentVersion.parentVersion.modelName !== undefined ? props.parentVersion.parentVersion.parentVersion.modelName : undefined,
            version: props.parentVersion.parentVersion.parentVersion.version !== undefined ? props.parentVersion.parentVersion.parentVersion.version : undefined,
            status: props.parentVersion.parentVersion.parentVersion.status !== undefined ? props.parentVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: props.parentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: props.parentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? props.parentVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: props.parentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: props.parentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: props.parentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: props.parentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: props.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: props.parentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: props.parentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: props.parentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: props.parentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: props.parentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.parentVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: props.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: props.parentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.parentVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: props.parentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.parentVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: props.parentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: props.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: props.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: props.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: props.parentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: props.parentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: props.parentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: props.parentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: props.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: props.parentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: props.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: props.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: props.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: props.parentVersion.parentVersion.parentVersion.deployedAt !== undefined ? props.parentVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: props.parentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? props.parentVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: props.parentVersion.parentVersion.artifacts ? 
        Array.isArray(props.parentVersion.parentVersion.artifacts) && props.parentVersion.parentVersion.artifacts.length > 0 &&  props.parentVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.parentVersion.parentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.parentVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: props.parentVersion.parentVersion.abTestsAsControl ? 
        Array.isArray(props.parentVersion.parentVersion.abTestsAsControl) && props.parentVersion.parentVersion.abTestsAsControl.length > 0 &&  props.parentVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.parentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.parentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: props.parentVersion.parentVersion.abTestsAsTreatment ? 
        Array.isArray(props.parentVersion.parentVersion.abTestsAsTreatment) && props.parentVersion.parentVersion.abTestsAsTreatment.length > 0 &&  props.parentVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.parentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.parentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: props.parentVersion.parentVersion.featureImportanceAnalyses ? 
        Array.isArray(props.parentVersion.parentVersion.featureImportanceAnalyses) && props.parentVersion.parentVersion.featureImportanceAnalyses.length > 0 &&  props.parentVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.parentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.parentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
    artifacts: props.parentVersion.artifacts ? 
      Array.isArray(props.parentVersion.artifacts) && props.parentVersion.artifacts.length > 0 &&  props.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.parentVersion.artifacts.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.parentVersion.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId 
             } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsControl: props.parentVersion.abTestsAsControl ? 
      Array.isArray(props.parentVersion.abTestsAsControl) && props.parentVersion.abTestsAsControl.length > 0 &&  props.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.parentVersion.abTestsAsControl.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.parentVersion.abTestsAsControl.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      treatmentVersion: item.treatmentVersion ? 
        typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsTreatment: props.parentVersion.abTestsAsTreatment ? 
      Array.isArray(props.parentVersion.abTestsAsTreatment) && props.parentVersion.abTestsAsTreatment.length > 0 &&  props.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.parentVersion.abTestsAsTreatment.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.parentVersion.abTestsAsTreatment.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      controlVersion: item.controlVersion ? 
        typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: props.parentVersion.featureImportanceAnalyses ? 
      Array.isArray(props.parentVersion.featureImportanceAnalyses) && props.parentVersion.featureImportanceAnalyses.length > 0 &&  props.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.parentVersion.featureImportanceAnalyses.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.parentVersion.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
    }
  } : undefined,
  childVersions: props.childVersions ? 
    Array.isArray(props.childVersions) && props.childVersions.length > 0 &&  props.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
      connect:    props.childVersions.map((item: any) => ({
         id: item.id
      }))
 }
 : { connectOrCreate: props.childVersions.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
      },
      create: {
        modelName: item.modelName !== undefined ? item.modelName : undefined,
        version: item.version !== undefined ? item.version : undefined,
        status: item.status !== undefined ? item.status : undefined,
        performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
        performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
        performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
        performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
        performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
        performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
        performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
        performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
        performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
        performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
        performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
        validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
        validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
        validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
        validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
        deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
        deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
        deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
        deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
        trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
        trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
        trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
        trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
        trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
        trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
        trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
        trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
        trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
        deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
        deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
    childVersions: item.childVersions ? 
      Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.childVersions.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
        },
        create: {
          modelName: item.modelName !== undefined ? item.modelName : undefined,
          version: item.version !== undefined ? item.version : undefined,
          status: item.status !== undefined ? item.status : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
          performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
          performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
          performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
          trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
          deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
      childVersions: item.childVersions ? 
        Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
        Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
        Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
        Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
        Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }))
    } : undefined,
    artifacts: item.artifacts ? 
      Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.artifacts.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId 
             } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsControl: item.abTestsAsControl ? 
      Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.abTestsAsControl.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      treatmentVersion: item.treatmentVersion ? 
        typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsTreatment: item.abTestsAsTreatment ? 
      Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.abTestsAsTreatment.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      controlVersion: item.controlVersion ? 
        typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: item.featureImportanceAnalyses ? 
      Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.featureImportanceAnalyses.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
    }))
  } : undefined,
  artifacts: props.artifacts ? 
    Array.isArray(props.artifacts) && props.artifacts.length > 0 &&  props.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
      connect:    props.artifacts.map((item: any) => ({
         id: item.id
      }))
 }
 : { connectOrCreate: props.artifacts.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
        modelVersionId: item.modelVersionId !== undefined ? {
            equals: item.modelVersionId 
           } : undefined,
        modelArtifactId: item.modelArtifactId !== undefined ? {
            equals: item.modelArtifactId 
           } : undefined,
      },
      create: {
    modelArtifact: item.modelArtifact ? 
      typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
          id: item.modelArtifact.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
        },
        create: {
          modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
          version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
          artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
          storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
          storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
          checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
          compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
          metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
          metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
          metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
          metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
          metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
          metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
        },
      }
    } : undefined,
      },
    }))
  } : undefined,
  abTestsAsControl: props.abTestsAsControl ? 
    Array.isArray(props.abTestsAsControl) && props.abTestsAsControl.length > 0 &&  props.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
      connect:    props.abTestsAsControl.map((item: any) => ({
         id: item.id
      }))
 }
 : { connectOrCreate: props.abTestsAsControl.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
        name: item.name !== undefined ? {
            equals: item.name 
           } : undefined,
        modelVersionAId: item.modelVersionAId !== undefined ? {
            equals: item.modelVersionAId 
           } : undefined,
        modelVersionBId: item.modelVersionBId !== undefined ? {
            equals: item.modelVersionBId 
           } : undefined,
      },
      create: {
        name: item.name !== undefined ? item.name : undefined,
        description: item.description !== undefined ? item.description : undefined,
        status: item.status !== undefined ? item.status : undefined,
        trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
        trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
        targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
        successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
        successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
        successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
        successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
        startDate: item.startDate !== undefined ? item.startDate : undefined,
        endDate: item.endDate !== undefined ? item.endDate : undefined,
        resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
        resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
        resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
        resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
        resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
        resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
        metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
        metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
        metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
        metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
        completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
    treatmentVersion: item.treatmentVersion ? 
      typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
          id: item.treatmentVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
        },
        create: {
          modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
          version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
          status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
          performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
          performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
          performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
          performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
          performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
          performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
          performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
          validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
          trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
          trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
          trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
          deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
          deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
      parentVersion: item.treatmentVersion.parentVersion ? 
        typeof item.treatmentVersion.parentVersion === 'object' && Object.keys(item.treatmentVersion.parentVersion).length === 1 && Object.keys(item.treatmentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.parentVersion.id !== undefined ? item.treatmentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.parentVersion.modelName !== undefined ? item.treatmentVersion.parentVersion.modelName : undefined,
            version: item.treatmentVersion.parentVersion.version !== undefined ? item.treatmentVersion.parentVersion.version : undefined,
            status: item.treatmentVersion.parentVersion.status !== undefined ? item.treatmentVersion.parentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.parentVersion.performancePrecision !== undefined ? item.treatmentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.parentVersion.performanceRecall !== undefined ? item.treatmentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.parentVersion.performanceF1Score !== undefined ? item.treatmentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.parentVersion.performanceAuc !== undefined ? item.treatmentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.parentVersion.performanceWinRate !== undefined ? item.treatmentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.parentVersion.trainingStartTime !== undefined ? item.treatmentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.parentVersion.trainingEndTime !== undefined ? item.treatmentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.parentVersion.trainingDuration !== undefined ? item.treatmentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.parentVersion.deployedAt !== undefined ? item.treatmentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.parentVersion.deprecatedAt !== undefined ? item.treatmentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      childVersions: item.treatmentVersion.childVersions ? 
        Array.isArray(item.treatmentVersion.childVersions) && item.treatmentVersion.childVersions.length > 0 &&  item.treatmentVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.treatmentVersion.artifacts ? 
        Array.isArray(item.treatmentVersion.artifacts) && item.treatmentVersion.artifacts.length > 0 &&  item.treatmentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.treatmentVersion.abTestsAsControl ? 
        Array.isArray(item.treatmentVersion.abTestsAsControl) && item.treatmentVersion.abTestsAsControl.length > 0 &&  item.treatmentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.treatmentVersion.featureImportanceAnalyses ? 
        Array.isArray(item.treatmentVersion.featureImportanceAnalyses) && item.treatmentVersion.featureImportanceAnalyses.length > 0 &&  item.treatmentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
      },
    }))
  } : undefined,
  abTestsAsTreatment: props.abTestsAsTreatment ? 
    Array.isArray(props.abTestsAsTreatment) && props.abTestsAsTreatment.length > 0 &&  props.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
      connect:    props.abTestsAsTreatment.map((item: any) => ({
         id: item.id
      }))
 }
 : { connectOrCreate: props.abTestsAsTreatment.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
        name: item.name !== undefined ? {
            equals: item.name 
           } : undefined,
        modelVersionAId: item.modelVersionAId !== undefined ? {
            equals: item.modelVersionAId 
           } : undefined,
        modelVersionBId: item.modelVersionBId !== undefined ? {
            equals: item.modelVersionBId 
           } : undefined,
      },
      create: {
        name: item.name !== undefined ? item.name : undefined,
        description: item.description !== undefined ? item.description : undefined,
        status: item.status !== undefined ? item.status : undefined,
        trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
        trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
        targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
        successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
        successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
        successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
        successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
        startDate: item.startDate !== undefined ? item.startDate : undefined,
        endDate: item.endDate !== undefined ? item.endDate : undefined,
        resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
        resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
        resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
        resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
        resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
        resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
        metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
        metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
        metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
        metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
        completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
    controlVersion: item.controlVersion ? 
      typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
          id: item.controlVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
        },
        create: {
          modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
          version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
          status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
          performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
          performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
          performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
          performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
          performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
          performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
          performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
          validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
          deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
          trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
          trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
          trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
          deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
          deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
      parentVersion: item.controlVersion.parentVersion ? 
        typeof item.controlVersion.parentVersion === 'object' && Object.keys(item.controlVersion.parentVersion).length === 1 && Object.keys(item.controlVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.parentVersion.id !== undefined ? item.controlVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.parentVersion.modelName !== undefined ? item.controlVersion.parentVersion.modelName : undefined,
            version: item.controlVersion.parentVersion.version !== undefined ? item.controlVersion.parentVersion.version : undefined,
            status: item.controlVersion.parentVersion.status !== undefined ? item.controlVersion.parentVersion.status : undefined,
            performanceAccuracy: item.controlVersion.parentVersion.performanceAccuracy !== undefined ? item.controlVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.parentVersion.performancePrecision !== undefined ? item.controlVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.parentVersion.performanceRecall !== undefined ? item.controlVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.parentVersion.performanceF1Score !== undefined ? item.controlVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.parentVersion.performanceAuc !== undefined ? item.controlVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? item.controlVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.parentVersion.performanceWinRate !== undefined ? item.controlVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.parentVersion.performanceAvgReturn !== undefined ? item.controlVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? item.controlVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.parentVersion.performanceStabilityScore !== undefined ? item.controlVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? item.controlVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.parentVersion.validationBacktestResults !== undefined ? item.controlVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.parentVersion.validationStatTestResults !== undefined ? item.controlVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.parentVersion.deploymentEnvironment !== undefined ? item.controlVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.parentVersion.trainingStartTime !== undefined ? item.controlVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.parentVersion.trainingEndTime !== undefined ? item.controlVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.parentVersion.trainingDuration !== undefined ? item.controlVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.parentVersion.trainingDatasetSize !== undefined ? item.controlVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.parentVersion.trainingHyperparameters !== undefined ? item.controlVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.parentVersion.deployedAt !== undefined ? item.controlVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.parentVersion.deprecatedAt !== undefined ? item.controlVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      childVersions: item.controlVersion.childVersions ? 
        Array.isArray(item.controlVersion.childVersions) && item.controlVersion.childVersions.length > 0 &&  item.controlVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.controlVersion.artifacts ? 
        Array.isArray(item.controlVersion.artifacts) && item.controlVersion.artifacts.length > 0 &&  item.controlVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.controlVersion.abTestsAsTreatment ? 
        Array.isArray(item.controlVersion.abTestsAsTreatment) && item.controlVersion.abTestsAsTreatment.length > 0 &&  item.controlVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.controlVersion.featureImportanceAnalyses ? 
        Array.isArray(item.controlVersion.featureImportanceAnalyses) && item.controlVersion.featureImportanceAnalyses.length > 0 &&  item.controlVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
      },
    }))
  } : undefined,
  featureImportanceAnalyses: props.featureImportanceAnalyses ? 
    Array.isArray(props.featureImportanceAnalyses) && props.featureImportanceAnalyses.length > 0 &&  props.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
      connect:    props.featureImportanceAnalyses.map((item: any) => ({
         id: item.id
      }))
 }
 : { connectOrCreate: props.featureImportanceAnalyses.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
        modelVersionId: item.modelVersionId !== undefined ? {
            equals: item.modelVersionId 
           } : undefined,
      },
      create: {
        analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
        featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
        globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
        localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
        analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
        analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
        analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
        analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
        analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
        insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
        insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
        insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
        insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
        insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
      },
    }))
  } : undefined,

            },
          };

          const filteredVariables = removeUndefinedProps(variables);

          const response = await client.mutate({
            mutation: CREATE_ONE_MODELVERSION,
            variables: filteredVariables,
            // Don't cache mutations, but ensure we're using the freshest context
            fetchPolicy: 'no-cache'
          });

          if (response.errors && response.errors.length > 0) throw new Error(response.errors[0].message);
          if (response && response.data && response.data.createOneModelVersion) {
            return response.data.createOneModelVersion;
          } else {
            return null as any;
          }
        } catch (error: any) {
          lastError = error;

          // Check if this is a database connection error that we should retry
          const isConnectionError =
            error.message?.includes('Server has closed the connection') ||
            error.message?.includes('Cannot reach database server') ||
            error.message?.includes('Connection timed out') ||
            error.message?.includes('Accelerate') || // Prisma Accelerate proxy errors
            (error.networkError && error.networkError.message?.includes('Failed to fetch'));

          if (isConnectionError && retryCount < MAX_RETRIES - 1) {
            retryCount++;
            const delay = Math.pow(2, retryCount) * 100; // Exponential backoff: 200ms, 400ms, 800ms
            console.warn("Database connection error, retrying...");
            await new Promise(resolve => setTimeout(resolve, delay));
            continue;
          }

          // Log the error and rethrow
          console.error("Database error occurred:", error);
          throw error;
        }
      }

      // If we exhausted retries, throw the last error
      throw lastError;
    },

  /**
   * Create multiple ModelVersion records.
   * Enhanced with connection resilience against Prisma connection errors.
   * @param props - Array of ModelVersion objects for the new records.
   * @param globalClient - Apollo Client instance.
   * @returns The count of created records or null.
   */
  async createMany(props: ModelVersionType[], globalClient?: ApolloClientType<NormalizedCacheObject>): Promise<{ count: number } | null> {
    // Maximum number of retries for database connection issues
    const MAX_RETRIES = 3;
    let retryCount = 0;
    let lastError: any = null;

    // Retry loop to handle potential database connection issues
    while (retryCount < MAX_RETRIES) {
      try {
        const [modules, client] = await Promise.all([
          getApolloModules(),
          globalClient
            ? Promise.resolve(globalClient)
            : importedClient
        ]);

        const { gql, ApolloError } = modules;

        const CREATE_MANY_MODELVERSION = gql`
          mutation createManyModelVersion($data: [ModelVersionCreateManyInput!]!) {
            createManyModelVersion(data: $data) {
              count
            }
          }`;

        const variables = {
          data: props.map(prop => ({
      modelName: prop.modelName !== undefined ? prop.modelName : undefined,
  version: prop.version !== undefined ? prop.version : undefined,
  status: prop.status !== undefined ? prop.status : undefined,
  parentVersionId: prop.parentVersionId !== undefined ? prop.parentVersionId : undefined,
  performanceAccuracy: prop.performanceAccuracy !== undefined ? prop.performanceAccuracy : undefined,
  performancePrecision: prop.performancePrecision !== undefined ? prop.performancePrecision : undefined,
  performanceRecall: prop.performanceRecall !== undefined ? prop.performanceRecall : undefined,
  performanceF1Score: prop.performanceF1Score !== undefined ? prop.performanceF1Score : undefined,
  performanceAuc: prop.performanceAuc !== undefined ? prop.performanceAuc : undefined,
  performanceSharpeRatio: prop.performanceSharpeRatio !== undefined ? prop.performanceSharpeRatio : undefined,
  performanceMaxDrawdown: prop.performanceMaxDrawdown !== undefined ? prop.performanceMaxDrawdown : undefined,
  performanceWinRate: prop.performanceWinRate !== undefined ? prop.performanceWinRate : undefined,
  performanceAvgReturn: prop.performanceAvgReturn !== undefined ? prop.performanceAvgReturn : undefined,
  performanceCalibrationScore: prop.performanceCalibrationScore !== undefined ? prop.performanceCalibrationScore : undefined,
  performanceStabilityScore: prop.performanceStabilityScore !== undefined ? prop.performanceStabilityScore : undefined,
  validationCrossValidationScore: prop.validationCrossValidationScore !== undefined ? prop.validationCrossValidationScore : undefined,
  validationOutOfSamplePerformance: prop.validationOutOfSamplePerformance !== undefined ? prop.validationOutOfSamplePerformance : undefined,
  validationBacktestResults: prop.validationBacktestResults !== undefined ? prop.validationBacktestResults : undefined,
  validationStatTestResults: prop.validationStatTestResults !== undefined ? prop.validationStatTestResults : undefined,
  deploymentEnvironment: prop.deploymentEnvironment !== undefined ? prop.deploymentEnvironment : undefined,
  deploymentTrafficAllocation: prop.deploymentTrafficAllocation !== undefined ? prop.deploymentTrafficAllocation : undefined,
  deploymentRolloutStrategy: prop.deploymentRolloutStrategy !== undefined ? prop.deploymentRolloutStrategy : undefined,
  deploymentHealthCheckConfig: prop.deploymentHealthCheckConfig !== undefined ? prop.deploymentHealthCheckConfig : undefined,
  trainingStartTime: prop.trainingStartTime !== undefined ? prop.trainingStartTime : undefined,
  trainingEndTime: prop.trainingEndTime !== undefined ? prop.trainingEndTime : undefined,
  trainingDuration: prop.trainingDuration !== undefined ? prop.trainingDuration : undefined,
  trainingDatasetSize: prop.trainingDatasetSize !== undefined ? prop.trainingDatasetSize : undefined,
  trainingFeaturesUsed: prop.trainingFeaturesUsed !== undefined ? prop.trainingFeaturesUsed : undefined,
  trainingHyperparameters: prop.trainingHyperparameters !== undefined ? prop.trainingHyperparameters : undefined,
  trainingResourcePeakMemoryMB: prop.trainingResourcePeakMemoryMB !== undefined ? prop.trainingResourcePeakMemoryMB : undefined,
  trainingResourceTotalCpuHours: prop.trainingResourceTotalCpuHours !== undefined ? prop.trainingResourceTotalCpuHours : undefined,
  trainingResourceGpuHours: prop.trainingResourceGpuHours !== undefined ? prop.trainingResourceGpuHours : undefined,
  deployedAt: prop.deployedAt !== undefined ? prop.deployedAt : undefined,
  deprecatedAt: prop.deprecatedAt !== undefined ? prop.deprecatedAt : undefined,
      })),
        };

        const filteredVariables = removeUndefinedProps(variables);

        const response = await client.mutate({
          mutation: CREATE_MANY_MODELVERSION,
          variables: filteredVariables,
          // Don't cache mutations, but ensure we're using the freshest context
          fetchPolicy: 'no-cache'
        });

        if (response.errors && response.errors.length > 0) throw new Error(response.errors[0].message);
        if (response && response.data && response.data.createManyModelVersion) {
          return response.data.createManyModelVersion;
        } else {
          return null as any;
        }
      } catch (error: any) {
        lastError = error;

        // Check if this is a database connection error that we should retry
        const isConnectionError =
          error.message?.includes('Server has closed the connection') ||
          error.message?.includes('Cannot reach database server') ||
          error.message?.includes('Connection timed out') ||
          error.message?.includes('Accelerate') || // Prisma Accelerate proxy errors
          (error.networkError && error.networkError.message?.includes('Failed to fetch'));

        if (isConnectionError && retryCount < MAX_RETRIES - 1) {
          retryCount++;
          const delay = Math.pow(2, retryCount) * 100; // Exponential backoff: 200ms, 400ms, 800ms
          console.warn("Database connection error, retrying...");
          await new Promise(resolve => setTimeout(resolve, delay));
          continue;
        }

        // Log the error and rethrow
        console.error("Database error occurred:", error);
        throw error;
      }
    }

    // If we exhausted retries, throw the last error
    throw lastError;
  },

  /**
   * Update a single ModelVersion record.
   * Enhanced with connection resilience against Prisma connection errors.
   * @param props - Properties to update.
   * @param globalClient - Apollo Client instance.
   * @returns The updated ModelVersion or null.
   */
  async update(props: ModelVersionType, globalClient?: ApolloClientType<NormalizedCacheObject>): Promise<ModelVersionType> {
    // Maximum number of retries for database connection issues
    const MAX_RETRIES = 3;
    let retryCount = 0;
    let lastError: any = null;

    // Retry loop to handle potential database connection issues
    while (retryCount < MAX_RETRIES) {
      try {
        const [modules, client] = await Promise.all([
          getApolloModules(),
          globalClient
            ? Promise.resolve(globalClient)
            : importedClient
        ]);

        const { gql, ApolloError } = modules;

        const UPDATE_ONE_MODELVERSION = gql`
          mutation updateOneModelVersion($data: ModelVersionUpdateInput!, $where: ModelVersionWhereUniqueInput!) {
            updateOneModelVersion(data: $data, where: $where) {
              ${selectionSet}
            }
          }`;

        const variables = {
          where: {
            id: props.id !== undefined ? props.id : undefined,
      },
          data: {
      id: props.id !== undefined ? {
            set: props.id 
           } : undefined,
  modelName: props.modelName !== undefined ? {
            set: props.modelName 
           } : undefined,
  version: props.version !== undefined ? {
            set: props.version 
           } : undefined,
  status: props.status !== undefined ? {
            set: props.status 
           } : undefined,
  performanceAccuracy: props.performanceAccuracy !== undefined ? {
            set: props.performanceAccuracy 
           } : undefined,
  performancePrecision: props.performancePrecision !== undefined ? {
            set: props.performancePrecision 
           } : undefined,
  performanceRecall: props.performanceRecall !== undefined ? {
            set: props.performanceRecall 
           } : undefined,
  performanceF1Score: props.performanceF1Score !== undefined ? {
            set: props.performanceF1Score 
           } : undefined,
  performanceAuc: props.performanceAuc !== undefined ? {
            set: props.performanceAuc 
           } : undefined,
  performanceSharpeRatio: props.performanceSharpeRatio !== undefined ? {
            set: props.performanceSharpeRatio 
           } : undefined,
  performanceMaxDrawdown: props.performanceMaxDrawdown !== undefined ? {
            set: props.performanceMaxDrawdown 
           } : undefined,
  performanceWinRate: props.performanceWinRate !== undefined ? {
            set: props.performanceWinRate 
           } : undefined,
  performanceAvgReturn: props.performanceAvgReturn !== undefined ? {
            set: props.performanceAvgReturn 
           } : undefined,
  performanceCalibrationScore: props.performanceCalibrationScore !== undefined ? {
            set: props.performanceCalibrationScore 
           } : undefined,
  performanceStabilityScore: props.performanceStabilityScore !== undefined ? {
            set: props.performanceStabilityScore 
           } : undefined,
  validationCrossValidationScore: props.validationCrossValidationScore !== undefined ? {
            set: props.validationCrossValidationScore 
           } : undefined,
  validationOutOfSamplePerformance: props.validationOutOfSamplePerformance !== undefined ? {
            set: props.validationOutOfSamplePerformance 
           } : undefined,
  validationBacktestResults: props.validationBacktestResults !== undefined ? {
            set: props.validationBacktestResults 
           } : undefined,
  validationStatTestResults: props.validationStatTestResults !== undefined ? {
            set: props.validationStatTestResults 
           } : undefined,
  deploymentEnvironment: props.deploymentEnvironment !== undefined ? {
            set: props.deploymentEnvironment 
           } : undefined,
  deploymentTrafficAllocation: props.deploymentTrafficAllocation !== undefined ? {
            set: props.deploymentTrafficAllocation 
           } : undefined,
  deploymentRolloutStrategy: props.deploymentRolloutStrategy !== undefined ? {
            set: props.deploymentRolloutStrategy 
           } : undefined,
  deploymentHealthCheckConfig: props.deploymentHealthCheckConfig !== undefined ? {
            set: props.deploymentHealthCheckConfig 
           } : undefined,
  trainingStartTime: props.trainingStartTime !== undefined ? {
            set: props.trainingStartTime 
           } : undefined,
  trainingEndTime: props.trainingEndTime !== undefined ? {
            set: props.trainingEndTime 
           } : undefined,
  trainingDuration: props.trainingDuration !== undefined ? {
            set: props.trainingDuration 
           } : undefined,
  trainingDatasetSize: props.trainingDatasetSize !== undefined ? {
            set: props.trainingDatasetSize 
           } : undefined,
  trainingFeaturesUsed: props.trainingFeaturesUsed !== undefined ? {
            set: props.trainingFeaturesUsed 
           } : undefined,
  trainingHyperparameters: props.trainingHyperparameters !== undefined ? {
            set: props.trainingHyperparameters 
           } : undefined,
  trainingResourcePeakMemoryMB: props.trainingResourcePeakMemoryMB !== undefined ? {
            set: props.trainingResourcePeakMemoryMB 
           } : undefined,
  trainingResourceTotalCpuHours: props.trainingResourceTotalCpuHours !== undefined ? {
            set: props.trainingResourceTotalCpuHours 
           } : undefined,
  trainingResourceGpuHours: props.trainingResourceGpuHours !== undefined ? {
            set: props.trainingResourceGpuHours 
           } : undefined,
  createdAt: props.createdAt !== undefined ? {
            set: props.createdAt 
           } : undefined,
  updatedAt: props.updatedAt !== undefined ? {
            set: props.updatedAt 
           } : undefined,
  deployedAt: props.deployedAt !== undefined ? {
            set: props.deployedAt 
           } : undefined,
  deprecatedAt: props.deprecatedAt !== undefined ? {
            set: props.deprecatedAt 
           } : undefined,
  parentVersion: props.parentVersion ? 
  typeof props.parentVersion === 'object' && Object.keys(props.parentVersion).length === 1 && (Object.keys(props.parentVersion)[0] === 'id' || Object.keys(props.parentVersion)[0] === 'symbol')
? {
  connect: {
    id: props.parentVersion.id
  }
} : { upsert: {
      where: {
        id: props.parentVersion.id !== undefined ? {
            equals: props.parentVersion.id
          } : undefined,
        parentVersionId: props.parentVersion.parentVersionId !== undefined ? {
            equals: props.parentVersion.parentVersionId
          } : undefined,
      },
      update: {
        id: props.parentVersion.id !== undefined ? {
            set: props.parentVersion.id
          } : undefined,
        modelName: props.parentVersion.modelName !== undefined ? {
            set: props.parentVersion.modelName
          } : undefined,
        version: props.parentVersion.version !== undefined ? {
            set: props.parentVersion.version
          } : undefined,
        status: props.parentVersion.status !== undefined ? {
            set: props.parentVersion.status
          } : undefined,
        performanceAccuracy: props.parentVersion.performanceAccuracy !== undefined ? {
            set: props.parentVersion.performanceAccuracy
          } : undefined,
        performancePrecision: props.parentVersion.performancePrecision !== undefined ? {
            set: props.parentVersion.performancePrecision
          } : undefined,
        performanceRecall: props.parentVersion.performanceRecall !== undefined ? {
            set: props.parentVersion.performanceRecall
          } : undefined,
        performanceF1Score: props.parentVersion.performanceF1Score !== undefined ? {
            set: props.parentVersion.performanceF1Score
          } : undefined,
        performanceAuc: props.parentVersion.performanceAuc !== undefined ? {
            set: props.parentVersion.performanceAuc
          } : undefined,
        performanceSharpeRatio: props.parentVersion.performanceSharpeRatio !== undefined ? {
            set: props.parentVersion.performanceSharpeRatio
          } : undefined,
        performanceMaxDrawdown: props.parentVersion.performanceMaxDrawdown !== undefined ? {
            set: props.parentVersion.performanceMaxDrawdown
          } : undefined,
        performanceWinRate: props.parentVersion.performanceWinRate !== undefined ? {
            set: props.parentVersion.performanceWinRate
          } : undefined,
        performanceAvgReturn: props.parentVersion.performanceAvgReturn !== undefined ? {
            set: props.parentVersion.performanceAvgReturn
          } : undefined,
        performanceCalibrationScore: props.parentVersion.performanceCalibrationScore !== undefined ? {
            set: props.parentVersion.performanceCalibrationScore
          } : undefined,
        performanceStabilityScore: props.parentVersion.performanceStabilityScore !== undefined ? {
            set: props.parentVersion.performanceStabilityScore
          } : undefined,
        validationCrossValidationScore: props.parentVersion.validationCrossValidationScore !== undefined ? {
            set: props.parentVersion.validationCrossValidationScore
          } : undefined,
        validationOutOfSamplePerformance: props.parentVersion.validationOutOfSamplePerformance !== undefined ? {
            set: props.parentVersion.validationOutOfSamplePerformance
          } : undefined,
        validationBacktestResults: props.parentVersion.validationBacktestResults !== undefined ? {
            set: props.parentVersion.validationBacktestResults
          } : undefined,
        validationStatTestResults: props.parentVersion.validationStatTestResults !== undefined ? {
            set: props.parentVersion.validationStatTestResults
          } : undefined,
        deploymentEnvironment: props.parentVersion.deploymentEnvironment !== undefined ? {
            set: props.parentVersion.deploymentEnvironment
          } : undefined,
        deploymentTrafficAllocation: props.parentVersion.deploymentTrafficAllocation !== undefined ? {
            set: props.parentVersion.deploymentTrafficAllocation
          } : undefined,
        deploymentRolloutStrategy: props.parentVersion.deploymentRolloutStrategy !== undefined ? {
            set: props.parentVersion.deploymentRolloutStrategy
          } : undefined,
        deploymentHealthCheckConfig: props.parentVersion.deploymentHealthCheckConfig !== undefined ? {
            set: props.parentVersion.deploymentHealthCheckConfig
          } : undefined,
        trainingStartTime: props.parentVersion.trainingStartTime !== undefined ? {
            set: props.parentVersion.trainingStartTime
          } : undefined,
        trainingEndTime: props.parentVersion.trainingEndTime !== undefined ? {
            set: props.parentVersion.trainingEndTime
          } : undefined,
        trainingDuration: props.parentVersion.trainingDuration !== undefined ? {
            set: props.parentVersion.trainingDuration
          } : undefined,
        trainingDatasetSize: props.parentVersion.trainingDatasetSize !== undefined ? {
            set: props.parentVersion.trainingDatasetSize
          } : undefined,
        trainingFeaturesUsed: props.parentVersion.trainingFeaturesUsed !== undefined ? {
            set: props.parentVersion.trainingFeaturesUsed
          } : undefined,
        trainingHyperparameters: props.parentVersion.trainingHyperparameters !== undefined ? {
            set: props.parentVersion.trainingHyperparameters
          } : undefined,
        trainingResourcePeakMemoryMB: props.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
            set: props.parentVersion.trainingResourcePeakMemoryMB
          } : undefined,
        trainingResourceTotalCpuHours: props.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
            set: props.parentVersion.trainingResourceTotalCpuHours
          } : undefined,
        trainingResourceGpuHours: props.parentVersion.trainingResourceGpuHours !== undefined ? {
            set: props.parentVersion.trainingResourceGpuHours
          } : undefined,
        deployedAt: props.parentVersion.deployedAt !== undefined ? {
            set: props.parentVersion.deployedAt
          } : undefined,
        deprecatedAt: props.parentVersion.deprecatedAt !== undefined ? {
            set: props.parentVersion.deprecatedAt
          } : undefined,
    parentVersion: props.parentVersion.parentVersion ? 
    typeof props.parentVersion.parentVersion === 'object' && Object.keys(props.parentVersion.parentVersion).length === 1 && (Object.keys(props.parentVersion.parentVersion)[0] === 'id' || Object.keys(props.parentVersion.parentVersion)[0] === 'symbol')
? {
    connect: {
      id: props.parentVersion.parentVersion.id
    }
} : { upsert: {
        where: {
          id: props.parentVersion.parentVersion.id !== undefined ? {
              equals: props.parentVersion.parentVersion.id
            } : undefined,
          parentVersionId: props.parentVersion.parentVersion.parentVersionId !== undefined ? {
              equals: props.parentVersion.parentVersion.parentVersionId
            } : undefined,
        },
        update: {
          id: props.parentVersion.parentVersion.id !== undefined ? {
              set: props.parentVersion.parentVersion.id
            } : undefined,
          modelName: props.parentVersion.parentVersion.modelName !== undefined ? {
              set: props.parentVersion.parentVersion.modelName
            } : undefined,
          version: props.parentVersion.parentVersion.version !== undefined ? {
              set: props.parentVersion.parentVersion.version
            } : undefined,
          status: props.parentVersion.parentVersion.status !== undefined ? {
              set: props.parentVersion.parentVersion.status
            } : undefined,
          performanceAccuracy: props.parentVersion.parentVersion.performanceAccuracy !== undefined ? {
              set: props.parentVersion.parentVersion.performanceAccuracy
            } : undefined,
          performancePrecision: props.parentVersion.parentVersion.performancePrecision !== undefined ? {
              set: props.parentVersion.parentVersion.performancePrecision
            } : undefined,
          performanceRecall: props.parentVersion.parentVersion.performanceRecall !== undefined ? {
              set: props.parentVersion.parentVersion.performanceRecall
            } : undefined,
          performanceF1Score: props.parentVersion.parentVersion.performanceF1Score !== undefined ? {
              set: props.parentVersion.parentVersion.performanceF1Score
            } : undefined,
          performanceAuc: props.parentVersion.parentVersion.performanceAuc !== undefined ? {
              set: props.parentVersion.parentVersion.performanceAuc
            } : undefined,
          performanceSharpeRatio: props.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? {
              set: props.parentVersion.parentVersion.performanceSharpeRatio
            } : undefined,
          performanceMaxDrawdown: props.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? {
              set: props.parentVersion.parentVersion.performanceMaxDrawdown
            } : undefined,
          performanceWinRate: props.parentVersion.parentVersion.performanceWinRate !== undefined ? {
              set: props.parentVersion.parentVersion.performanceWinRate
            } : undefined,
          performanceAvgReturn: props.parentVersion.parentVersion.performanceAvgReturn !== undefined ? {
              set: props.parentVersion.parentVersion.performanceAvgReturn
            } : undefined,
          performanceCalibrationScore: props.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? {
              set: props.parentVersion.parentVersion.performanceCalibrationScore
            } : undefined,
          performanceStabilityScore: props.parentVersion.parentVersion.performanceStabilityScore !== undefined ? {
              set: props.parentVersion.parentVersion.performanceStabilityScore
            } : undefined,
          validationCrossValidationScore: props.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? {
              set: props.parentVersion.parentVersion.validationCrossValidationScore
            } : undefined,
          validationOutOfSamplePerformance: props.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? {
              set: props.parentVersion.parentVersion.validationOutOfSamplePerformance
            } : undefined,
          validationBacktestResults: props.parentVersion.parentVersion.validationBacktestResults !== undefined ? {
              set: props.parentVersion.parentVersion.validationBacktestResults
            } : undefined,
          validationStatTestResults: props.parentVersion.parentVersion.validationStatTestResults !== undefined ? {
              set: props.parentVersion.parentVersion.validationStatTestResults
            } : undefined,
          deploymentEnvironment: props.parentVersion.parentVersion.deploymentEnvironment !== undefined ? {
              set: props.parentVersion.parentVersion.deploymentEnvironment
            } : undefined,
          deploymentTrafficAllocation: props.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? {
              set: props.parentVersion.parentVersion.deploymentTrafficAllocation
            } : undefined,
          deploymentRolloutStrategy: props.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? {
              set: props.parentVersion.parentVersion.deploymentRolloutStrategy
            } : undefined,
          deploymentHealthCheckConfig: props.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? {
              set: props.parentVersion.parentVersion.deploymentHealthCheckConfig
            } : undefined,
          trainingStartTime: props.parentVersion.parentVersion.trainingStartTime !== undefined ? {
              set: props.parentVersion.parentVersion.trainingStartTime
            } : undefined,
          trainingEndTime: props.parentVersion.parentVersion.trainingEndTime !== undefined ? {
              set: props.parentVersion.parentVersion.trainingEndTime
            } : undefined,
          trainingDuration: props.parentVersion.parentVersion.trainingDuration !== undefined ? {
              set: props.parentVersion.parentVersion.trainingDuration
            } : undefined,
          trainingDatasetSize: props.parentVersion.parentVersion.trainingDatasetSize !== undefined ? {
              set: props.parentVersion.parentVersion.trainingDatasetSize
            } : undefined,
          trainingFeaturesUsed: props.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? {
              set: props.parentVersion.parentVersion.trainingFeaturesUsed
            } : undefined,
          trainingHyperparameters: props.parentVersion.parentVersion.trainingHyperparameters !== undefined ? {
              set: props.parentVersion.parentVersion.trainingHyperparameters
            } : undefined,
          trainingResourcePeakMemoryMB: props.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
              set: props.parentVersion.parentVersion.trainingResourcePeakMemoryMB
            } : undefined,
          trainingResourceTotalCpuHours: props.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
              set: props.parentVersion.parentVersion.trainingResourceTotalCpuHours
            } : undefined,
          trainingResourceGpuHours: props.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? {
              set: props.parentVersion.parentVersion.trainingResourceGpuHours
            } : undefined,
          deployedAt: props.parentVersion.parentVersion.deployedAt !== undefined ? {
              set: props.parentVersion.parentVersion.deployedAt
            } : undefined,
          deprecatedAt: props.parentVersion.parentVersion.deprecatedAt !== undefined ? {
              set: props.parentVersion.parentVersion.deprecatedAt
            } : undefined,
      parentVersion: props.parentVersion.parentVersion.parentVersion ? 
      typeof props.parentVersion.parentVersion.parentVersion === 'object' && Object.keys(props.parentVersion.parentVersion.parentVersion).length === 1 && (Object.keys(props.parentVersion.parentVersion.parentVersion)[0] === 'id' || Object.keys(props.parentVersion.parentVersion.parentVersion)[0] === 'symbol')
? {
      connect: {
        id: props.parentVersion.parentVersion.parentVersion.id
      }
} : { upsert: {
          where: {
            id: props.parentVersion.parentVersion.parentVersion.id !== undefined ? {
                equals: props.parentVersion.parentVersion.parentVersion.id
              } : undefined,
            parentVersionId: props.parentVersion.parentVersion.parentVersion.parentVersionId !== undefined ? {
                equals: props.parentVersion.parentVersion.parentVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: props.parentVersion.parentVersion.parentVersion.id !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.id
              } : undefined,
            modelName: props.parentVersion.parentVersion.parentVersion.modelName !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.modelName
              } : undefined,
            version: props.parentVersion.parentVersion.parentVersion.version !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.version
              } : undefined,
            status: props.parentVersion.parentVersion.parentVersion.status !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.status
              } : undefined,
            performanceAccuracy: props.parentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.performanceAccuracy
              } : undefined,
            performancePrecision: props.parentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.performancePrecision
              } : undefined,
            performanceRecall: props.parentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.performanceRecall
              } : undefined,
            performanceF1Score: props.parentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.performanceF1Score
              } : undefined,
            performanceAuc: props.parentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: props.parentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: props.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: props.parentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: props.parentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: props.parentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: props.parentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: props.parentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: props.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: props.parentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: props.parentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: props.parentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: props.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: props.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: props.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: props.parentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.trainingStartTime
              } : undefined,
            trainingEndTime: props.parentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.trainingEndTime
              } : undefined,
            trainingDuration: props.parentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: props.parentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: props.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: props.parentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: props.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: props.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: props.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: props.parentVersion.parentVersion.parentVersion.deployedAt !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.deployedAt
              } : undefined,
            deprecatedAt: props.parentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: props.parentVersion.parentVersion.parentVersion.modelName !== undefined ? props.parentVersion.parentVersion.parentVersion.modelName : undefined,
            version: props.parentVersion.parentVersion.parentVersion.version !== undefined ? props.parentVersion.parentVersion.parentVersion.version : undefined,
            status: props.parentVersion.parentVersion.parentVersion.status !== undefined ? props.parentVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: props.parentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: props.parentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? props.parentVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: props.parentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: props.parentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: props.parentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: props.parentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: props.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: props.parentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: props.parentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: props.parentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: props.parentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: props.parentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.parentVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: props.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: props.parentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.parentVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: props.parentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.parentVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: props.parentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: props.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: props.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: props.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: props.parentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: props.parentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: props.parentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: props.parentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: props.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: props.parentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: props.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: props.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: props.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: props.parentVersion.parentVersion.parentVersion.deployedAt !== undefined ? props.parentVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: props.parentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? props.parentVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: props.parentVersion.parentVersion.artifacts ? 
      Array.isArray(props.parentVersion.parentVersion.artifacts) && props.parentVersion.parentVersion.artifacts.length > 0 && props.parentVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: props.parentVersion.parentVersion.artifacts.map((item: any) => ({
        id: item.id
      }))
} : { upsert: props.parentVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: props.parentVersion.parentVersion.abTestsAsControl ? 
      Array.isArray(props.parentVersion.parentVersion.abTestsAsControl) && props.parentVersion.parentVersion.abTestsAsControl.length > 0 && props.parentVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: props.parentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
        id: item.id
      }))
} : { upsert: props.parentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: props.parentVersion.parentVersion.abTestsAsTreatment ? 
      Array.isArray(props.parentVersion.parentVersion.abTestsAsTreatment) && props.parentVersion.parentVersion.abTestsAsTreatment.length > 0 && props.parentVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: props.parentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
        id: item.id
      }))
} : { upsert: props.parentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: props.parentVersion.parentVersion.featureImportanceAnalyses ? 
      Array.isArray(props.parentVersion.parentVersion.featureImportanceAnalyses) && props.parentVersion.parentVersion.featureImportanceAnalyses.length > 0 && props.parentVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: props.parentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
        id: item.id
      }))
} : { upsert: props.parentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            analysisType: item.analysisType !== undefined ? {
                set: item.analysisType
              } : undefined,
            featureImportances: item.featureImportances !== undefined ? {
                set: item.featureImportances
              } : undefined,
            globalImportance: item.globalImportance !== undefined ? {
                set: item.globalImportance
              } : undefined,
            localImportance: item.localImportance !== undefined ? {
                set: item.localImportance
              } : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
                set: item.analysisMetadataSampleSize
              } : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
                set: item.analysisMetadataBaselineAccuracy
              } : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
                set: item.analysisMetadataAnalysisDate
              } : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
                set: item.analysisMetadataComputationTime
              } : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
                set: item.analysisMetadataAnalysisParameters
              } : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
                set: item.insightsTopFeatures
              } : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
                set: item.insightsRedundantFeatures
              } : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
                set: item.insightsUnexpectedImportances
              } : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
                set: item.insightsStabilityScore
              } : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? {
                set: item.insightsRecommendations
              } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
        create: {
          modelName: props.parentVersion.parentVersion.modelName !== undefined ? props.parentVersion.parentVersion.modelName : undefined,
          version: props.parentVersion.parentVersion.version !== undefined ? props.parentVersion.parentVersion.version : undefined,
          status: props.parentVersion.parentVersion.status !== undefined ? props.parentVersion.parentVersion.status : undefined,
          performanceAccuracy: props.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.parentVersion.parentVersion.performanceAccuracy : undefined,
          performancePrecision: props.parentVersion.parentVersion.performancePrecision !== undefined ? props.parentVersion.parentVersion.performancePrecision : undefined,
          performanceRecall: props.parentVersion.parentVersion.performanceRecall !== undefined ? props.parentVersion.parentVersion.performanceRecall : undefined,
          performanceF1Score: props.parentVersion.parentVersion.performanceF1Score !== undefined ? props.parentVersion.parentVersion.performanceF1Score : undefined,
          performanceAuc: props.parentVersion.parentVersion.performanceAuc !== undefined ? props.parentVersion.parentVersion.performanceAuc : undefined,
          performanceSharpeRatio: props.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.parentVersion.parentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: props.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: props.parentVersion.parentVersion.performanceWinRate !== undefined ? props.parentVersion.parentVersion.performanceWinRate : undefined,
          performanceAvgReturn: props.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.parentVersion.parentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: props.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.parentVersion.parentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: props.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.parentVersion.parentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: props.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.parentVersion.parentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: props.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: props.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.parentVersion.parentVersion.validationBacktestResults : undefined,
          validationStatTestResults: props.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.parentVersion.parentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: props.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.parentVersion.parentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: props.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: props.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: props.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: props.parentVersion.parentVersion.trainingStartTime !== undefined ? props.parentVersion.parentVersion.trainingStartTime : undefined,
          trainingEndTime: props.parentVersion.parentVersion.trainingEndTime !== undefined ? props.parentVersion.parentVersion.trainingEndTime : undefined,
          trainingDuration: props.parentVersion.parentVersion.trainingDuration !== undefined ? props.parentVersion.parentVersion.trainingDuration : undefined,
          trainingDatasetSize: props.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.parentVersion.parentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: props.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: props.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.parentVersion.parentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: props.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: props.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: props.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
          deployedAt: props.parentVersion.parentVersion.deployedAt !== undefined ? props.parentVersion.parentVersion.deployedAt : undefined,
          deprecatedAt: props.parentVersion.parentVersion.deprecatedAt !== undefined ? props.parentVersion.parentVersion.deprecatedAt : undefined,
      parentVersion: props.parentVersion.parentVersion.parentVersion ? 
        typeof props.parentVersion.parentVersion.parentVersion === 'object' && Object.keys(props.parentVersion.parentVersion.parentVersion).length === 1 && Object.keys(props.parentVersion.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: props.parentVersion.parentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: props.parentVersion.parentVersion.parentVersion.id !== undefined ? props.parentVersion.parentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: props.parentVersion.parentVersion.parentVersion.modelName !== undefined ? props.parentVersion.parentVersion.parentVersion.modelName : undefined,
            version: props.parentVersion.parentVersion.parentVersion.version !== undefined ? props.parentVersion.parentVersion.parentVersion.version : undefined,
            status: props.parentVersion.parentVersion.parentVersion.status !== undefined ? props.parentVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: props.parentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: props.parentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? props.parentVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: props.parentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: props.parentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: props.parentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: props.parentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: props.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: props.parentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: props.parentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: props.parentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: props.parentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: props.parentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.parentVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: props.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: props.parentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.parentVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: props.parentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.parentVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: props.parentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: props.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: props.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: props.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: props.parentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: props.parentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: props.parentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: props.parentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: props.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: props.parentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: props.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: props.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: props.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: props.parentVersion.parentVersion.parentVersion.deployedAt !== undefined ? props.parentVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: props.parentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? props.parentVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: props.parentVersion.parentVersion.artifacts ? 
        Array.isArray(props.parentVersion.parentVersion.artifacts) && props.parentVersion.parentVersion.artifacts.length > 0 &&  props.parentVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.parentVersion.parentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.parentVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: props.parentVersion.parentVersion.abTestsAsControl ? 
        Array.isArray(props.parentVersion.parentVersion.abTestsAsControl) && props.parentVersion.parentVersion.abTestsAsControl.length > 0 &&  props.parentVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.parentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.parentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: props.parentVersion.parentVersion.abTestsAsTreatment ? 
        Array.isArray(props.parentVersion.parentVersion.abTestsAsTreatment) && props.parentVersion.parentVersion.abTestsAsTreatment.length > 0 &&  props.parentVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.parentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.parentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: props.parentVersion.parentVersion.featureImportanceAnalyses ? 
        Array.isArray(props.parentVersion.parentVersion.featureImportanceAnalyses) && props.parentVersion.parentVersion.featureImportanceAnalyses.length > 0 &&  props.parentVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.parentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.parentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
    artifacts: props.parentVersion.artifacts ? 
    Array.isArray(props.parentVersion.artifacts) && props.parentVersion.artifacts.length > 0 && props.parentVersion.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: props.parentVersion.artifacts.map((item: any) => ({
      id: item.id
    }))
} : { upsert: props.parentVersion.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId
            } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
      modelArtifact: item.modelArtifact ? 
      typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && (Object.keys(item.modelArtifact)[0] === 'id' || Object.keys(item.modelArtifact)[0] === 'symbol')
? {
      connect: {
        id: item.modelArtifact.id
      }
} : { upsert: {
          where: {
            id: item.modelArtifact.id !== undefined ? {
                equals: item.modelArtifact.id
              } : undefined,
          },
          update: {
            id: item.modelArtifact.id !== undefined ? {
                set: item.modelArtifact.id
              } : undefined,
            modelName: item.modelArtifact.modelName !== undefined ? {
                set: item.modelArtifact.modelName
              } : undefined,
            version: item.modelArtifact.version !== undefined ? {
                set: item.modelArtifact.version
              } : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? {
                set: item.modelArtifact.artifactType
              } : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? {
                set: item.modelArtifact.storageUrl
              } : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? {
                set: item.modelArtifact.storageProvider
              } : undefined,
            fileSize: item.modelArtifact.fileSize !== undefined ? {
                set: item.modelArtifact.fileSize
              } : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? {
                set: item.modelArtifact.checksum
              } : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? {
                set: item.modelArtifact.compressionType
              } : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? {
                set: item.modelArtifact.metadataFramework
              } : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? {
                set: item.modelArtifact.metadataPythonVersion
              } : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? {
                set: item.modelArtifact.metadataDependencies
              } : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? {
                set: item.modelArtifact.metadataTrainingDate
              } : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? {
                set: item.modelArtifact.metadataDatasetSize
              } : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? {
                set: item.modelArtifact.metadataHyperparameters
              } : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsControl: props.parentVersion.abTestsAsControl ? 
    Array.isArray(props.parentVersion.abTestsAsControl) && props.parentVersion.abTestsAsControl.length > 0 && props.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: props.parentVersion.abTestsAsControl.map((item: any) => ({
      id: item.id
    }))
} : { upsert: props.parentVersion.abTestsAsControl.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name
            } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId
            } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          name: item.name !== undefined ? {
              set: item.name
            } : undefined,
          description: item.description !== undefined ? {
              set: item.description
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
              set: item.trafficSplitControlPercent
            } : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
              set: item.trafficSplitTreatmentPercent
            } : undefined,
          targetMetrics: item.targetMetrics !== undefined ? {
              set: item.targetMetrics
            } : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
              set: item.successCriteriaPrimaryMetric
            } : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
              set: item.successCriteriaMinimumDetectableEffect
            } : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
              set: item.successCriteriaSignificanceLevel
            } : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
              set: item.successCriteriaPowerLevel
            } : undefined,
          startDate: item.startDate !== undefined ? {
              set: item.startDate
            } : undefined,
          endDate: item.endDate !== undefined ? {
              set: item.endDate
            } : undefined,
          plannedDuration: item.plannedDuration !== undefined ? {
              set: item.plannedDuration
            } : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
              set: item.resultsControlMetrics
            } : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
              set: item.resultsTreatmentMetrics
            } : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
              set: item.resultsStatisticalSignificance
            } : undefined,
          resultsPValues: item.resultsPValues !== undefined ? {
              set: item.resultsPValues
            } : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
              set: item.resultsConfidenceIntervals
            } : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? {
              set: item.resultsRecommendation
            } : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? {
              set: item.metadataEnvironment
            } : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
              set: item.metadataEligibilityCriteria
            } : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
              set: item.metadataExclusionCriteria
            } : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
              set: item.metadataSegmentationRules
            } : undefined,
          completedAt: item.completedAt !== undefined ? {
              set: item.completedAt
            } : undefined,
      treatmentVersion: item.treatmentVersion ? 
      typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && (Object.keys(item.treatmentVersion)[0] === 'id' || Object.keys(item.treatmentVersion)[0] === 'symbol')
? {
      connect: {
        id: item.treatmentVersion.id
      }
} : { upsert: {
          where: {
            id: item.treatmentVersion.id !== undefined ? {
                equals: item.treatmentVersion.id
              } : undefined,
            parentVersionId: item.treatmentVersion.parentVersionId !== undefined ? {
                equals: item.treatmentVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: item.treatmentVersion.id !== undefined ? {
                set: item.treatmentVersion.id
              } : undefined,
            modelName: item.treatmentVersion.modelName !== undefined ? {
                set: item.treatmentVersion.modelName
              } : undefined,
            version: item.treatmentVersion.version !== undefined ? {
                set: item.treatmentVersion.version
              } : undefined,
            status: item.treatmentVersion.status !== undefined ? {
                set: item.treatmentVersion.status
              } : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? {
                set: item.treatmentVersion.performanceAccuracy
              } : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? {
                set: item.treatmentVersion.performancePrecision
              } : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? {
                set: item.treatmentVersion.performanceRecall
              } : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? {
                set: item.treatmentVersion.performanceF1Score
              } : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? {
                set: item.treatmentVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? {
                set: item.treatmentVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? {
                set: item.treatmentVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? {
                set: item.treatmentVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? {
                set: item.treatmentVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? {
                set: item.treatmentVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? {
                set: item.treatmentVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? {
                set: item.treatmentVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? {
                set: item.treatmentVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? {
                set: item.treatmentVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? {
                set: item.treatmentVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? {
                set: item.treatmentVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? {
                set: item.treatmentVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? {
                set: item.treatmentVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? {
                set: item.treatmentVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? {
                set: item.treatmentVersion.trainingStartTime
              } : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? {
                set: item.treatmentVersion.trainingEndTime
              } : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? {
                set: item.treatmentVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? {
                set: item.treatmentVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? {
                set: item.treatmentVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? {
                set: item.treatmentVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.treatmentVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: item.treatmentVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? {
                set: item.treatmentVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? {
                set: item.treatmentVersion.deployedAt
              } : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? {
                set: item.treatmentVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      treatmentVersion: item.treatmentVersion ? 
        typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsTreatment: props.parentVersion.abTestsAsTreatment ? 
    Array.isArray(props.parentVersion.abTestsAsTreatment) && props.parentVersion.abTestsAsTreatment.length > 0 && props.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: props.parentVersion.abTestsAsTreatment.map((item: any) => ({
      id: item.id
    }))
} : { upsert: props.parentVersion.abTestsAsTreatment.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name
            } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId
            } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          name: item.name !== undefined ? {
              set: item.name
            } : undefined,
          description: item.description !== undefined ? {
              set: item.description
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
              set: item.trafficSplitControlPercent
            } : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
              set: item.trafficSplitTreatmentPercent
            } : undefined,
          targetMetrics: item.targetMetrics !== undefined ? {
              set: item.targetMetrics
            } : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
              set: item.successCriteriaPrimaryMetric
            } : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
              set: item.successCriteriaMinimumDetectableEffect
            } : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
              set: item.successCriteriaSignificanceLevel
            } : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
              set: item.successCriteriaPowerLevel
            } : undefined,
          startDate: item.startDate !== undefined ? {
              set: item.startDate
            } : undefined,
          endDate: item.endDate !== undefined ? {
              set: item.endDate
            } : undefined,
          plannedDuration: item.plannedDuration !== undefined ? {
              set: item.plannedDuration
            } : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
              set: item.resultsControlMetrics
            } : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
              set: item.resultsTreatmentMetrics
            } : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
              set: item.resultsStatisticalSignificance
            } : undefined,
          resultsPValues: item.resultsPValues !== undefined ? {
              set: item.resultsPValues
            } : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
              set: item.resultsConfidenceIntervals
            } : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? {
              set: item.resultsRecommendation
            } : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? {
              set: item.metadataEnvironment
            } : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
              set: item.metadataEligibilityCriteria
            } : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
              set: item.metadataExclusionCriteria
            } : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
              set: item.metadataSegmentationRules
            } : undefined,
          completedAt: item.completedAt !== undefined ? {
              set: item.completedAt
            } : undefined,
      controlVersion: item.controlVersion ? 
      typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && (Object.keys(item.controlVersion)[0] === 'id' || Object.keys(item.controlVersion)[0] === 'symbol')
? {
      connect: {
        id: item.controlVersion.id
      }
} : { upsert: {
          where: {
            id: item.controlVersion.id !== undefined ? {
                equals: item.controlVersion.id
              } : undefined,
            parentVersionId: item.controlVersion.parentVersionId !== undefined ? {
                equals: item.controlVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: item.controlVersion.id !== undefined ? {
                set: item.controlVersion.id
              } : undefined,
            modelName: item.controlVersion.modelName !== undefined ? {
                set: item.controlVersion.modelName
              } : undefined,
            version: item.controlVersion.version !== undefined ? {
                set: item.controlVersion.version
              } : undefined,
            status: item.controlVersion.status !== undefined ? {
                set: item.controlVersion.status
              } : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? {
                set: item.controlVersion.performanceAccuracy
              } : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? {
                set: item.controlVersion.performancePrecision
              } : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? {
                set: item.controlVersion.performanceRecall
              } : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? {
                set: item.controlVersion.performanceF1Score
              } : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? {
                set: item.controlVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? {
                set: item.controlVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? {
                set: item.controlVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? {
                set: item.controlVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? {
                set: item.controlVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? {
                set: item.controlVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? {
                set: item.controlVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? {
                set: item.controlVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? {
                set: item.controlVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? {
                set: item.controlVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? {
                set: item.controlVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? {
                set: item.controlVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? {
                set: item.controlVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? {
                set: item.controlVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? {
                set: item.controlVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? {
                set: item.controlVersion.trainingStartTime
              } : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? {
                set: item.controlVersion.trainingEndTime
              } : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? {
                set: item.controlVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? {
                set: item.controlVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? {
                set: item.controlVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? {
                set: item.controlVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.controlVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: item.controlVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? {
                set: item.controlVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? {
                set: item.controlVersion.deployedAt
              } : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? {
                set: item.controlVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      controlVersion: item.controlVersion ? 
        typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: props.parentVersion.featureImportanceAnalyses ? 
    Array.isArray(props.parentVersion.featureImportanceAnalyses) && props.parentVersion.featureImportanceAnalyses.length > 0 && props.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: props.parentVersion.featureImportanceAnalyses.map((item: any) => ({
      id: item.id
    }))
} : { upsert: props.parentVersion.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          analysisType: item.analysisType !== undefined ? {
              set: item.analysisType
            } : undefined,
          featureImportances: item.featureImportances !== undefined ? {
              set: item.featureImportances
            } : undefined,
          globalImportance: item.globalImportance !== undefined ? {
              set: item.globalImportance
            } : undefined,
          localImportance: item.localImportance !== undefined ? {
              set: item.localImportance
            } : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
              set: item.analysisMetadataSampleSize
            } : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
              set: item.analysisMetadataBaselineAccuracy
            } : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
              set: item.analysisMetadataAnalysisDate
            } : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
              set: item.analysisMetadataComputationTime
            } : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
              set: item.analysisMetadataAnalysisParameters
            } : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
              set: item.insightsTopFeatures
            } : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
              set: item.insightsRedundantFeatures
            } : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
              set: item.insightsUnexpectedImportances
            } : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
              set: item.insightsStabilityScore
            } : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? {
              set: item.insightsRecommendations
            } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
      create: {
        modelName: props.parentVersion.modelName !== undefined ? props.parentVersion.modelName : undefined,
        version: props.parentVersion.version !== undefined ? props.parentVersion.version : undefined,
        status: props.parentVersion.status !== undefined ? props.parentVersion.status : undefined,
        performanceAccuracy: props.parentVersion.performanceAccuracy !== undefined ? props.parentVersion.performanceAccuracy : undefined,
        performancePrecision: props.parentVersion.performancePrecision !== undefined ? props.parentVersion.performancePrecision : undefined,
        performanceRecall: props.parentVersion.performanceRecall !== undefined ? props.parentVersion.performanceRecall : undefined,
        performanceF1Score: props.parentVersion.performanceF1Score !== undefined ? props.parentVersion.performanceF1Score : undefined,
        performanceAuc: props.parentVersion.performanceAuc !== undefined ? props.parentVersion.performanceAuc : undefined,
        performanceSharpeRatio: props.parentVersion.performanceSharpeRatio !== undefined ? props.parentVersion.performanceSharpeRatio : undefined,
        performanceMaxDrawdown: props.parentVersion.performanceMaxDrawdown !== undefined ? props.parentVersion.performanceMaxDrawdown : undefined,
        performanceWinRate: props.parentVersion.performanceWinRate !== undefined ? props.parentVersion.performanceWinRate : undefined,
        performanceAvgReturn: props.parentVersion.performanceAvgReturn !== undefined ? props.parentVersion.performanceAvgReturn : undefined,
        performanceCalibrationScore: props.parentVersion.performanceCalibrationScore !== undefined ? props.parentVersion.performanceCalibrationScore : undefined,
        performanceStabilityScore: props.parentVersion.performanceStabilityScore !== undefined ? props.parentVersion.performanceStabilityScore : undefined,
        validationCrossValidationScore: props.parentVersion.validationCrossValidationScore !== undefined ? props.parentVersion.validationCrossValidationScore : undefined,
        validationOutOfSamplePerformance: props.parentVersion.validationOutOfSamplePerformance !== undefined ? props.parentVersion.validationOutOfSamplePerformance : undefined,
        validationBacktestResults: props.parentVersion.validationBacktestResults !== undefined ? props.parentVersion.validationBacktestResults : undefined,
        validationStatTestResults: props.parentVersion.validationStatTestResults !== undefined ? props.parentVersion.validationStatTestResults : undefined,
        deploymentEnvironment: props.parentVersion.deploymentEnvironment !== undefined ? props.parentVersion.deploymentEnvironment : undefined,
        deploymentTrafficAllocation: props.parentVersion.deploymentTrafficAllocation !== undefined ? props.parentVersion.deploymentTrafficAllocation : undefined,
        deploymentRolloutStrategy: props.parentVersion.deploymentRolloutStrategy !== undefined ? props.parentVersion.deploymentRolloutStrategy : undefined,
        deploymentHealthCheckConfig: props.parentVersion.deploymentHealthCheckConfig !== undefined ? props.parentVersion.deploymentHealthCheckConfig : undefined,
        trainingStartTime: props.parentVersion.trainingStartTime !== undefined ? props.parentVersion.trainingStartTime : undefined,
        trainingEndTime: props.parentVersion.trainingEndTime !== undefined ? props.parentVersion.trainingEndTime : undefined,
        trainingDuration: props.parentVersion.trainingDuration !== undefined ? props.parentVersion.trainingDuration : undefined,
        trainingDatasetSize: props.parentVersion.trainingDatasetSize !== undefined ? props.parentVersion.trainingDatasetSize : undefined,
        trainingFeaturesUsed: props.parentVersion.trainingFeaturesUsed !== undefined ? props.parentVersion.trainingFeaturesUsed : undefined,
        trainingHyperparameters: props.parentVersion.trainingHyperparameters !== undefined ? props.parentVersion.trainingHyperparameters : undefined,
        trainingResourcePeakMemoryMB: props.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.parentVersion.trainingResourcePeakMemoryMB : undefined,
        trainingResourceTotalCpuHours: props.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.parentVersion.trainingResourceTotalCpuHours : undefined,
        trainingResourceGpuHours: props.parentVersion.trainingResourceGpuHours !== undefined ? props.parentVersion.trainingResourceGpuHours : undefined,
        deployedAt: props.parentVersion.deployedAt !== undefined ? props.parentVersion.deployedAt : undefined,
        deprecatedAt: props.parentVersion.deprecatedAt !== undefined ? props.parentVersion.deprecatedAt : undefined,
    parentVersion: props.parentVersion.parentVersion ? 
      typeof props.parentVersion.parentVersion === 'object' && Object.keys(props.parentVersion.parentVersion).length === 1 && Object.keys(props.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
          id: props.parentVersion.parentVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: props.parentVersion.parentVersion.id !== undefined ? props.parentVersion.parentVersion.id : undefined,
        },
        create: {
          modelName: props.parentVersion.parentVersion.modelName !== undefined ? props.parentVersion.parentVersion.modelName : undefined,
          version: props.parentVersion.parentVersion.version !== undefined ? props.parentVersion.parentVersion.version : undefined,
          status: props.parentVersion.parentVersion.status !== undefined ? props.parentVersion.parentVersion.status : undefined,
          performanceAccuracy: props.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.parentVersion.parentVersion.performanceAccuracy : undefined,
          performancePrecision: props.parentVersion.parentVersion.performancePrecision !== undefined ? props.parentVersion.parentVersion.performancePrecision : undefined,
          performanceRecall: props.parentVersion.parentVersion.performanceRecall !== undefined ? props.parentVersion.parentVersion.performanceRecall : undefined,
          performanceF1Score: props.parentVersion.parentVersion.performanceF1Score !== undefined ? props.parentVersion.parentVersion.performanceF1Score : undefined,
          performanceAuc: props.parentVersion.parentVersion.performanceAuc !== undefined ? props.parentVersion.parentVersion.performanceAuc : undefined,
          performanceSharpeRatio: props.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.parentVersion.parentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: props.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: props.parentVersion.parentVersion.performanceWinRate !== undefined ? props.parentVersion.parentVersion.performanceWinRate : undefined,
          performanceAvgReturn: props.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.parentVersion.parentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: props.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.parentVersion.parentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: props.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.parentVersion.parentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: props.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.parentVersion.parentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: props.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: props.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.parentVersion.parentVersion.validationBacktestResults : undefined,
          validationStatTestResults: props.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.parentVersion.parentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: props.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.parentVersion.parentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: props.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: props.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: props.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: props.parentVersion.parentVersion.trainingStartTime !== undefined ? props.parentVersion.parentVersion.trainingStartTime : undefined,
          trainingEndTime: props.parentVersion.parentVersion.trainingEndTime !== undefined ? props.parentVersion.parentVersion.trainingEndTime : undefined,
          trainingDuration: props.parentVersion.parentVersion.trainingDuration !== undefined ? props.parentVersion.parentVersion.trainingDuration : undefined,
          trainingDatasetSize: props.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.parentVersion.parentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: props.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: props.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.parentVersion.parentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: props.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: props.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: props.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
          deployedAt: props.parentVersion.parentVersion.deployedAt !== undefined ? props.parentVersion.parentVersion.deployedAt : undefined,
          deprecatedAt: props.parentVersion.parentVersion.deprecatedAt !== undefined ? props.parentVersion.parentVersion.deprecatedAt : undefined,
      parentVersion: props.parentVersion.parentVersion.parentVersion ? 
        typeof props.parentVersion.parentVersion.parentVersion === 'object' && Object.keys(props.parentVersion.parentVersion.parentVersion).length === 1 && Object.keys(props.parentVersion.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: props.parentVersion.parentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: props.parentVersion.parentVersion.parentVersion.id !== undefined ? props.parentVersion.parentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: props.parentVersion.parentVersion.parentVersion.modelName !== undefined ? props.parentVersion.parentVersion.parentVersion.modelName : undefined,
            version: props.parentVersion.parentVersion.parentVersion.version !== undefined ? props.parentVersion.parentVersion.parentVersion.version : undefined,
            status: props.parentVersion.parentVersion.parentVersion.status !== undefined ? props.parentVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: props.parentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: props.parentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? props.parentVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: props.parentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: props.parentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: props.parentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: props.parentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: props.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: props.parentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: props.parentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: props.parentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: props.parentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: props.parentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.parentVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: props.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: props.parentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.parentVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: props.parentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.parentVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: props.parentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: props.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: props.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: props.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: props.parentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: props.parentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: props.parentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: props.parentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: props.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: props.parentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: props.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: props.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: props.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: props.parentVersion.parentVersion.parentVersion.deployedAt !== undefined ? props.parentVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: props.parentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? props.parentVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: props.parentVersion.parentVersion.artifacts ? 
        Array.isArray(props.parentVersion.parentVersion.artifacts) && props.parentVersion.parentVersion.artifacts.length > 0 &&  props.parentVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.parentVersion.parentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.parentVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: props.parentVersion.parentVersion.abTestsAsControl ? 
        Array.isArray(props.parentVersion.parentVersion.abTestsAsControl) && props.parentVersion.parentVersion.abTestsAsControl.length > 0 &&  props.parentVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.parentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.parentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: props.parentVersion.parentVersion.abTestsAsTreatment ? 
        Array.isArray(props.parentVersion.parentVersion.abTestsAsTreatment) && props.parentVersion.parentVersion.abTestsAsTreatment.length > 0 &&  props.parentVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.parentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.parentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: props.parentVersion.parentVersion.featureImportanceAnalyses ? 
        Array.isArray(props.parentVersion.parentVersion.featureImportanceAnalyses) && props.parentVersion.parentVersion.featureImportanceAnalyses.length > 0 &&  props.parentVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.parentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.parentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
    artifacts: props.parentVersion.artifacts ? 
      Array.isArray(props.parentVersion.artifacts) && props.parentVersion.artifacts.length > 0 &&  props.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.parentVersion.artifacts.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.parentVersion.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId 
             } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsControl: props.parentVersion.abTestsAsControl ? 
      Array.isArray(props.parentVersion.abTestsAsControl) && props.parentVersion.abTestsAsControl.length > 0 &&  props.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.parentVersion.abTestsAsControl.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.parentVersion.abTestsAsControl.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      treatmentVersion: item.treatmentVersion ? 
        typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsTreatment: props.parentVersion.abTestsAsTreatment ? 
      Array.isArray(props.parentVersion.abTestsAsTreatment) && props.parentVersion.abTestsAsTreatment.length > 0 &&  props.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.parentVersion.abTestsAsTreatment.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.parentVersion.abTestsAsTreatment.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      controlVersion: item.controlVersion ? 
        typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: props.parentVersion.featureImportanceAnalyses ? 
      Array.isArray(props.parentVersion.featureImportanceAnalyses) && props.parentVersion.featureImportanceAnalyses.length > 0 &&  props.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.parentVersion.featureImportanceAnalyses.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.parentVersion.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
    }
  } : undefined,
  childVersions: props.childVersions ? 
  Array.isArray(props.childVersions) && props.childVersions.length > 0 && props.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
  connect: props.childVersions.map((item: any) => ({
    id: item.id
  }))
} : { upsert: props.childVersions.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
        parentVersionId: item.parentVersionId !== undefined ? {
            equals: item.parentVersionId
          } : undefined,
      },
      update: {
        id: item.id !== undefined ? {
            set: item.id
          } : undefined,
        modelName: item.modelName !== undefined ? {
            set: item.modelName
          } : undefined,
        version: item.version !== undefined ? {
            set: item.version
          } : undefined,
        status: item.status !== undefined ? {
            set: item.status
          } : undefined,
        performanceAccuracy: item.performanceAccuracy !== undefined ? {
            set: item.performanceAccuracy
          } : undefined,
        performancePrecision: item.performancePrecision !== undefined ? {
            set: item.performancePrecision
          } : undefined,
        performanceRecall: item.performanceRecall !== undefined ? {
            set: item.performanceRecall
          } : undefined,
        performanceF1Score: item.performanceF1Score !== undefined ? {
            set: item.performanceF1Score
          } : undefined,
        performanceAuc: item.performanceAuc !== undefined ? {
            set: item.performanceAuc
          } : undefined,
        performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
            set: item.performanceSharpeRatio
          } : undefined,
        performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
            set: item.performanceMaxDrawdown
          } : undefined,
        performanceWinRate: item.performanceWinRate !== undefined ? {
            set: item.performanceWinRate
          } : undefined,
        performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
            set: item.performanceAvgReturn
          } : undefined,
        performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
            set: item.performanceCalibrationScore
          } : undefined,
        performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
            set: item.performanceStabilityScore
          } : undefined,
        validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
            set: item.validationCrossValidationScore
          } : undefined,
        validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
            set: item.validationOutOfSamplePerformance
          } : undefined,
        validationBacktestResults: item.validationBacktestResults !== undefined ? {
            set: item.validationBacktestResults
          } : undefined,
        validationStatTestResults: item.validationStatTestResults !== undefined ? {
            set: item.validationStatTestResults
          } : undefined,
        deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
            set: item.deploymentEnvironment
          } : undefined,
        deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
            set: item.deploymentTrafficAllocation
          } : undefined,
        deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
            set: item.deploymentRolloutStrategy
          } : undefined,
        deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
            set: item.deploymentHealthCheckConfig
          } : undefined,
        trainingStartTime: item.trainingStartTime !== undefined ? {
            set: item.trainingStartTime
          } : undefined,
        trainingEndTime: item.trainingEndTime !== undefined ? {
            set: item.trainingEndTime
          } : undefined,
        trainingDuration: item.trainingDuration !== undefined ? {
            set: item.trainingDuration
          } : undefined,
        trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
            set: item.trainingDatasetSize
          } : undefined,
        trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
            set: item.trainingFeaturesUsed
          } : undefined,
        trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
            set: item.trainingHyperparameters
          } : undefined,
        trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
            set: item.trainingResourcePeakMemoryMB
          } : undefined,
        trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
            set: item.trainingResourceTotalCpuHours
          } : undefined,
        trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
            set: item.trainingResourceGpuHours
          } : undefined,
        deployedAt: item.deployedAt !== undefined ? {
            set: item.deployedAt
          } : undefined,
        deprecatedAt: item.deprecatedAt !== undefined ? {
            set: item.deprecatedAt
          } : undefined,
    childVersions: item.childVersions ? 
    Array.isArray(item.childVersions) && item.childVersions.length > 0 && item.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: item.childVersions.map((item: any) => ({
      id: item.id
    }))
} : { upsert: item.childVersions.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          parentVersionId: item.parentVersionId !== undefined ? {
              equals: item.parentVersionId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          modelName: item.modelName !== undefined ? {
              set: item.modelName
            } : undefined,
          version: item.version !== undefined ? {
              set: item.version
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? {
              set: item.performanceAccuracy
            } : undefined,
          performancePrecision: item.performancePrecision !== undefined ? {
              set: item.performancePrecision
            } : undefined,
          performanceRecall: item.performanceRecall !== undefined ? {
              set: item.performanceRecall
            } : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? {
              set: item.performanceF1Score
            } : undefined,
          performanceAuc: item.performanceAuc !== undefined ? {
              set: item.performanceAuc
            } : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
              set: item.performanceSharpeRatio
            } : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
              set: item.performanceMaxDrawdown
            } : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? {
              set: item.performanceWinRate
            } : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
              set: item.performanceAvgReturn
            } : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
              set: item.performanceCalibrationScore
            } : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
              set: item.performanceStabilityScore
            } : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
              set: item.validationCrossValidationScore
            } : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
              set: item.validationOutOfSamplePerformance
            } : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? {
              set: item.validationBacktestResults
            } : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? {
              set: item.validationStatTestResults
            } : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
              set: item.deploymentEnvironment
            } : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
              set: item.deploymentTrafficAllocation
            } : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
              set: item.deploymentRolloutStrategy
            } : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
              set: item.deploymentHealthCheckConfig
            } : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? {
              set: item.trainingStartTime
            } : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? {
              set: item.trainingEndTime
            } : undefined,
          trainingDuration: item.trainingDuration !== undefined ? {
              set: item.trainingDuration
            } : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
              set: item.trainingDatasetSize
            } : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
              set: item.trainingFeaturesUsed
            } : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
              set: item.trainingHyperparameters
            } : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
              set: item.trainingResourcePeakMemoryMB
            } : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
              set: item.trainingResourceTotalCpuHours
            } : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
              set: item.trainingResourceGpuHours
            } : undefined,
          deployedAt: item.deployedAt !== undefined ? {
              set: item.deployedAt
            } : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? {
              set: item.deprecatedAt
            } : undefined,
      childVersions: item.childVersions ? 
      Array.isArray(item.childVersions) && item.childVersions.length > 0 && item.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.childVersions.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            parentVersionId: item.parentVersionId !== undefined ? {
                equals: item.parentVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            modelName: item.modelName !== undefined ? {
                set: item.modelName
              } : undefined,
            version: item.version !== undefined ? {
                set: item.version
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? {
                set: item.performanceAccuracy
              } : undefined,
            performancePrecision: item.performancePrecision !== undefined ? {
                set: item.performancePrecision
              } : undefined,
            performanceRecall: item.performanceRecall !== undefined ? {
                set: item.performanceRecall
              } : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? {
                set: item.performanceF1Score
              } : undefined,
            performanceAuc: item.performanceAuc !== undefined ? {
                set: item.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
                set: item.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
                set: item.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? {
                set: item.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
                set: item.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
                set: item.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
                set: item.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
                set: item.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
                set: item.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? {
                set: item.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? {
                set: item.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
                set: item.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
                set: item.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
                set: item.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
                set: item.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? {
                set: item.trainingStartTime
              } : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? {
                set: item.trainingEndTime
              } : undefined,
            trainingDuration: item.trainingDuration !== undefined ? {
                set: item.trainingDuration
              } : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
                set: item.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
                set: item.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
                set: item.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
                set: item.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
                set: item.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.deployedAt !== undefined ? {
                set: item.deployedAt
              } : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? {
                set: item.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
      Array.isArray(item.artifacts) && item.artifacts.length > 0 && item.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.artifacts.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
      Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 && item.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.abTestsAsControl.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
      Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 && item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.abTestsAsTreatment.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
      Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 && item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.featureImportanceAnalyses.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            analysisType: item.analysisType !== undefined ? {
                set: item.analysisType
              } : undefined,
            featureImportances: item.featureImportances !== undefined ? {
                set: item.featureImportances
              } : undefined,
            globalImportance: item.globalImportance !== undefined ? {
                set: item.globalImportance
              } : undefined,
            localImportance: item.localImportance !== undefined ? {
                set: item.localImportance
              } : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
                set: item.analysisMetadataSampleSize
              } : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
                set: item.analysisMetadataBaselineAccuracy
              } : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
                set: item.analysisMetadataAnalysisDate
              } : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
                set: item.analysisMetadataComputationTime
              } : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
                set: item.analysisMetadataAnalysisParameters
              } : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
                set: item.insightsTopFeatures
              } : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
                set: item.insightsRedundantFeatures
              } : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
                set: item.insightsUnexpectedImportances
              } : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
                set: item.insightsStabilityScore
              } : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? {
                set: item.insightsRecommendations
              } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
        create: {
          modelName: item.modelName !== undefined ? item.modelName : undefined,
          version: item.version !== undefined ? item.version : undefined,
          status: item.status !== undefined ? item.status : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
          performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
          performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
          performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
          trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
          deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
      childVersions: item.childVersions ? 
        Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
        Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
        Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
        Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
        Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }))
    } : undefined,
    artifacts: item.artifacts ? 
    Array.isArray(item.artifacts) && item.artifacts.length > 0 && item.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: item.artifacts.map((item: any) => ({
      id: item.id
    }))
} : { upsert: item.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId
            } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
      modelArtifact: item.modelArtifact ? 
      typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && (Object.keys(item.modelArtifact)[0] === 'id' || Object.keys(item.modelArtifact)[0] === 'symbol')
? {
      connect: {
        id: item.modelArtifact.id
      }
} : { upsert: {
          where: {
            id: item.modelArtifact.id !== undefined ? {
                equals: item.modelArtifact.id
              } : undefined,
          },
          update: {
            id: item.modelArtifact.id !== undefined ? {
                set: item.modelArtifact.id
              } : undefined,
            modelName: item.modelArtifact.modelName !== undefined ? {
                set: item.modelArtifact.modelName
              } : undefined,
            version: item.modelArtifact.version !== undefined ? {
                set: item.modelArtifact.version
              } : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? {
                set: item.modelArtifact.artifactType
              } : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? {
                set: item.modelArtifact.storageUrl
              } : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? {
                set: item.modelArtifact.storageProvider
              } : undefined,
            fileSize: item.modelArtifact.fileSize !== undefined ? {
                set: item.modelArtifact.fileSize
              } : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? {
                set: item.modelArtifact.checksum
              } : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? {
                set: item.modelArtifact.compressionType
              } : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? {
                set: item.modelArtifact.metadataFramework
              } : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? {
                set: item.modelArtifact.metadataPythonVersion
              } : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? {
                set: item.modelArtifact.metadataDependencies
              } : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? {
                set: item.modelArtifact.metadataTrainingDate
              } : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? {
                set: item.modelArtifact.metadataDatasetSize
              } : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? {
                set: item.modelArtifact.metadataHyperparameters
              } : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsControl: item.abTestsAsControl ? 
    Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 && item.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: item.abTestsAsControl.map((item: any) => ({
      id: item.id
    }))
} : { upsert: item.abTestsAsControl.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name
            } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId
            } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          name: item.name !== undefined ? {
              set: item.name
            } : undefined,
          description: item.description !== undefined ? {
              set: item.description
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
              set: item.trafficSplitControlPercent
            } : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
              set: item.trafficSplitTreatmentPercent
            } : undefined,
          targetMetrics: item.targetMetrics !== undefined ? {
              set: item.targetMetrics
            } : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
              set: item.successCriteriaPrimaryMetric
            } : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
              set: item.successCriteriaMinimumDetectableEffect
            } : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
              set: item.successCriteriaSignificanceLevel
            } : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
              set: item.successCriteriaPowerLevel
            } : undefined,
          startDate: item.startDate !== undefined ? {
              set: item.startDate
            } : undefined,
          endDate: item.endDate !== undefined ? {
              set: item.endDate
            } : undefined,
          plannedDuration: item.plannedDuration !== undefined ? {
              set: item.plannedDuration
            } : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
              set: item.resultsControlMetrics
            } : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
              set: item.resultsTreatmentMetrics
            } : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
              set: item.resultsStatisticalSignificance
            } : undefined,
          resultsPValues: item.resultsPValues !== undefined ? {
              set: item.resultsPValues
            } : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
              set: item.resultsConfidenceIntervals
            } : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? {
              set: item.resultsRecommendation
            } : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? {
              set: item.metadataEnvironment
            } : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
              set: item.metadataEligibilityCriteria
            } : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
              set: item.metadataExclusionCriteria
            } : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
              set: item.metadataSegmentationRules
            } : undefined,
          completedAt: item.completedAt !== undefined ? {
              set: item.completedAt
            } : undefined,
      treatmentVersion: item.treatmentVersion ? 
      typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && (Object.keys(item.treatmentVersion)[0] === 'id' || Object.keys(item.treatmentVersion)[0] === 'symbol')
? {
      connect: {
        id: item.treatmentVersion.id
      }
} : { upsert: {
          where: {
            id: item.treatmentVersion.id !== undefined ? {
                equals: item.treatmentVersion.id
              } : undefined,
            parentVersionId: item.treatmentVersion.parentVersionId !== undefined ? {
                equals: item.treatmentVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: item.treatmentVersion.id !== undefined ? {
                set: item.treatmentVersion.id
              } : undefined,
            modelName: item.treatmentVersion.modelName !== undefined ? {
                set: item.treatmentVersion.modelName
              } : undefined,
            version: item.treatmentVersion.version !== undefined ? {
                set: item.treatmentVersion.version
              } : undefined,
            status: item.treatmentVersion.status !== undefined ? {
                set: item.treatmentVersion.status
              } : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? {
                set: item.treatmentVersion.performanceAccuracy
              } : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? {
                set: item.treatmentVersion.performancePrecision
              } : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? {
                set: item.treatmentVersion.performanceRecall
              } : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? {
                set: item.treatmentVersion.performanceF1Score
              } : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? {
                set: item.treatmentVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? {
                set: item.treatmentVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? {
                set: item.treatmentVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? {
                set: item.treatmentVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? {
                set: item.treatmentVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? {
                set: item.treatmentVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? {
                set: item.treatmentVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? {
                set: item.treatmentVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? {
                set: item.treatmentVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? {
                set: item.treatmentVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? {
                set: item.treatmentVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? {
                set: item.treatmentVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? {
                set: item.treatmentVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? {
                set: item.treatmentVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? {
                set: item.treatmentVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? {
                set: item.treatmentVersion.trainingStartTime
              } : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? {
                set: item.treatmentVersion.trainingEndTime
              } : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? {
                set: item.treatmentVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? {
                set: item.treatmentVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? {
                set: item.treatmentVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? {
                set: item.treatmentVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.treatmentVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: item.treatmentVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? {
                set: item.treatmentVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? {
                set: item.treatmentVersion.deployedAt
              } : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? {
                set: item.treatmentVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      treatmentVersion: item.treatmentVersion ? 
        typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsTreatment: item.abTestsAsTreatment ? 
    Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 && item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: item.abTestsAsTreatment.map((item: any) => ({
      id: item.id
    }))
} : { upsert: item.abTestsAsTreatment.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name
            } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId
            } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          name: item.name !== undefined ? {
              set: item.name
            } : undefined,
          description: item.description !== undefined ? {
              set: item.description
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
              set: item.trafficSplitControlPercent
            } : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
              set: item.trafficSplitTreatmentPercent
            } : undefined,
          targetMetrics: item.targetMetrics !== undefined ? {
              set: item.targetMetrics
            } : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
              set: item.successCriteriaPrimaryMetric
            } : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
              set: item.successCriteriaMinimumDetectableEffect
            } : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
              set: item.successCriteriaSignificanceLevel
            } : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
              set: item.successCriteriaPowerLevel
            } : undefined,
          startDate: item.startDate !== undefined ? {
              set: item.startDate
            } : undefined,
          endDate: item.endDate !== undefined ? {
              set: item.endDate
            } : undefined,
          plannedDuration: item.plannedDuration !== undefined ? {
              set: item.plannedDuration
            } : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
              set: item.resultsControlMetrics
            } : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
              set: item.resultsTreatmentMetrics
            } : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
              set: item.resultsStatisticalSignificance
            } : undefined,
          resultsPValues: item.resultsPValues !== undefined ? {
              set: item.resultsPValues
            } : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
              set: item.resultsConfidenceIntervals
            } : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? {
              set: item.resultsRecommendation
            } : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? {
              set: item.metadataEnvironment
            } : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
              set: item.metadataEligibilityCriteria
            } : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
              set: item.metadataExclusionCriteria
            } : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
              set: item.metadataSegmentationRules
            } : undefined,
          completedAt: item.completedAt !== undefined ? {
              set: item.completedAt
            } : undefined,
      controlVersion: item.controlVersion ? 
      typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && (Object.keys(item.controlVersion)[0] === 'id' || Object.keys(item.controlVersion)[0] === 'symbol')
? {
      connect: {
        id: item.controlVersion.id
      }
} : { upsert: {
          where: {
            id: item.controlVersion.id !== undefined ? {
                equals: item.controlVersion.id
              } : undefined,
            parentVersionId: item.controlVersion.parentVersionId !== undefined ? {
                equals: item.controlVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: item.controlVersion.id !== undefined ? {
                set: item.controlVersion.id
              } : undefined,
            modelName: item.controlVersion.modelName !== undefined ? {
                set: item.controlVersion.modelName
              } : undefined,
            version: item.controlVersion.version !== undefined ? {
                set: item.controlVersion.version
              } : undefined,
            status: item.controlVersion.status !== undefined ? {
                set: item.controlVersion.status
              } : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? {
                set: item.controlVersion.performanceAccuracy
              } : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? {
                set: item.controlVersion.performancePrecision
              } : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? {
                set: item.controlVersion.performanceRecall
              } : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? {
                set: item.controlVersion.performanceF1Score
              } : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? {
                set: item.controlVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? {
                set: item.controlVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? {
                set: item.controlVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? {
                set: item.controlVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? {
                set: item.controlVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? {
                set: item.controlVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? {
                set: item.controlVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? {
                set: item.controlVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? {
                set: item.controlVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? {
                set: item.controlVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? {
                set: item.controlVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? {
                set: item.controlVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? {
                set: item.controlVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? {
                set: item.controlVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? {
                set: item.controlVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? {
                set: item.controlVersion.trainingStartTime
              } : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? {
                set: item.controlVersion.trainingEndTime
              } : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? {
                set: item.controlVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? {
                set: item.controlVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? {
                set: item.controlVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? {
                set: item.controlVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.controlVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: item.controlVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? {
                set: item.controlVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? {
                set: item.controlVersion.deployedAt
              } : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? {
                set: item.controlVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      controlVersion: item.controlVersion ? 
        typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: item.featureImportanceAnalyses ? 
    Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 && item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: item.featureImportanceAnalyses.map((item: any) => ({
      id: item.id
    }))
} : { upsert: item.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          analysisType: item.analysisType !== undefined ? {
              set: item.analysisType
            } : undefined,
          featureImportances: item.featureImportances !== undefined ? {
              set: item.featureImportances
            } : undefined,
          globalImportance: item.globalImportance !== undefined ? {
              set: item.globalImportance
            } : undefined,
          localImportance: item.localImportance !== undefined ? {
              set: item.localImportance
            } : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
              set: item.analysisMetadataSampleSize
            } : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
              set: item.analysisMetadataBaselineAccuracy
            } : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
              set: item.analysisMetadataAnalysisDate
            } : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
              set: item.analysisMetadataComputationTime
            } : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
              set: item.analysisMetadataAnalysisParameters
            } : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
              set: item.insightsTopFeatures
            } : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
              set: item.insightsRedundantFeatures
            } : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
              set: item.insightsUnexpectedImportances
            } : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
              set: item.insightsStabilityScore
            } : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? {
              set: item.insightsRecommendations
            } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
      create: {
        modelName: item.modelName !== undefined ? item.modelName : undefined,
        version: item.version !== undefined ? item.version : undefined,
        status: item.status !== undefined ? item.status : undefined,
        performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
        performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
        performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
        performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
        performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
        performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
        performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
        performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
        performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
        performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
        performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
        validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
        validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
        validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
        validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
        deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
        deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
        deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
        deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
        trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
        trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
        trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
        trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
        trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
        trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
        trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
        trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
        trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
        deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
        deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
    childVersions: item.childVersions ? 
      Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.childVersions.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
        },
        create: {
          modelName: item.modelName !== undefined ? item.modelName : undefined,
          version: item.version !== undefined ? item.version : undefined,
          status: item.status !== undefined ? item.status : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
          performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
          performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
          performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
          trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
          deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
      childVersions: item.childVersions ? 
        Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
        Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
        Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
        Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
        Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }))
    } : undefined,
    artifacts: item.artifacts ? 
      Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.artifacts.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId 
             } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsControl: item.abTestsAsControl ? 
      Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.abTestsAsControl.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      treatmentVersion: item.treatmentVersion ? 
        typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsTreatment: item.abTestsAsTreatment ? 
      Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.abTestsAsTreatment.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      controlVersion: item.controlVersion ? 
        typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: item.featureImportanceAnalyses ? 
      Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.featureImportanceAnalyses.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
    }))
  } : undefined,
  artifacts: props.artifacts ? 
  Array.isArray(props.artifacts) && props.artifacts.length > 0 && props.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
  connect: props.artifacts.map((item: any) => ({
    id: item.id
  }))
} : { upsert: props.artifacts.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
        modelVersionId: item.modelVersionId !== undefined ? {
            equals: item.modelVersionId
          } : undefined,
        modelArtifactId: item.modelArtifactId !== undefined ? {
            equals: item.modelArtifactId
          } : undefined,
      },
      update: {
        id: item.id !== undefined ? {
            set: item.id
          } : undefined,
    modelArtifact: item.modelArtifact ? 
    typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && (Object.keys(item.modelArtifact)[0] === 'id' || Object.keys(item.modelArtifact)[0] === 'symbol')
? {
    connect: {
      id: item.modelArtifact.id
    }
} : { upsert: {
        where: {
          id: item.modelArtifact.id !== undefined ? {
              equals: item.modelArtifact.id
            } : undefined,
        },
        update: {
          id: item.modelArtifact.id !== undefined ? {
              set: item.modelArtifact.id
            } : undefined,
          modelName: item.modelArtifact.modelName !== undefined ? {
              set: item.modelArtifact.modelName
            } : undefined,
          version: item.modelArtifact.version !== undefined ? {
              set: item.modelArtifact.version
            } : undefined,
          artifactType: item.modelArtifact.artifactType !== undefined ? {
              set: item.modelArtifact.artifactType
            } : undefined,
          storageUrl: item.modelArtifact.storageUrl !== undefined ? {
              set: item.modelArtifact.storageUrl
            } : undefined,
          storageProvider: item.modelArtifact.storageProvider !== undefined ? {
              set: item.modelArtifact.storageProvider
            } : undefined,
          fileSize: item.modelArtifact.fileSize !== undefined ? {
              set: item.modelArtifact.fileSize
            } : undefined,
          checksum: item.modelArtifact.checksum !== undefined ? {
              set: item.modelArtifact.checksum
            } : undefined,
          compressionType: item.modelArtifact.compressionType !== undefined ? {
              set: item.modelArtifact.compressionType
            } : undefined,
          metadataFramework: item.modelArtifact.metadataFramework !== undefined ? {
              set: item.modelArtifact.metadataFramework
            } : undefined,
          metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? {
              set: item.modelArtifact.metadataPythonVersion
            } : undefined,
          metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? {
              set: item.modelArtifact.metadataDependencies
            } : undefined,
          metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? {
              set: item.modelArtifact.metadataTrainingDate
            } : undefined,
          metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? {
              set: item.modelArtifact.metadataDatasetSize
            } : undefined,
          metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? {
              set: item.modelArtifact.metadataHyperparameters
            } : undefined,
        },
        create: {
          modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
          version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
          artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
          storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
          storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
          checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
          compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
          metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
          metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
          metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
          metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
          metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
          metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
        },
      }
    } : undefined,
      },
      create: {
    modelArtifact: item.modelArtifact ? 
      typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
          id: item.modelArtifact.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
        },
        create: {
          modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
          version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
          artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
          storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
          storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
          checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
          compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
          metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
          metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
          metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
          metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
          metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
          metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
        },
      }
    } : undefined,
      },
    }))
  } : undefined,
  abTestsAsControl: props.abTestsAsControl ? 
  Array.isArray(props.abTestsAsControl) && props.abTestsAsControl.length > 0 && props.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
  connect: props.abTestsAsControl.map((item: any) => ({
    id: item.id
  }))
} : { upsert: props.abTestsAsControl.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
        name: item.name !== undefined ? {
            equals: item.name
          } : undefined,
        modelVersionAId: item.modelVersionAId !== undefined ? {
            equals: item.modelVersionAId
          } : undefined,
        modelVersionBId: item.modelVersionBId !== undefined ? {
            equals: item.modelVersionBId
          } : undefined,
      },
      update: {
        id: item.id !== undefined ? {
            set: item.id
          } : undefined,
        name: item.name !== undefined ? {
            set: item.name
          } : undefined,
        description: item.description !== undefined ? {
            set: item.description
          } : undefined,
        status: item.status !== undefined ? {
            set: item.status
          } : undefined,
        trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
            set: item.trafficSplitControlPercent
          } : undefined,
        trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
            set: item.trafficSplitTreatmentPercent
          } : undefined,
        targetMetrics: item.targetMetrics !== undefined ? {
            set: item.targetMetrics
          } : undefined,
        successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
            set: item.successCriteriaPrimaryMetric
          } : undefined,
        successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
            set: item.successCriteriaMinimumDetectableEffect
          } : undefined,
        successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
            set: item.successCriteriaSignificanceLevel
          } : undefined,
        successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
            set: item.successCriteriaPowerLevel
          } : undefined,
        startDate: item.startDate !== undefined ? {
            set: item.startDate
          } : undefined,
        endDate: item.endDate !== undefined ? {
            set: item.endDate
          } : undefined,
        plannedDuration: item.plannedDuration !== undefined ? {
            set: item.plannedDuration
          } : undefined,
        resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
            set: item.resultsControlMetrics
          } : undefined,
        resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
            set: item.resultsTreatmentMetrics
          } : undefined,
        resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
            set: item.resultsStatisticalSignificance
          } : undefined,
        resultsPValues: item.resultsPValues !== undefined ? {
            set: item.resultsPValues
          } : undefined,
        resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
            set: item.resultsConfidenceIntervals
          } : undefined,
        resultsRecommendation: item.resultsRecommendation !== undefined ? {
            set: item.resultsRecommendation
          } : undefined,
        metadataEnvironment: item.metadataEnvironment !== undefined ? {
            set: item.metadataEnvironment
          } : undefined,
        metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
            set: item.metadataEligibilityCriteria
          } : undefined,
        metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
            set: item.metadataExclusionCriteria
          } : undefined,
        metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
            set: item.metadataSegmentationRules
          } : undefined,
        completedAt: item.completedAt !== undefined ? {
            set: item.completedAt
          } : undefined,
    treatmentVersion: item.treatmentVersion ? 
    typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && (Object.keys(item.treatmentVersion)[0] === 'id' || Object.keys(item.treatmentVersion)[0] === 'symbol')
? {
    connect: {
      id: item.treatmentVersion.id
    }
} : { upsert: {
        where: {
          id: item.treatmentVersion.id !== undefined ? {
              equals: item.treatmentVersion.id
            } : undefined,
          parentVersionId: item.treatmentVersion.parentVersionId !== undefined ? {
              equals: item.treatmentVersion.parentVersionId
            } : undefined,
        },
        update: {
          id: item.treatmentVersion.id !== undefined ? {
              set: item.treatmentVersion.id
            } : undefined,
          modelName: item.treatmentVersion.modelName !== undefined ? {
              set: item.treatmentVersion.modelName
            } : undefined,
          version: item.treatmentVersion.version !== undefined ? {
              set: item.treatmentVersion.version
            } : undefined,
          status: item.treatmentVersion.status !== undefined ? {
              set: item.treatmentVersion.status
            } : undefined,
          performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? {
              set: item.treatmentVersion.performanceAccuracy
            } : undefined,
          performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? {
              set: item.treatmentVersion.performancePrecision
            } : undefined,
          performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? {
              set: item.treatmentVersion.performanceRecall
            } : undefined,
          performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? {
              set: item.treatmentVersion.performanceF1Score
            } : undefined,
          performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? {
              set: item.treatmentVersion.performanceAuc
            } : undefined,
          performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? {
              set: item.treatmentVersion.performanceSharpeRatio
            } : undefined,
          performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? {
              set: item.treatmentVersion.performanceMaxDrawdown
            } : undefined,
          performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? {
              set: item.treatmentVersion.performanceWinRate
            } : undefined,
          performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? {
              set: item.treatmentVersion.performanceAvgReturn
            } : undefined,
          performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? {
              set: item.treatmentVersion.performanceCalibrationScore
            } : undefined,
          performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? {
              set: item.treatmentVersion.performanceStabilityScore
            } : undefined,
          validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? {
              set: item.treatmentVersion.validationCrossValidationScore
            } : undefined,
          validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? {
              set: item.treatmentVersion.validationOutOfSamplePerformance
            } : undefined,
          validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? {
              set: item.treatmentVersion.validationBacktestResults
            } : undefined,
          validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? {
              set: item.treatmentVersion.validationStatTestResults
            } : undefined,
          deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? {
              set: item.treatmentVersion.deploymentEnvironment
            } : undefined,
          deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? {
              set: item.treatmentVersion.deploymentTrafficAllocation
            } : undefined,
          deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? {
              set: item.treatmentVersion.deploymentRolloutStrategy
            } : undefined,
          deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? {
              set: item.treatmentVersion.deploymentHealthCheckConfig
            } : undefined,
          trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? {
              set: item.treatmentVersion.trainingStartTime
            } : undefined,
          trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? {
              set: item.treatmentVersion.trainingEndTime
            } : undefined,
          trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? {
              set: item.treatmentVersion.trainingDuration
            } : undefined,
          trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? {
              set: item.treatmentVersion.trainingDatasetSize
            } : undefined,
          trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? {
              set: item.treatmentVersion.trainingFeaturesUsed
            } : undefined,
          trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? {
              set: item.treatmentVersion.trainingHyperparameters
            } : undefined,
          trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? {
              set: item.treatmentVersion.trainingResourcePeakMemoryMB
            } : undefined,
          trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? {
              set: item.treatmentVersion.trainingResourceTotalCpuHours
            } : undefined,
          trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? {
              set: item.treatmentVersion.trainingResourceGpuHours
            } : undefined,
          deployedAt: item.treatmentVersion.deployedAt !== undefined ? {
              set: item.treatmentVersion.deployedAt
            } : undefined,
          deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? {
              set: item.treatmentVersion.deprecatedAt
            } : undefined,
      parentVersion: item.treatmentVersion.parentVersion ? 
      typeof item.treatmentVersion.parentVersion === 'object' && Object.keys(item.treatmentVersion.parentVersion).length === 1 && (Object.keys(item.treatmentVersion.parentVersion)[0] === 'id' || Object.keys(item.treatmentVersion.parentVersion)[0] === 'symbol')
? {
      connect: {
        id: item.treatmentVersion.parentVersion.id
      }
} : { upsert: {
          where: {
            id: item.treatmentVersion.parentVersion.id !== undefined ? {
                equals: item.treatmentVersion.parentVersion.id
              } : undefined,
            parentVersionId: item.treatmentVersion.parentVersion.parentVersionId !== undefined ? {
                equals: item.treatmentVersion.parentVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: item.treatmentVersion.parentVersion.id !== undefined ? {
                set: item.treatmentVersion.parentVersion.id
              } : undefined,
            modelName: item.treatmentVersion.parentVersion.modelName !== undefined ? {
                set: item.treatmentVersion.parentVersion.modelName
              } : undefined,
            version: item.treatmentVersion.parentVersion.version !== undefined ? {
                set: item.treatmentVersion.parentVersion.version
              } : undefined,
            status: item.treatmentVersion.parentVersion.status !== undefined ? {
                set: item.treatmentVersion.parentVersion.status
              } : undefined,
            performanceAccuracy: item.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceAccuracy
              } : undefined,
            performancePrecision: item.treatmentVersion.parentVersion.performancePrecision !== undefined ? {
                set: item.treatmentVersion.parentVersion.performancePrecision
              } : undefined,
            performanceRecall: item.treatmentVersion.parentVersion.performanceRecall !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceRecall
              } : undefined,
            performanceF1Score: item.treatmentVersion.parentVersion.performanceF1Score !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceF1Score
              } : undefined,
            performanceAuc: item.treatmentVersion.parentVersion.performanceAuc !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.treatmentVersion.parentVersion.performanceWinRate !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? {
                set: item.treatmentVersion.parentVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? {
                set: item.treatmentVersion.parentVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? {
                set: item.treatmentVersion.parentVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? {
                set: item.treatmentVersion.parentVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? {
                set: item.treatmentVersion.parentVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? {
                set: item.treatmentVersion.parentVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? {
                set: item.treatmentVersion.parentVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? {
                set: item.treatmentVersion.parentVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.treatmentVersion.parentVersion.trainingStartTime !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingStartTime
              } : undefined,
            trainingEndTime: item.treatmentVersion.parentVersion.trainingEndTime !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingEndTime
              } : undefined,
            trainingDuration: item.treatmentVersion.parentVersion.trainingDuration !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: item.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.treatmentVersion.parentVersion.deployedAt !== undefined ? {
                set: item.treatmentVersion.parentVersion.deployedAt
              } : undefined,
            deprecatedAt: item.treatmentVersion.parentVersion.deprecatedAt !== undefined ? {
                set: item.treatmentVersion.parentVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.treatmentVersion.parentVersion.modelName !== undefined ? item.treatmentVersion.parentVersion.modelName : undefined,
            version: item.treatmentVersion.parentVersion.version !== undefined ? item.treatmentVersion.parentVersion.version : undefined,
            status: item.treatmentVersion.parentVersion.status !== undefined ? item.treatmentVersion.parentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.parentVersion.performancePrecision !== undefined ? item.treatmentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.parentVersion.performanceRecall !== undefined ? item.treatmentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.parentVersion.performanceF1Score !== undefined ? item.treatmentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.parentVersion.performanceAuc !== undefined ? item.treatmentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.parentVersion.performanceWinRate !== undefined ? item.treatmentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.parentVersion.trainingStartTime !== undefined ? item.treatmentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.parentVersion.trainingEndTime !== undefined ? item.treatmentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.parentVersion.trainingDuration !== undefined ? item.treatmentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.parentVersion.deployedAt !== undefined ? item.treatmentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.parentVersion.deprecatedAt !== undefined ? item.treatmentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      childVersions: item.treatmentVersion.childVersions ? 
      Array.isArray(item.treatmentVersion.childVersions) && item.treatmentVersion.childVersions.length > 0 && item.treatmentVersion.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.treatmentVersion.childVersions.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.treatmentVersion.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            parentVersionId: item.parentVersionId !== undefined ? {
                equals: item.parentVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            modelName: item.modelName !== undefined ? {
                set: item.modelName
              } : undefined,
            version: item.version !== undefined ? {
                set: item.version
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? {
                set: item.performanceAccuracy
              } : undefined,
            performancePrecision: item.performancePrecision !== undefined ? {
                set: item.performancePrecision
              } : undefined,
            performanceRecall: item.performanceRecall !== undefined ? {
                set: item.performanceRecall
              } : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? {
                set: item.performanceF1Score
              } : undefined,
            performanceAuc: item.performanceAuc !== undefined ? {
                set: item.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
                set: item.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
                set: item.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? {
                set: item.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
                set: item.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
                set: item.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
                set: item.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
                set: item.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
                set: item.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? {
                set: item.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? {
                set: item.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
                set: item.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
                set: item.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
                set: item.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
                set: item.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? {
                set: item.trainingStartTime
              } : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? {
                set: item.trainingEndTime
              } : undefined,
            trainingDuration: item.trainingDuration !== undefined ? {
                set: item.trainingDuration
              } : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
                set: item.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
                set: item.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
                set: item.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
                set: item.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
                set: item.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.deployedAt !== undefined ? {
                set: item.deployedAt
              } : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? {
                set: item.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.treatmentVersion.artifacts ? 
      Array.isArray(item.treatmentVersion.artifacts) && item.treatmentVersion.artifacts.length > 0 && item.treatmentVersion.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.treatmentVersion.artifacts.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.treatmentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.treatmentVersion.abTestsAsControl ? 
      Array.isArray(item.treatmentVersion.abTestsAsControl) && item.treatmentVersion.abTestsAsControl.length > 0 && item.treatmentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.treatmentVersion.abTestsAsControl.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.treatmentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.treatmentVersion.featureImportanceAnalyses ? 
      Array.isArray(item.treatmentVersion.featureImportanceAnalyses) && item.treatmentVersion.featureImportanceAnalyses.length > 0 && item.treatmentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            analysisType: item.analysisType !== undefined ? {
                set: item.analysisType
              } : undefined,
            featureImportances: item.featureImportances !== undefined ? {
                set: item.featureImportances
              } : undefined,
            globalImportance: item.globalImportance !== undefined ? {
                set: item.globalImportance
              } : undefined,
            localImportance: item.localImportance !== undefined ? {
                set: item.localImportance
              } : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
                set: item.analysisMetadataSampleSize
              } : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
                set: item.analysisMetadataBaselineAccuracy
              } : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
                set: item.analysisMetadataAnalysisDate
              } : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
                set: item.analysisMetadataComputationTime
              } : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
                set: item.analysisMetadataAnalysisParameters
              } : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
                set: item.insightsTopFeatures
              } : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
                set: item.insightsRedundantFeatures
              } : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
                set: item.insightsUnexpectedImportances
              } : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
                set: item.insightsStabilityScore
              } : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? {
                set: item.insightsRecommendations
              } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
        create: {
          modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
          version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
          status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
          performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
          performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
          performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
          performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
          performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
          performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
          performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
          validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
          trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
          trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
          trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
          deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
          deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
      parentVersion: item.treatmentVersion.parentVersion ? 
        typeof item.treatmentVersion.parentVersion === 'object' && Object.keys(item.treatmentVersion.parentVersion).length === 1 && Object.keys(item.treatmentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.parentVersion.id !== undefined ? item.treatmentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.parentVersion.modelName !== undefined ? item.treatmentVersion.parentVersion.modelName : undefined,
            version: item.treatmentVersion.parentVersion.version !== undefined ? item.treatmentVersion.parentVersion.version : undefined,
            status: item.treatmentVersion.parentVersion.status !== undefined ? item.treatmentVersion.parentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.parentVersion.performancePrecision !== undefined ? item.treatmentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.parentVersion.performanceRecall !== undefined ? item.treatmentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.parentVersion.performanceF1Score !== undefined ? item.treatmentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.parentVersion.performanceAuc !== undefined ? item.treatmentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.parentVersion.performanceWinRate !== undefined ? item.treatmentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.parentVersion.trainingStartTime !== undefined ? item.treatmentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.parentVersion.trainingEndTime !== undefined ? item.treatmentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.parentVersion.trainingDuration !== undefined ? item.treatmentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.parentVersion.deployedAt !== undefined ? item.treatmentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.parentVersion.deprecatedAt !== undefined ? item.treatmentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      childVersions: item.treatmentVersion.childVersions ? 
        Array.isArray(item.treatmentVersion.childVersions) && item.treatmentVersion.childVersions.length > 0 &&  item.treatmentVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.treatmentVersion.artifacts ? 
        Array.isArray(item.treatmentVersion.artifacts) && item.treatmentVersion.artifacts.length > 0 &&  item.treatmentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.treatmentVersion.abTestsAsControl ? 
        Array.isArray(item.treatmentVersion.abTestsAsControl) && item.treatmentVersion.abTestsAsControl.length > 0 &&  item.treatmentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.treatmentVersion.featureImportanceAnalyses ? 
        Array.isArray(item.treatmentVersion.featureImportanceAnalyses) && item.treatmentVersion.featureImportanceAnalyses.length > 0 &&  item.treatmentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
      },
      create: {
        name: item.name !== undefined ? item.name : undefined,
        description: item.description !== undefined ? item.description : undefined,
        status: item.status !== undefined ? item.status : undefined,
        trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
        trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
        targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
        successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
        successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
        successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
        successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
        startDate: item.startDate !== undefined ? item.startDate : undefined,
        endDate: item.endDate !== undefined ? item.endDate : undefined,
        resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
        resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
        resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
        resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
        resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
        resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
        metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
        metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
        metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
        metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
        completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
    treatmentVersion: item.treatmentVersion ? 
      typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
          id: item.treatmentVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
        },
        create: {
          modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
          version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
          status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
          performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
          performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
          performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
          performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
          performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
          performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
          performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
          validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
          trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
          trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
          trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
          deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
          deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
      parentVersion: item.treatmentVersion.parentVersion ? 
        typeof item.treatmentVersion.parentVersion === 'object' && Object.keys(item.treatmentVersion.parentVersion).length === 1 && Object.keys(item.treatmentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.parentVersion.id !== undefined ? item.treatmentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.parentVersion.modelName !== undefined ? item.treatmentVersion.parentVersion.modelName : undefined,
            version: item.treatmentVersion.parentVersion.version !== undefined ? item.treatmentVersion.parentVersion.version : undefined,
            status: item.treatmentVersion.parentVersion.status !== undefined ? item.treatmentVersion.parentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.parentVersion.performancePrecision !== undefined ? item.treatmentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.parentVersion.performanceRecall !== undefined ? item.treatmentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.parentVersion.performanceF1Score !== undefined ? item.treatmentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.parentVersion.performanceAuc !== undefined ? item.treatmentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.parentVersion.performanceWinRate !== undefined ? item.treatmentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.parentVersion.trainingStartTime !== undefined ? item.treatmentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.parentVersion.trainingEndTime !== undefined ? item.treatmentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.parentVersion.trainingDuration !== undefined ? item.treatmentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.parentVersion.deployedAt !== undefined ? item.treatmentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.parentVersion.deprecatedAt !== undefined ? item.treatmentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      childVersions: item.treatmentVersion.childVersions ? 
        Array.isArray(item.treatmentVersion.childVersions) && item.treatmentVersion.childVersions.length > 0 &&  item.treatmentVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.treatmentVersion.artifacts ? 
        Array.isArray(item.treatmentVersion.artifacts) && item.treatmentVersion.artifacts.length > 0 &&  item.treatmentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.treatmentVersion.abTestsAsControl ? 
        Array.isArray(item.treatmentVersion.abTestsAsControl) && item.treatmentVersion.abTestsAsControl.length > 0 &&  item.treatmentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.treatmentVersion.featureImportanceAnalyses ? 
        Array.isArray(item.treatmentVersion.featureImportanceAnalyses) && item.treatmentVersion.featureImportanceAnalyses.length > 0 &&  item.treatmentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
      },
    }))
  } : undefined,
  abTestsAsTreatment: props.abTestsAsTreatment ? 
  Array.isArray(props.abTestsAsTreatment) && props.abTestsAsTreatment.length > 0 && props.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
  connect: props.abTestsAsTreatment.map((item: any) => ({
    id: item.id
  }))
} : { upsert: props.abTestsAsTreatment.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
        name: item.name !== undefined ? {
            equals: item.name
          } : undefined,
        modelVersionAId: item.modelVersionAId !== undefined ? {
            equals: item.modelVersionAId
          } : undefined,
        modelVersionBId: item.modelVersionBId !== undefined ? {
            equals: item.modelVersionBId
          } : undefined,
      },
      update: {
        id: item.id !== undefined ? {
            set: item.id
          } : undefined,
        name: item.name !== undefined ? {
            set: item.name
          } : undefined,
        description: item.description !== undefined ? {
            set: item.description
          } : undefined,
        status: item.status !== undefined ? {
            set: item.status
          } : undefined,
        trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
            set: item.trafficSplitControlPercent
          } : undefined,
        trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
            set: item.trafficSplitTreatmentPercent
          } : undefined,
        targetMetrics: item.targetMetrics !== undefined ? {
            set: item.targetMetrics
          } : undefined,
        successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
            set: item.successCriteriaPrimaryMetric
          } : undefined,
        successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
            set: item.successCriteriaMinimumDetectableEffect
          } : undefined,
        successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
            set: item.successCriteriaSignificanceLevel
          } : undefined,
        successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
            set: item.successCriteriaPowerLevel
          } : undefined,
        startDate: item.startDate !== undefined ? {
            set: item.startDate
          } : undefined,
        endDate: item.endDate !== undefined ? {
            set: item.endDate
          } : undefined,
        plannedDuration: item.plannedDuration !== undefined ? {
            set: item.plannedDuration
          } : undefined,
        resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
            set: item.resultsControlMetrics
          } : undefined,
        resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
            set: item.resultsTreatmentMetrics
          } : undefined,
        resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
            set: item.resultsStatisticalSignificance
          } : undefined,
        resultsPValues: item.resultsPValues !== undefined ? {
            set: item.resultsPValues
          } : undefined,
        resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
            set: item.resultsConfidenceIntervals
          } : undefined,
        resultsRecommendation: item.resultsRecommendation !== undefined ? {
            set: item.resultsRecommendation
          } : undefined,
        metadataEnvironment: item.metadataEnvironment !== undefined ? {
            set: item.metadataEnvironment
          } : undefined,
        metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
            set: item.metadataEligibilityCriteria
          } : undefined,
        metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
            set: item.metadataExclusionCriteria
          } : undefined,
        metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
            set: item.metadataSegmentationRules
          } : undefined,
        completedAt: item.completedAt !== undefined ? {
            set: item.completedAt
          } : undefined,
    controlVersion: item.controlVersion ? 
    typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && (Object.keys(item.controlVersion)[0] === 'id' || Object.keys(item.controlVersion)[0] === 'symbol')
? {
    connect: {
      id: item.controlVersion.id
    }
} : { upsert: {
        where: {
          id: item.controlVersion.id !== undefined ? {
              equals: item.controlVersion.id
            } : undefined,
          parentVersionId: item.controlVersion.parentVersionId !== undefined ? {
              equals: item.controlVersion.parentVersionId
            } : undefined,
        },
        update: {
          id: item.controlVersion.id !== undefined ? {
              set: item.controlVersion.id
            } : undefined,
          modelName: item.controlVersion.modelName !== undefined ? {
              set: item.controlVersion.modelName
            } : undefined,
          version: item.controlVersion.version !== undefined ? {
              set: item.controlVersion.version
            } : undefined,
          status: item.controlVersion.status !== undefined ? {
              set: item.controlVersion.status
            } : undefined,
          performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? {
              set: item.controlVersion.performanceAccuracy
            } : undefined,
          performancePrecision: item.controlVersion.performancePrecision !== undefined ? {
              set: item.controlVersion.performancePrecision
            } : undefined,
          performanceRecall: item.controlVersion.performanceRecall !== undefined ? {
              set: item.controlVersion.performanceRecall
            } : undefined,
          performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? {
              set: item.controlVersion.performanceF1Score
            } : undefined,
          performanceAuc: item.controlVersion.performanceAuc !== undefined ? {
              set: item.controlVersion.performanceAuc
            } : undefined,
          performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? {
              set: item.controlVersion.performanceSharpeRatio
            } : undefined,
          performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? {
              set: item.controlVersion.performanceMaxDrawdown
            } : undefined,
          performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? {
              set: item.controlVersion.performanceWinRate
            } : undefined,
          performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? {
              set: item.controlVersion.performanceAvgReturn
            } : undefined,
          performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? {
              set: item.controlVersion.performanceCalibrationScore
            } : undefined,
          performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? {
              set: item.controlVersion.performanceStabilityScore
            } : undefined,
          validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? {
              set: item.controlVersion.validationCrossValidationScore
            } : undefined,
          validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? {
              set: item.controlVersion.validationOutOfSamplePerformance
            } : undefined,
          validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? {
              set: item.controlVersion.validationBacktestResults
            } : undefined,
          validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? {
              set: item.controlVersion.validationStatTestResults
            } : undefined,
          deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? {
              set: item.controlVersion.deploymentEnvironment
            } : undefined,
          deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? {
              set: item.controlVersion.deploymentTrafficAllocation
            } : undefined,
          deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? {
              set: item.controlVersion.deploymentRolloutStrategy
            } : undefined,
          deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? {
              set: item.controlVersion.deploymentHealthCheckConfig
            } : undefined,
          trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? {
              set: item.controlVersion.trainingStartTime
            } : undefined,
          trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? {
              set: item.controlVersion.trainingEndTime
            } : undefined,
          trainingDuration: item.controlVersion.trainingDuration !== undefined ? {
              set: item.controlVersion.trainingDuration
            } : undefined,
          trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? {
              set: item.controlVersion.trainingDatasetSize
            } : undefined,
          trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? {
              set: item.controlVersion.trainingFeaturesUsed
            } : undefined,
          trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? {
              set: item.controlVersion.trainingHyperparameters
            } : undefined,
          trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? {
              set: item.controlVersion.trainingResourcePeakMemoryMB
            } : undefined,
          trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? {
              set: item.controlVersion.trainingResourceTotalCpuHours
            } : undefined,
          trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? {
              set: item.controlVersion.trainingResourceGpuHours
            } : undefined,
          deployedAt: item.controlVersion.deployedAt !== undefined ? {
              set: item.controlVersion.deployedAt
            } : undefined,
          deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? {
              set: item.controlVersion.deprecatedAt
            } : undefined,
      parentVersion: item.controlVersion.parentVersion ? 
      typeof item.controlVersion.parentVersion === 'object' && Object.keys(item.controlVersion.parentVersion).length === 1 && (Object.keys(item.controlVersion.parentVersion)[0] === 'id' || Object.keys(item.controlVersion.parentVersion)[0] === 'symbol')
? {
      connect: {
        id: item.controlVersion.parentVersion.id
      }
} : { upsert: {
          where: {
            id: item.controlVersion.parentVersion.id !== undefined ? {
                equals: item.controlVersion.parentVersion.id
              } : undefined,
            parentVersionId: item.controlVersion.parentVersion.parentVersionId !== undefined ? {
                equals: item.controlVersion.parentVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: item.controlVersion.parentVersion.id !== undefined ? {
                set: item.controlVersion.parentVersion.id
              } : undefined,
            modelName: item.controlVersion.parentVersion.modelName !== undefined ? {
                set: item.controlVersion.parentVersion.modelName
              } : undefined,
            version: item.controlVersion.parentVersion.version !== undefined ? {
                set: item.controlVersion.parentVersion.version
              } : undefined,
            status: item.controlVersion.parentVersion.status !== undefined ? {
                set: item.controlVersion.parentVersion.status
              } : undefined,
            performanceAccuracy: item.controlVersion.parentVersion.performanceAccuracy !== undefined ? {
                set: item.controlVersion.parentVersion.performanceAccuracy
              } : undefined,
            performancePrecision: item.controlVersion.parentVersion.performancePrecision !== undefined ? {
                set: item.controlVersion.parentVersion.performancePrecision
              } : undefined,
            performanceRecall: item.controlVersion.parentVersion.performanceRecall !== undefined ? {
                set: item.controlVersion.parentVersion.performanceRecall
              } : undefined,
            performanceF1Score: item.controlVersion.parentVersion.performanceF1Score !== undefined ? {
                set: item.controlVersion.parentVersion.performanceF1Score
              } : undefined,
            performanceAuc: item.controlVersion.parentVersion.performanceAuc !== undefined ? {
                set: item.controlVersion.parentVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? {
                set: item.controlVersion.parentVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? {
                set: item.controlVersion.parentVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.controlVersion.parentVersion.performanceWinRate !== undefined ? {
                set: item.controlVersion.parentVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.controlVersion.parentVersion.performanceAvgReturn !== undefined ? {
                set: item.controlVersion.parentVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? {
                set: item.controlVersion.parentVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.controlVersion.parentVersion.performanceStabilityScore !== undefined ? {
                set: item.controlVersion.parentVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? {
                set: item.controlVersion.parentVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? {
                set: item.controlVersion.parentVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.controlVersion.parentVersion.validationBacktestResults !== undefined ? {
                set: item.controlVersion.parentVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.controlVersion.parentVersion.validationStatTestResults !== undefined ? {
                set: item.controlVersion.parentVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.controlVersion.parentVersion.deploymentEnvironment !== undefined ? {
                set: item.controlVersion.parentVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? {
                set: item.controlVersion.parentVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? {
                set: item.controlVersion.parentVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? {
                set: item.controlVersion.parentVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.controlVersion.parentVersion.trainingStartTime !== undefined ? {
                set: item.controlVersion.parentVersion.trainingStartTime
              } : undefined,
            trainingEndTime: item.controlVersion.parentVersion.trainingEndTime !== undefined ? {
                set: item.controlVersion.parentVersion.trainingEndTime
              } : undefined,
            trainingDuration: item.controlVersion.parentVersion.trainingDuration !== undefined ? {
                set: item.controlVersion.parentVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: item.controlVersion.parentVersion.trainingDatasetSize !== undefined ? {
                set: item.controlVersion.parentVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? {
                set: item.controlVersion.parentVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.controlVersion.parentVersion.trainingHyperparameters !== undefined ? {
                set: item.controlVersion.parentVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.controlVersion.parentVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: item.controlVersion.parentVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? {
                set: item.controlVersion.parentVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.controlVersion.parentVersion.deployedAt !== undefined ? {
                set: item.controlVersion.parentVersion.deployedAt
              } : undefined,
            deprecatedAt: item.controlVersion.parentVersion.deprecatedAt !== undefined ? {
                set: item.controlVersion.parentVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.controlVersion.parentVersion.modelName !== undefined ? item.controlVersion.parentVersion.modelName : undefined,
            version: item.controlVersion.parentVersion.version !== undefined ? item.controlVersion.parentVersion.version : undefined,
            status: item.controlVersion.parentVersion.status !== undefined ? item.controlVersion.parentVersion.status : undefined,
            performanceAccuracy: item.controlVersion.parentVersion.performanceAccuracy !== undefined ? item.controlVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.parentVersion.performancePrecision !== undefined ? item.controlVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.parentVersion.performanceRecall !== undefined ? item.controlVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.parentVersion.performanceF1Score !== undefined ? item.controlVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.parentVersion.performanceAuc !== undefined ? item.controlVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? item.controlVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.parentVersion.performanceWinRate !== undefined ? item.controlVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.parentVersion.performanceAvgReturn !== undefined ? item.controlVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? item.controlVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.parentVersion.performanceStabilityScore !== undefined ? item.controlVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? item.controlVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.parentVersion.validationBacktestResults !== undefined ? item.controlVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.parentVersion.validationStatTestResults !== undefined ? item.controlVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.parentVersion.deploymentEnvironment !== undefined ? item.controlVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.parentVersion.trainingStartTime !== undefined ? item.controlVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.parentVersion.trainingEndTime !== undefined ? item.controlVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.parentVersion.trainingDuration !== undefined ? item.controlVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.parentVersion.trainingDatasetSize !== undefined ? item.controlVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.parentVersion.trainingHyperparameters !== undefined ? item.controlVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.parentVersion.deployedAt !== undefined ? item.controlVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.parentVersion.deprecatedAt !== undefined ? item.controlVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      childVersions: item.controlVersion.childVersions ? 
      Array.isArray(item.controlVersion.childVersions) && item.controlVersion.childVersions.length > 0 && item.controlVersion.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.controlVersion.childVersions.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.controlVersion.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            parentVersionId: item.parentVersionId !== undefined ? {
                equals: item.parentVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            modelName: item.modelName !== undefined ? {
                set: item.modelName
              } : undefined,
            version: item.version !== undefined ? {
                set: item.version
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? {
                set: item.performanceAccuracy
              } : undefined,
            performancePrecision: item.performancePrecision !== undefined ? {
                set: item.performancePrecision
              } : undefined,
            performanceRecall: item.performanceRecall !== undefined ? {
                set: item.performanceRecall
              } : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? {
                set: item.performanceF1Score
              } : undefined,
            performanceAuc: item.performanceAuc !== undefined ? {
                set: item.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
                set: item.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
                set: item.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? {
                set: item.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
                set: item.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
                set: item.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
                set: item.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
                set: item.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
                set: item.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? {
                set: item.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? {
                set: item.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
                set: item.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
                set: item.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
                set: item.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
                set: item.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? {
                set: item.trainingStartTime
              } : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? {
                set: item.trainingEndTime
              } : undefined,
            trainingDuration: item.trainingDuration !== undefined ? {
                set: item.trainingDuration
              } : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
                set: item.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
                set: item.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
                set: item.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
                set: item.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
                set: item.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.deployedAt !== undefined ? {
                set: item.deployedAt
              } : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? {
                set: item.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.controlVersion.artifacts ? 
      Array.isArray(item.controlVersion.artifacts) && item.controlVersion.artifacts.length > 0 && item.controlVersion.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.controlVersion.artifacts.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.controlVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.controlVersion.abTestsAsTreatment ? 
      Array.isArray(item.controlVersion.abTestsAsTreatment) && item.controlVersion.abTestsAsTreatment.length > 0 && item.controlVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.controlVersion.abTestsAsTreatment.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.controlVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.controlVersion.featureImportanceAnalyses ? 
      Array.isArray(item.controlVersion.featureImportanceAnalyses) && item.controlVersion.featureImportanceAnalyses.length > 0 && item.controlVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.controlVersion.featureImportanceAnalyses.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.controlVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            analysisType: item.analysisType !== undefined ? {
                set: item.analysisType
              } : undefined,
            featureImportances: item.featureImportances !== undefined ? {
                set: item.featureImportances
              } : undefined,
            globalImportance: item.globalImportance !== undefined ? {
                set: item.globalImportance
              } : undefined,
            localImportance: item.localImportance !== undefined ? {
                set: item.localImportance
              } : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
                set: item.analysisMetadataSampleSize
              } : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
                set: item.analysisMetadataBaselineAccuracy
              } : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
                set: item.analysisMetadataAnalysisDate
              } : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
                set: item.analysisMetadataComputationTime
              } : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
                set: item.analysisMetadataAnalysisParameters
              } : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
                set: item.insightsTopFeatures
              } : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
                set: item.insightsRedundantFeatures
              } : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
                set: item.insightsUnexpectedImportances
              } : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
                set: item.insightsStabilityScore
              } : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? {
                set: item.insightsRecommendations
              } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
        create: {
          modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
          version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
          status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
          performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
          performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
          performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
          performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
          performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
          performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
          performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
          validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
          deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
          trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
          trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
          trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
          deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
          deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
      parentVersion: item.controlVersion.parentVersion ? 
        typeof item.controlVersion.parentVersion === 'object' && Object.keys(item.controlVersion.parentVersion).length === 1 && Object.keys(item.controlVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.parentVersion.id !== undefined ? item.controlVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.parentVersion.modelName !== undefined ? item.controlVersion.parentVersion.modelName : undefined,
            version: item.controlVersion.parentVersion.version !== undefined ? item.controlVersion.parentVersion.version : undefined,
            status: item.controlVersion.parentVersion.status !== undefined ? item.controlVersion.parentVersion.status : undefined,
            performanceAccuracy: item.controlVersion.parentVersion.performanceAccuracy !== undefined ? item.controlVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.parentVersion.performancePrecision !== undefined ? item.controlVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.parentVersion.performanceRecall !== undefined ? item.controlVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.parentVersion.performanceF1Score !== undefined ? item.controlVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.parentVersion.performanceAuc !== undefined ? item.controlVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? item.controlVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.parentVersion.performanceWinRate !== undefined ? item.controlVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.parentVersion.performanceAvgReturn !== undefined ? item.controlVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? item.controlVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.parentVersion.performanceStabilityScore !== undefined ? item.controlVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? item.controlVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.parentVersion.validationBacktestResults !== undefined ? item.controlVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.parentVersion.validationStatTestResults !== undefined ? item.controlVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.parentVersion.deploymentEnvironment !== undefined ? item.controlVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.parentVersion.trainingStartTime !== undefined ? item.controlVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.parentVersion.trainingEndTime !== undefined ? item.controlVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.parentVersion.trainingDuration !== undefined ? item.controlVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.parentVersion.trainingDatasetSize !== undefined ? item.controlVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.parentVersion.trainingHyperparameters !== undefined ? item.controlVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.parentVersion.deployedAt !== undefined ? item.controlVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.parentVersion.deprecatedAt !== undefined ? item.controlVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      childVersions: item.controlVersion.childVersions ? 
        Array.isArray(item.controlVersion.childVersions) && item.controlVersion.childVersions.length > 0 &&  item.controlVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.controlVersion.artifacts ? 
        Array.isArray(item.controlVersion.artifacts) && item.controlVersion.artifacts.length > 0 &&  item.controlVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.controlVersion.abTestsAsTreatment ? 
        Array.isArray(item.controlVersion.abTestsAsTreatment) && item.controlVersion.abTestsAsTreatment.length > 0 &&  item.controlVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.controlVersion.featureImportanceAnalyses ? 
        Array.isArray(item.controlVersion.featureImportanceAnalyses) && item.controlVersion.featureImportanceAnalyses.length > 0 &&  item.controlVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
      },
      create: {
        name: item.name !== undefined ? item.name : undefined,
        description: item.description !== undefined ? item.description : undefined,
        status: item.status !== undefined ? item.status : undefined,
        trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
        trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
        targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
        successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
        successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
        successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
        successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
        startDate: item.startDate !== undefined ? item.startDate : undefined,
        endDate: item.endDate !== undefined ? item.endDate : undefined,
        resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
        resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
        resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
        resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
        resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
        resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
        metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
        metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
        metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
        metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
        completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
    controlVersion: item.controlVersion ? 
      typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
          id: item.controlVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
        },
        create: {
          modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
          version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
          status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
          performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
          performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
          performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
          performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
          performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
          performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
          performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
          validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
          deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
          trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
          trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
          trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
          deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
          deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
      parentVersion: item.controlVersion.parentVersion ? 
        typeof item.controlVersion.parentVersion === 'object' && Object.keys(item.controlVersion.parentVersion).length === 1 && Object.keys(item.controlVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.parentVersion.id !== undefined ? item.controlVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.parentVersion.modelName !== undefined ? item.controlVersion.parentVersion.modelName : undefined,
            version: item.controlVersion.parentVersion.version !== undefined ? item.controlVersion.parentVersion.version : undefined,
            status: item.controlVersion.parentVersion.status !== undefined ? item.controlVersion.parentVersion.status : undefined,
            performanceAccuracy: item.controlVersion.parentVersion.performanceAccuracy !== undefined ? item.controlVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.parentVersion.performancePrecision !== undefined ? item.controlVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.parentVersion.performanceRecall !== undefined ? item.controlVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.parentVersion.performanceF1Score !== undefined ? item.controlVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.parentVersion.performanceAuc !== undefined ? item.controlVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? item.controlVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.parentVersion.performanceWinRate !== undefined ? item.controlVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.parentVersion.performanceAvgReturn !== undefined ? item.controlVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? item.controlVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.parentVersion.performanceStabilityScore !== undefined ? item.controlVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? item.controlVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.parentVersion.validationBacktestResults !== undefined ? item.controlVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.parentVersion.validationStatTestResults !== undefined ? item.controlVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.parentVersion.deploymentEnvironment !== undefined ? item.controlVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.parentVersion.trainingStartTime !== undefined ? item.controlVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.parentVersion.trainingEndTime !== undefined ? item.controlVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.parentVersion.trainingDuration !== undefined ? item.controlVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.parentVersion.trainingDatasetSize !== undefined ? item.controlVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.parentVersion.trainingHyperparameters !== undefined ? item.controlVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.parentVersion.deployedAt !== undefined ? item.controlVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.parentVersion.deprecatedAt !== undefined ? item.controlVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      childVersions: item.controlVersion.childVersions ? 
        Array.isArray(item.controlVersion.childVersions) && item.controlVersion.childVersions.length > 0 &&  item.controlVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.controlVersion.artifacts ? 
        Array.isArray(item.controlVersion.artifacts) && item.controlVersion.artifacts.length > 0 &&  item.controlVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.controlVersion.abTestsAsTreatment ? 
        Array.isArray(item.controlVersion.abTestsAsTreatment) && item.controlVersion.abTestsAsTreatment.length > 0 &&  item.controlVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.controlVersion.featureImportanceAnalyses ? 
        Array.isArray(item.controlVersion.featureImportanceAnalyses) && item.controlVersion.featureImportanceAnalyses.length > 0 &&  item.controlVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
      },
    }))
  } : undefined,
  featureImportanceAnalyses: props.featureImportanceAnalyses ? 
  Array.isArray(props.featureImportanceAnalyses) && props.featureImportanceAnalyses.length > 0 && props.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
  connect: props.featureImportanceAnalyses.map((item: any) => ({
    id: item.id
  }))
} : { upsert: props.featureImportanceAnalyses.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
        modelVersionId: item.modelVersionId !== undefined ? {
            equals: item.modelVersionId
          } : undefined,
      },
      update: {
        id: item.id !== undefined ? {
            set: item.id
          } : undefined,
        analysisType: item.analysisType !== undefined ? {
            set: item.analysisType
          } : undefined,
        featureImportances: item.featureImportances !== undefined ? {
            set: item.featureImportances
          } : undefined,
        globalImportance: item.globalImportance !== undefined ? {
            set: item.globalImportance
          } : undefined,
        localImportance: item.localImportance !== undefined ? {
            set: item.localImportance
          } : undefined,
        analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
            set: item.analysisMetadataSampleSize
          } : undefined,
        analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
            set: item.analysisMetadataBaselineAccuracy
          } : undefined,
        analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
            set: item.analysisMetadataAnalysisDate
          } : undefined,
        analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
            set: item.analysisMetadataComputationTime
          } : undefined,
        analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
            set: item.analysisMetadataAnalysisParameters
          } : undefined,
        insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
            set: item.insightsTopFeatures
          } : undefined,
        insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
            set: item.insightsRedundantFeatures
          } : undefined,
        insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
            set: item.insightsUnexpectedImportances
          } : undefined,
        insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
            set: item.insightsStabilityScore
          } : undefined,
        insightsRecommendations: item.insightsRecommendations !== undefined ? {
            set: item.insightsRecommendations
          } : undefined,
      },
      create: {
        analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
        featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
        globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
        localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
        analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
        analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
        analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
        analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
        analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
        insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
        insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
        insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
        insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
        insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
      },
    }))
  } : undefined,
      },
        };

        const filteredVariables = removeUndefinedProps(variables);

        const response = await client.mutate({
          mutation: UPDATE_ONE_MODELVERSION,
          variables: filteredVariables,
          // Don't cache mutations, but ensure we're using the freshest context
          fetchPolicy: 'no-cache'
        });

        if (response.errors && response.errors.length > 0) throw new Error(response.errors[0].message);
        if (response && response.data && response.data.updateOneModelVersion) {
          return response.data.updateOneModelVersion;
        } else {
          return null as any;
        }
      } catch (error: any) {
        lastError = error;

        // Check if this is a database connection error that we should retry
        const isConnectionError =
          error.message?.includes('Server has closed the connection') ||
          error.message?.includes('Cannot reach database server') ||
          error.message?.includes('Connection timed out') ||
          error.message?.includes('Accelerate') || // Prisma Accelerate proxy errors
          (error.networkError && error.networkError.message?.includes('Failed to fetch'));

        if (isConnectionError && retryCount < MAX_RETRIES - 1) {
          retryCount++;
          const delay = Math.pow(2, retryCount) * 100; // Exponential backoff: 200ms, 400ms, 800ms
          console.warn("Database connection error, retrying...");
          await new Promise(resolve => setTimeout(resolve, delay));
          continue;
        }

        // Log the error and rethrow
        console.error("Database error occurred:", error);
        throw error;
      }
    }

    // If we exhausted retries, throw the last error
    throw lastError;
  },

  /**
   * Upsert a single ModelVersion record.
   * Enhanced with connection resilience against Prisma connection errors.
   * @param props - Properties to update.
   * @param globalClient - Apollo Client instance.
   * @returns The updated ModelVersion or null.
   */
  async upsert(props: ModelVersionType, globalClient?: ApolloClientType<NormalizedCacheObject>): Promise<ModelVersionType> {
    // Maximum number of retries for database connection issues
    const MAX_RETRIES = 3;
    let retryCount = 0;
    let lastError: any = null;

    // Retry loop to handle potential database connection issues
    while (retryCount < MAX_RETRIES) {
      try {
        const [modules, client] = await Promise.all([
          getApolloModules(),
          globalClient
            ? Promise.resolve(globalClient)
            : importedClient
        ]);

        const { gql, ApolloError } = modules;

        const UPSERT_ONE_MODELVERSION = gql`
          mutation upsertOneModelVersion($where: ModelVersionWhereUniqueInput!, $create: ModelVersionCreateInput!, $update: ModelVersionUpdateInput!) {
            upsertOneModelVersion(where: $where, create: $create, update: $update) {
              ${selectionSet}
            }
          }`;

        const variables = {
          where: {
            id: props.id !== undefined ? props.id : undefined,
      },
          create: {
        modelName: props.modelName !== undefined ? props.modelName : undefined,
  version: props.version !== undefined ? props.version : undefined,
  status: props.status !== undefined ? props.status : undefined,
  performanceAccuracy: props.performanceAccuracy !== undefined ? props.performanceAccuracy : undefined,
  performancePrecision: props.performancePrecision !== undefined ? props.performancePrecision : undefined,
  performanceRecall: props.performanceRecall !== undefined ? props.performanceRecall : undefined,
  performanceF1Score: props.performanceF1Score !== undefined ? props.performanceF1Score : undefined,
  performanceAuc: props.performanceAuc !== undefined ? props.performanceAuc : undefined,
  performanceSharpeRatio: props.performanceSharpeRatio !== undefined ? props.performanceSharpeRatio : undefined,
  performanceMaxDrawdown: props.performanceMaxDrawdown !== undefined ? props.performanceMaxDrawdown : undefined,
  performanceWinRate: props.performanceWinRate !== undefined ? props.performanceWinRate : undefined,
  performanceAvgReturn: props.performanceAvgReturn !== undefined ? props.performanceAvgReturn : undefined,
  performanceCalibrationScore: props.performanceCalibrationScore !== undefined ? props.performanceCalibrationScore : undefined,
  performanceStabilityScore: props.performanceStabilityScore !== undefined ? props.performanceStabilityScore : undefined,
  validationCrossValidationScore: props.validationCrossValidationScore !== undefined ? props.validationCrossValidationScore : undefined,
  validationOutOfSamplePerformance: props.validationOutOfSamplePerformance !== undefined ? props.validationOutOfSamplePerformance : undefined,
  validationBacktestResults: props.validationBacktestResults !== undefined ? props.validationBacktestResults : undefined,
  validationStatTestResults: props.validationStatTestResults !== undefined ? props.validationStatTestResults : undefined,
  deploymentEnvironment: props.deploymentEnvironment !== undefined ? props.deploymentEnvironment : undefined,
  deploymentTrafficAllocation: props.deploymentTrafficAllocation !== undefined ? props.deploymentTrafficAllocation : undefined,
  deploymentRolloutStrategy: props.deploymentRolloutStrategy !== undefined ? props.deploymentRolloutStrategy : undefined,
  deploymentHealthCheckConfig: props.deploymentHealthCheckConfig !== undefined ? props.deploymentHealthCheckConfig : undefined,
  trainingStartTime: props.trainingStartTime !== undefined ? props.trainingStartTime : undefined,
  trainingEndTime: props.trainingEndTime !== undefined ? props.trainingEndTime : undefined,
  trainingDuration: props.trainingDuration !== undefined ? props.trainingDuration : undefined,
  trainingDatasetSize: props.trainingDatasetSize !== undefined ? props.trainingDatasetSize : undefined,
  trainingFeaturesUsed: props.trainingFeaturesUsed !== undefined ? props.trainingFeaturesUsed : undefined,
  trainingHyperparameters: props.trainingHyperparameters !== undefined ? props.trainingHyperparameters : undefined,
  trainingResourcePeakMemoryMB: props.trainingResourcePeakMemoryMB !== undefined ? props.trainingResourcePeakMemoryMB : undefined,
  trainingResourceTotalCpuHours: props.trainingResourceTotalCpuHours !== undefined ? props.trainingResourceTotalCpuHours : undefined,
  trainingResourceGpuHours: props.trainingResourceGpuHours !== undefined ? props.trainingResourceGpuHours : undefined,
  deployedAt: props.deployedAt !== undefined ? props.deployedAt : undefined,
  deprecatedAt: props.deprecatedAt !== undefined ? props.deprecatedAt : undefined,
  parentVersion: props.parentVersion ? 
    typeof props.parentVersion === 'object' && Object.keys(props.parentVersion).length === 1 && Object.keys(props.parentVersion)[0] === 'id'
    ? { connect: {
        id: props.parentVersion.id
        }
      }
    : { connectOrCreate: {
      where: {
        id: props.parentVersion.id !== undefined ? props.parentVersion.id : undefined,
      },
      create: {
        modelName: props.parentVersion.modelName !== undefined ? props.parentVersion.modelName : undefined,
        version: props.parentVersion.version !== undefined ? props.parentVersion.version : undefined,
        status: props.parentVersion.status !== undefined ? props.parentVersion.status : undefined,
        performanceAccuracy: props.parentVersion.performanceAccuracy !== undefined ? props.parentVersion.performanceAccuracy : undefined,
        performancePrecision: props.parentVersion.performancePrecision !== undefined ? props.parentVersion.performancePrecision : undefined,
        performanceRecall: props.parentVersion.performanceRecall !== undefined ? props.parentVersion.performanceRecall : undefined,
        performanceF1Score: props.parentVersion.performanceF1Score !== undefined ? props.parentVersion.performanceF1Score : undefined,
        performanceAuc: props.parentVersion.performanceAuc !== undefined ? props.parentVersion.performanceAuc : undefined,
        performanceSharpeRatio: props.parentVersion.performanceSharpeRatio !== undefined ? props.parentVersion.performanceSharpeRatio : undefined,
        performanceMaxDrawdown: props.parentVersion.performanceMaxDrawdown !== undefined ? props.parentVersion.performanceMaxDrawdown : undefined,
        performanceWinRate: props.parentVersion.performanceWinRate !== undefined ? props.parentVersion.performanceWinRate : undefined,
        performanceAvgReturn: props.parentVersion.performanceAvgReturn !== undefined ? props.parentVersion.performanceAvgReturn : undefined,
        performanceCalibrationScore: props.parentVersion.performanceCalibrationScore !== undefined ? props.parentVersion.performanceCalibrationScore : undefined,
        performanceStabilityScore: props.parentVersion.performanceStabilityScore !== undefined ? props.parentVersion.performanceStabilityScore : undefined,
        validationCrossValidationScore: props.parentVersion.validationCrossValidationScore !== undefined ? props.parentVersion.validationCrossValidationScore : undefined,
        validationOutOfSamplePerformance: props.parentVersion.validationOutOfSamplePerformance !== undefined ? props.parentVersion.validationOutOfSamplePerformance : undefined,
        validationBacktestResults: props.parentVersion.validationBacktestResults !== undefined ? props.parentVersion.validationBacktestResults : undefined,
        validationStatTestResults: props.parentVersion.validationStatTestResults !== undefined ? props.parentVersion.validationStatTestResults : undefined,
        deploymentEnvironment: props.parentVersion.deploymentEnvironment !== undefined ? props.parentVersion.deploymentEnvironment : undefined,
        deploymentTrafficAllocation: props.parentVersion.deploymentTrafficAllocation !== undefined ? props.parentVersion.deploymentTrafficAllocation : undefined,
        deploymentRolloutStrategy: props.parentVersion.deploymentRolloutStrategy !== undefined ? props.parentVersion.deploymentRolloutStrategy : undefined,
        deploymentHealthCheckConfig: props.parentVersion.deploymentHealthCheckConfig !== undefined ? props.parentVersion.deploymentHealthCheckConfig : undefined,
        trainingStartTime: props.parentVersion.trainingStartTime !== undefined ? props.parentVersion.trainingStartTime : undefined,
        trainingEndTime: props.parentVersion.trainingEndTime !== undefined ? props.parentVersion.trainingEndTime : undefined,
        trainingDuration: props.parentVersion.trainingDuration !== undefined ? props.parentVersion.trainingDuration : undefined,
        trainingDatasetSize: props.parentVersion.trainingDatasetSize !== undefined ? props.parentVersion.trainingDatasetSize : undefined,
        trainingFeaturesUsed: props.parentVersion.trainingFeaturesUsed !== undefined ? props.parentVersion.trainingFeaturesUsed : undefined,
        trainingHyperparameters: props.parentVersion.trainingHyperparameters !== undefined ? props.parentVersion.trainingHyperparameters : undefined,
        trainingResourcePeakMemoryMB: props.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.parentVersion.trainingResourcePeakMemoryMB : undefined,
        trainingResourceTotalCpuHours: props.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.parentVersion.trainingResourceTotalCpuHours : undefined,
        trainingResourceGpuHours: props.parentVersion.trainingResourceGpuHours !== undefined ? props.parentVersion.trainingResourceGpuHours : undefined,
        deployedAt: props.parentVersion.deployedAt !== undefined ? props.parentVersion.deployedAt : undefined,
        deprecatedAt: props.parentVersion.deprecatedAt !== undefined ? props.parentVersion.deprecatedAt : undefined,
    parentVersion: props.parentVersion.parentVersion ? 
      typeof props.parentVersion.parentVersion === 'object' && Object.keys(props.parentVersion.parentVersion).length === 1 && Object.keys(props.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
          id: props.parentVersion.parentVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: props.parentVersion.parentVersion.id !== undefined ? props.parentVersion.parentVersion.id : undefined,
        },
        create: {
          modelName: props.parentVersion.parentVersion.modelName !== undefined ? props.parentVersion.parentVersion.modelName : undefined,
          version: props.parentVersion.parentVersion.version !== undefined ? props.parentVersion.parentVersion.version : undefined,
          status: props.parentVersion.parentVersion.status !== undefined ? props.parentVersion.parentVersion.status : undefined,
          performanceAccuracy: props.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.parentVersion.parentVersion.performanceAccuracy : undefined,
          performancePrecision: props.parentVersion.parentVersion.performancePrecision !== undefined ? props.parentVersion.parentVersion.performancePrecision : undefined,
          performanceRecall: props.parentVersion.parentVersion.performanceRecall !== undefined ? props.parentVersion.parentVersion.performanceRecall : undefined,
          performanceF1Score: props.parentVersion.parentVersion.performanceF1Score !== undefined ? props.parentVersion.parentVersion.performanceF1Score : undefined,
          performanceAuc: props.parentVersion.parentVersion.performanceAuc !== undefined ? props.parentVersion.parentVersion.performanceAuc : undefined,
          performanceSharpeRatio: props.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.parentVersion.parentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: props.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: props.parentVersion.parentVersion.performanceWinRate !== undefined ? props.parentVersion.parentVersion.performanceWinRate : undefined,
          performanceAvgReturn: props.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.parentVersion.parentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: props.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.parentVersion.parentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: props.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.parentVersion.parentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: props.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.parentVersion.parentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: props.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: props.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.parentVersion.parentVersion.validationBacktestResults : undefined,
          validationStatTestResults: props.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.parentVersion.parentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: props.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.parentVersion.parentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: props.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: props.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: props.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: props.parentVersion.parentVersion.trainingStartTime !== undefined ? props.parentVersion.parentVersion.trainingStartTime : undefined,
          trainingEndTime: props.parentVersion.parentVersion.trainingEndTime !== undefined ? props.parentVersion.parentVersion.trainingEndTime : undefined,
          trainingDuration: props.parentVersion.parentVersion.trainingDuration !== undefined ? props.parentVersion.parentVersion.trainingDuration : undefined,
          trainingDatasetSize: props.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.parentVersion.parentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: props.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: props.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.parentVersion.parentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: props.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: props.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: props.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
          deployedAt: props.parentVersion.parentVersion.deployedAt !== undefined ? props.parentVersion.parentVersion.deployedAt : undefined,
          deprecatedAt: props.parentVersion.parentVersion.deprecatedAt !== undefined ? props.parentVersion.parentVersion.deprecatedAt : undefined,
      parentVersion: props.parentVersion.parentVersion.parentVersion ? 
        typeof props.parentVersion.parentVersion.parentVersion === 'object' && Object.keys(props.parentVersion.parentVersion.parentVersion).length === 1 && Object.keys(props.parentVersion.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: props.parentVersion.parentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: props.parentVersion.parentVersion.parentVersion.id !== undefined ? props.parentVersion.parentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: props.parentVersion.parentVersion.parentVersion.modelName !== undefined ? props.parentVersion.parentVersion.parentVersion.modelName : undefined,
            version: props.parentVersion.parentVersion.parentVersion.version !== undefined ? props.parentVersion.parentVersion.parentVersion.version : undefined,
            status: props.parentVersion.parentVersion.parentVersion.status !== undefined ? props.parentVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: props.parentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: props.parentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? props.parentVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: props.parentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: props.parentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: props.parentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: props.parentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: props.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: props.parentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: props.parentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: props.parentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: props.parentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: props.parentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.parentVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: props.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: props.parentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.parentVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: props.parentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.parentVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: props.parentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: props.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: props.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: props.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: props.parentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: props.parentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: props.parentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: props.parentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: props.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: props.parentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: props.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: props.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: props.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: props.parentVersion.parentVersion.parentVersion.deployedAt !== undefined ? props.parentVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: props.parentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? props.parentVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: props.parentVersion.parentVersion.artifacts ? 
        Array.isArray(props.parentVersion.parentVersion.artifacts) && props.parentVersion.parentVersion.artifacts.length > 0 &&  props.parentVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.parentVersion.parentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.parentVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: props.parentVersion.parentVersion.abTestsAsControl ? 
        Array.isArray(props.parentVersion.parentVersion.abTestsAsControl) && props.parentVersion.parentVersion.abTestsAsControl.length > 0 &&  props.parentVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.parentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.parentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: props.parentVersion.parentVersion.abTestsAsTreatment ? 
        Array.isArray(props.parentVersion.parentVersion.abTestsAsTreatment) && props.parentVersion.parentVersion.abTestsAsTreatment.length > 0 &&  props.parentVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.parentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.parentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: props.parentVersion.parentVersion.featureImportanceAnalyses ? 
        Array.isArray(props.parentVersion.parentVersion.featureImportanceAnalyses) && props.parentVersion.parentVersion.featureImportanceAnalyses.length > 0 &&  props.parentVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.parentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.parentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
    artifacts: props.parentVersion.artifacts ? 
      Array.isArray(props.parentVersion.artifacts) && props.parentVersion.artifacts.length > 0 &&  props.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.parentVersion.artifacts.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.parentVersion.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId 
             } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsControl: props.parentVersion.abTestsAsControl ? 
      Array.isArray(props.parentVersion.abTestsAsControl) && props.parentVersion.abTestsAsControl.length > 0 &&  props.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.parentVersion.abTestsAsControl.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.parentVersion.abTestsAsControl.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      treatmentVersion: item.treatmentVersion ? 
        typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsTreatment: props.parentVersion.abTestsAsTreatment ? 
      Array.isArray(props.parentVersion.abTestsAsTreatment) && props.parentVersion.abTestsAsTreatment.length > 0 &&  props.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.parentVersion.abTestsAsTreatment.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.parentVersion.abTestsAsTreatment.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      controlVersion: item.controlVersion ? 
        typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: props.parentVersion.featureImportanceAnalyses ? 
      Array.isArray(props.parentVersion.featureImportanceAnalyses) && props.parentVersion.featureImportanceAnalyses.length > 0 &&  props.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.parentVersion.featureImportanceAnalyses.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.parentVersion.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
    }
  } : undefined,
  childVersions: props.childVersions ? 
    Array.isArray(props.childVersions) && props.childVersions.length > 0 &&  props.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
      connect:    props.childVersions.map((item: any) => ({
         id: item.id
      }))
 }
 : { connectOrCreate: props.childVersions.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
      },
      create: {
        modelName: item.modelName !== undefined ? item.modelName : undefined,
        version: item.version !== undefined ? item.version : undefined,
        status: item.status !== undefined ? item.status : undefined,
        performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
        performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
        performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
        performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
        performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
        performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
        performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
        performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
        performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
        performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
        performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
        validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
        validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
        validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
        validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
        deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
        deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
        deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
        deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
        trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
        trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
        trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
        trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
        trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
        trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
        trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
        trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
        trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
        deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
        deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
    childVersions: item.childVersions ? 
      Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.childVersions.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
        },
        create: {
          modelName: item.modelName !== undefined ? item.modelName : undefined,
          version: item.version !== undefined ? item.version : undefined,
          status: item.status !== undefined ? item.status : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
          performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
          performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
          performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
          trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
          deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
      childVersions: item.childVersions ? 
        Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
        Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
        Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
        Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
        Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }))
    } : undefined,
    artifacts: item.artifacts ? 
      Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.artifacts.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId 
             } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsControl: item.abTestsAsControl ? 
      Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.abTestsAsControl.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      treatmentVersion: item.treatmentVersion ? 
        typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsTreatment: item.abTestsAsTreatment ? 
      Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.abTestsAsTreatment.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      controlVersion: item.controlVersion ? 
        typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: item.featureImportanceAnalyses ? 
      Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.featureImportanceAnalyses.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
    }))
  } : undefined,
  artifacts: props.artifacts ? 
    Array.isArray(props.artifacts) && props.artifacts.length > 0 &&  props.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
      connect:    props.artifacts.map((item: any) => ({
         id: item.id
      }))
 }
 : { connectOrCreate: props.artifacts.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
        modelVersionId: item.modelVersionId !== undefined ? {
            equals: item.modelVersionId 
           } : undefined,
        modelArtifactId: item.modelArtifactId !== undefined ? {
            equals: item.modelArtifactId 
           } : undefined,
      },
      create: {
    modelArtifact: item.modelArtifact ? 
      typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
          id: item.modelArtifact.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
        },
        create: {
          modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
          version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
          artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
          storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
          storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
          checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
          compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
          metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
          metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
          metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
          metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
          metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
          metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
        },
      }
    } : undefined,
      },
    }))
  } : undefined,
  abTestsAsControl: props.abTestsAsControl ? 
    Array.isArray(props.abTestsAsControl) && props.abTestsAsControl.length > 0 &&  props.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
      connect:    props.abTestsAsControl.map((item: any) => ({
         id: item.id
      }))
 }
 : { connectOrCreate: props.abTestsAsControl.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
        name: item.name !== undefined ? {
            equals: item.name 
           } : undefined,
        modelVersionAId: item.modelVersionAId !== undefined ? {
            equals: item.modelVersionAId 
           } : undefined,
        modelVersionBId: item.modelVersionBId !== undefined ? {
            equals: item.modelVersionBId 
           } : undefined,
      },
      create: {
        name: item.name !== undefined ? item.name : undefined,
        description: item.description !== undefined ? item.description : undefined,
        status: item.status !== undefined ? item.status : undefined,
        trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
        trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
        targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
        successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
        successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
        successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
        successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
        startDate: item.startDate !== undefined ? item.startDate : undefined,
        endDate: item.endDate !== undefined ? item.endDate : undefined,
        resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
        resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
        resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
        resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
        resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
        resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
        metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
        metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
        metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
        metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
        completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
    treatmentVersion: item.treatmentVersion ? 
      typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
          id: item.treatmentVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
        },
        create: {
          modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
          version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
          status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
          performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
          performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
          performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
          performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
          performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
          performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
          performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
          validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
          trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
          trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
          trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
          deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
          deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
      parentVersion: item.treatmentVersion.parentVersion ? 
        typeof item.treatmentVersion.parentVersion === 'object' && Object.keys(item.treatmentVersion.parentVersion).length === 1 && Object.keys(item.treatmentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.parentVersion.id !== undefined ? item.treatmentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.parentVersion.modelName !== undefined ? item.treatmentVersion.parentVersion.modelName : undefined,
            version: item.treatmentVersion.parentVersion.version !== undefined ? item.treatmentVersion.parentVersion.version : undefined,
            status: item.treatmentVersion.parentVersion.status !== undefined ? item.treatmentVersion.parentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.parentVersion.performancePrecision !== undefined ? item.treatmentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.parentVersion.performanceRecall !== undefined ? item.treatmentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.parentVersion.performanceF1Score !== undefined ? item.treatmentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.parentVersion.performanceAuc !== undefined ? item.treatmentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.parentVersion.performanceWinRate !== undefined ? item.treatmentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.parentVersion.trainingStartTime !== undefined ? item.treatmentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.parentVersion.trainingEndTime !== undefined ? item.treatmentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.parentVersion.trainingDuration !== undefined ? item.treatmentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.parentVersion.deployedAt !== undefined ? item.treatmentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.parentVersion.deprecatedAt !== undefined ? item.treatmentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      childVersions: item.treatmentVersion.childVersions ? 
        Array.isArray(item.treatmentVersion.childVersions) && item.treatmentVersion.childVersions.length > 0 &&  item.treatmentVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.treatmentVersion.artifacts ? 
        Array.isArray(item.treatmentVersion.artifacts) && item.treatmentVersion.artifacts.length > 0 &&  item.treatmentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.treatmentVersion.abTestsAsControl ? 
        Array.isArray(item.treatmentVersion.abTestsAsControl) && item.treatmentVersion.abTestsAsControl.length > 0 &&  item.treatmentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.treatmentVersion.featureImportanceAnalyses ? 
        Array.isArray(item.treatmentVersion.featureImportanceAnalyses) && item.treatmentVersion.featureImportanceAnalyses.length > 0 &&  item.treatmentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
      },
    }))
  } : undefined,
  abTestsAsTreatment: props.abTestsAsTreatment ? 
    Array.isArray(props.abTestsAsTreatment) && props.abTestsAsTreatment.length > 0 &&  props.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
      connect:    props.abTestsAsTreatment.map((item: any) => ({
         id: item.id
      }))
 }
 : { connectOrCreate: props.abTestsAsTreatment.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
        name: item.name !== undefined ? {
            equals: item.name 
           } : undefined,
        modelVersionAId: item.modelVersionAId !== undefined ? {
            equals: item.modelVersionAId 
           } : undefined,
        modelVersionBId: item.modelVersionBId !== undefined ? {
            equals: item.modelVersionBId 
           } : undefined,
      },
      create: {
        name: item.name !== undefined ? item.name : undefined,
        description: item.description !== undefined ? item.description : undefined,
        status: item.status !== undefined ? item.status : undefined,
        trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
        trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
        targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
        successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
        successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
        successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
        successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
        startDate: item.startDate !== undefined ? item.startDate : undefined,
        endDate: item.endDate !== undefined ? item.endDate : undefined,
        resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
        resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
        resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
        resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
        resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
        resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
        metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
        metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
        metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
        metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
        completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
    controlVersion: item.controlVersion ? 
      typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
          id: item.controlVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
        },
        create: {
          modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
          version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
          status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
          performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
          performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
          performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
          performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
          performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
          performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
          performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
          validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
          deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
          trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
          trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
          trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
          deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
          deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
      parentVersion: item.controlVersion.parentVersion ? 
        typeof item.controlVersion.parentVersion === 'object' && Object.keys(item.controlVersion.parentVersion).length === 1 && Object.keys(item.controlVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.parentVersion.id !== undefined ? item.controlVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.parentVersion.modelName !== undefined ? item.controlVersion.parentVersion.modelName : undefined,
            version: item.controlVersion.parentVersion.version !== undefined ? item.controlVersion.parentVersion.version : undefined,
            status: item.controlVersion.parentVersion.status !== undefined ? item.controlVersion.parentVersion.status : undefined,
            performanceAccuracy: item.controlVersion.parentVersion.performanceAccuracy !== undefined ? item.controlVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.parentVersion.performancePrecision !== undefined ? item.controlVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.parentVersion.performanceRecall !== undefined ? item.controlVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.parentVersion.performanceF1Score !== undefined ? item.controlVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.parentVersion.performanceAuc !== undefined ? item.controlVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? item.controlVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.parentVersion.performanceWinRate !== undefined ? item.controlVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.parentVersion.performanceAvgReturn !== undefined ? item.controlVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? item.controlVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.parentVersion.performanceStabilityScore !== undefined ? item.controlVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? item.controlVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.parentVersion.validationBacktestResults !== undefined ? item.controlVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.parentVersion.validationStatTestResults !== undefined ? item.controlVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.parentVersion.deploymentEnvironment !== undefined ? item.controlVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.parentVersion.trainingStartTime !== undefined ? item.controlVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.parentVersion.trainingEndTime !== undefined ? item.controlVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.parentVersion.trainingDuration !== undefined ? item.controlVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.parentVersion.trainingDatasetSize !== undefined ? item.controlVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.parentVersion.trainingHyperparameters !== undefined ? item.controlVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.parentVersion.deployedAt !== undefined ? item.controlVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.parentVersion.deprecatedAt !== undefined ? item.controlVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      childVersions: item.controlVersion.childVersions ? 
        Array.isArray(item.controlVersion.childVersions) && item.controlVersion.childVersions.length > 0 &&  item.controlVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.controlVersion.artifacts ? 
        Array.isArray(item.controlVersion.artifacts) && item.controlVersion.artifacts.length > 0 &&  item.controlVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.controlVersion.abTestsAsTreatment ? 
        Array.isArray(item.controlVersion.abTestsAsTreatment) && item.controlVersion.abTestsAsTreatment.length > 0 &&  item.controlVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.controlVersion.featureImportanceAnalyses ? 
        Array.isArray(item.controlVersion.featureImportanceAnalyses) && item.controlVersion.featureImportanceAnalyses.length > 0 &&  item.controlVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
      },
    }))
  } : undefined,
  featureImportanceAnalyses: props.featureImportanceAnalyses ? 
    Array.isArray(props.featureImportanceAnalyses) && props.featureImportanceAnalyses.length > 0 &&  props.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
      connect:    props.featureImportanceAnalyses.map((item: any) => ({
         id: item.id
      }))
 }
 : { connectOrCreate: props.featureImportanceAnalyses.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
        modelVersionId: item.modelVersionId !== undefined ? {
            equals: item.modelVersionId 
           } : undefined,
      },
      create: {
        analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
        featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
        globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
        localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
        analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
        analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
        analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
        analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
        analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
        insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
        insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
        insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
        insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
        insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
      },
    }))
  } : undefined,
      },
          update: {
      modelName: props.modelName !== undefined ? {
            set: props.modelName 
           } : undefined,
  version: props.version !== undefined ? {
            set: props.version 
           } : undefined,
  status: props.status !== undefined ? {
            set: props.status 
           } : undefined,
  performanceAccuracy: props.performanceAccuracy !== undefined ? {
            set: props.performanceAccuracy 
           } : undefined,
  performancePrecision: props.performancePrecision !== undefined ? {
            set: props.performancePrecision 
           } : undefined,
  performanceRecall: props.performanceRecall !== undefined ? {
            set: props.performanceRecall 
           } : undefined,
  performanceF1Score: props.performanceF1Score !== undefined ? {
            set: props.performanceF1Score 
           } : undefined,
  performanceAuc: props.performanceAuc !== undefined ? {
            set: props.performanceAuc 
           } : undefined,
  performanceSharpeRatio: props.performanceSharpeRatio !== undefined ? {
            set: props.performanceSharpeRatio 
           } : undefined,
  performanceMaxDrawdown: props.performanceMaxDrawdown !== undefined ? {
            set: props.performanceMaxDrawdown 
           } : undefined,
  performanceWinRate: props.performanceWinRate !== undefined ? {
            set: props.performanceWinRate 
           } : undefined,
  performanceAvgReturn: props.performanceAvgReturn !== undefined ? {
            set: props.performanceAvgReturn 
           } : undefined,
  performanceCalibrationScore: props.performanceCalibrationScore !== undefined ? {
            set: props.performanceCalibrationScore 
           } : undefined,
  performanceStabilityScore: props.performanceStabilityScore !== undefined ? {
            set: props.performanceStabilityScore 
           } : undefined,
  validationCrossValidationScore: props.validationCrossValidationScore !== undefined ? {
            set: props.validationCrossValidationScore 
           } : undefined,
  validationOutOfSamplePerformance: props.validationOutOfSamplePerformance !== undefined ? {
            set: props.validationOutOfSamplePerformance 
           } : undefined,
  validationBacktestResults: props.validationBacktestResults !== undefined ? {
            set: props.validationBacktestResults 
           } : undefined,
  validationStatTestResults: props.validationStatTestResults !== undefined ? {
            set: props.validationStatTestResults 
           } : undefined,
  deploymentEnvironment: props.deploymentEnvironment !== undefined ? {
            set: props.deploymentEnvironment 
           } : undefined,
  deploymentTrafficAllocation: props.deploymentTrafficAllocation !== undefined ? {
            set: props.deploymentTrafficAllocation 
           } : undefined,
  deploymentRolloutStrategy: props.deploymentRolloutStrategy !== undefined ? {
            set: props.deploymentRolloutStrategy 
           } : undefined,
  deploymentHealthCheckConfig: props.deploymentHealthCheckConfig !== undefined ? {
            set: props.deploymentHealthCheckConfig 
           } : undefined,
  trainingStartTime: props.trainingStartTime !== undefined ? {
            set: props.trainingStartTime 
           } : undefined,
  trainingEndTime: props.trainingEndTime !== undefined ? {
            set: props.trainingEndTime 
           } : undefined,
  trainingDuration: props.trainingDuration !== undefined ? {
            set: props.trainingDuration 
           } : undefined,
  trainingDatasetSize: props.trainingDatasetSize !== undefined ? {
            set: props.trainingDatasetSize 
           } : undefined,
  trainingFeaturesUsed: props.trainingFeaturesUsed !== undefined ? {
            set: props.trainingFeaturesUsed 
           } : undefined,
  trainingHyperparameters: props.trainingHyperparameters !== undefined ? {
            set: props.trainingHyperparameters 
           } : undefined,
  trainingResourcePeakMemoryMB: props.trainingResourcePeakMemoryMB !== undefined ? {
            set: props.trainingResourcePeakMemoryMB 
           } : undefined,
  trainingResourceTotalCpuHours: props.trainingResourceTotalCpuHours !== undefined ? {
            set: props.trainingResourceTotalCpuHours 
           } : undefined,
  trainingResourceGpuHours: props.trainingResourceGpuHours !== undefined ? {
            set: props.trainingResourceGpuHours 
           } : undefined,
  deployedAt: props.deployedAt !== undefined ? {
            set: props.deployedAt 
           } : undefined,
  deprecatedAt: props.deprecatedAt !== undefined ? {
            set: props.deprecatedAt 
           } : undefined,
  parentVersion: props.parentVersion ? 
  typeof props.parentVersion === 'object' && Object.keys(props.parentVersion).length === 1 && (Object.keys(props.parentVersion)[0] === 'id' || Object.keys(props.parentVersion)[0] === 'symbol')
? {
  connect: {
    id: props.parentVersion.id
  }
} : { upsert: {
      where: {
        id: props.parentVersion.id !== undefined ? {
            equals: props.parentVersion.id
          } : undefined,
        parentVersionId: props.parentVersion.parentVersionId !== undefined ? {
            equals: props.parentVersion.parentVersionId
          } : undefined,
      },
      update: {
        id: props.parentVersion.id !== undefined ? {
            set: props.parentVersion.id
          } : undefined,
        modelName: props.parentVersion.modelName !== undefined ? {
            set: props.parentVersion.modelName
          } : undefined,
        version: props.parentVersion.version !== undefined ? {
            set: props.parentVersion.version
          } : undefined,
        status: props.parentVersion.status !== undefined ? {
            set: props.parentVersion.status
          } : undefined,
        performanceAccuracy: props.parentVersion.performanceAccuracy !== undefined ? {
            set: props.parentVersion.performanceAccuracy
          } : undefined,
        performancePrecision: props.parentVersion.performancePrecision !== undefined ? {
            set: props.parentVersion.performancePrecision
          } : undefined,
        performanceRecall: props.parentVersion.performanceRecall !== undefined ? {
            set: props.parentVersion.performanceRecall
          } : undefined,
        performanceF1Score: props.parentVersion.performanceF1Score !== undefined ? {
            set: props.parentVersion.performanceF1Score
          } : undefined,
        performanceAuc: props.parentVersion.performanceAuc !== undefined ? {
            set: props.parentVersion.performanceAuc
          } : undefined,
        performanceSharpeRatio: props.parentVersion.performanceSharpeRatio !== undefined ? {
            set: props.parentVersion.performanceSharpeRatio
          } : undefined,
        performanceMaxDrawdown: props.parentVersion.performanceMaxDrawdown !== undefined ? {
            set: props.parentVersion.performanceMaxDrawdown
          } : undefined,
        performanceWinRate: props.parentVersion.performanceWinRate !== undefined ? {
            set: props.parentVersion.performanceWinRate
          } : undefined,
        performanceAvgReturn: props.parentVersion.performanceAvgReturn !== undefined ? {
            set: props.parentVersion.performanceAvgReturn
          } : undefined,
        performanceCalibrationScore: props.parentVersion.performanceCalibrationScore !== undefined ? {
            set: props.parentVersion.performanceCalibrationScore
          } : undefined,
        performanceStabilityScore: props.parentVersion.performanceStabilityScore !== undefined ? {
            set: props.parentVersion.performanceStabilityScore
          } : undefined,
        validationCrossValidationScore: props.parentVersion.validationCrossValidationScore !== undefined ? {
            set: props.parentVersion.validationCrossValidationScore
          } : undefined,
        validationOutOfSamplePerformance: props.parentVersion.validationOutOfSamplePerformance !== undefined ? {
            set: props.parentVersion.validationOutOfSamplePerformance
          } : undefined,
        validationBacktestResults: props.parentVersion.validationBacktestResults !== undefined ? {
            set: props.parentVersion.validationBacktestResults
          } : undefined,
        validationStatTestResults: props.parentVersion.validationStatTestResults !== undefined ? {
            set: props.parentVersion.validationStatTestResults
          } : undefined,
        deploymentEnvironment: props.parentVersion.deploymentEnvironment !== undefined ? {
            set: props.parentVersion.deploymentEnvironment
          } : undefined,
        deploymentTrafficAllocation: props.parentVersion.deploymentTrafficAllocation !== undefined ? {
            set: props.parentVersion.deploymentTrafficAllocation
          } : undefined,
        deploymentRolloutStrategy: props.parentVersion.deploymentRolloutStrategy !== undefined ? {
            set: props.parentVersion.deploymentRolloutStrategy
          } : undefined,
        deploymentHealthCheckConfig: props.parentVersion.deploymentHealthCheckConfig !== undefined ? {
            set: props.parentVersion.deploymentHealthCheckConfig
          } : undefined,
        trainingStartTime: props.parentVersion.trainingStartTime !== undefined ? {
            set: props.parentVersion.trainingStartTime
          } : undefined,
        trainingEndTime: props.parentVersion.trainingEndTime !== undefined ? {
            set: props.parentVersion.trainingEndTime
          } : undefined,
        trainingDuration: props.parentVersion.trainingDuration !== undefined ? {
            set: props.parentVersion.trainingDuration
          } : undefined,
        trainingDatasetSize: props.parentVersion.trainingDatasetSize !== undefined ? {
            set: props.parentVersion.trainingDatasetSize
          } : undefined,
        trainingFeaturesUsed: props.parentVersion.trainingFeaturesUsed !== undefined ? {
            set: props.parentVersion.trainingFeaturesUsed
          } : undefined,
        trainingHyperparameters: props.parentVersion.trainingHyperparameters !== undefined ? {
            set: props.parentVersion.trainingHyperparameters
          } : undefined,
        trainingResourcePeakMemoryMB: props.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
            set: props.parentVersion.trainingResourcePeakMemoryMB
          } : undefined,
        trainingResourceTotalCpuHours: props.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
            set: props.parentVersion.trainingResourceTotalCpuHours
          } : undefined,
        trainingResourceGpuHours: props.parentVersion.trainingResourceGpuHours !== undefined ? {
            set: props.parentVersion.trainingResourceGpuHours
          } : undefined,
        deployedAt: props.parentVersion.deployedAt !== undefined ? {
            set: props.parentVersion.deployedAt
          } : undefined,
        deprecatedAt: props.parentVersion.deprecatedAt !== undefined ? {
            set: props.parentVersion.deprecatedAt
          } : undefined,
    parentVersion: props.parentVersion.parentVersion ? 
    typeof props.parentVersion.parentVersion === 'object' && Object.keys(props.parentVersion.parentVersion).length === 1 && (Object.keys(props.parentVersion.parentVersion)[0] === 'id' || Object.keys(props.parentVersion.parentVersion)[0] === 'symbol')
? {
    connect: {
      id: props.parentVersion.parentVersion.id
    }
} : { upsert: {
        where: {
          id: props.parentVersion.parentVersion.id !== undefined ? {
              equals: props.parentVersion.parentVersion.id
            } : undefined,
          parentVersionId: props.parentVersion.parentVersion.parentVersionId !== undefined ? {
              equals: props.parentVersion.parentVersion.parentVersionId
            } : undefined,
        },
        update: {
          id: props.parentVersion.parentVersion.id !== undefined ? {
              set: props.parentVersion.parentVersion.id
            } : undefined,
          modelName: props.parentVersion.parentVersion.modelName !== undefined ? {
              set: props.parentVersion.parentVersion.modelName
            } : undefined,
          version: props.parentVersion.parentVersion.version !== undefined ? {
              set: props.parentVersion.parentVersion.version
            } : undefined,
          status: props.parentVersion.parentVersion.status !== undefined ? {
              set: props.parentVersion.parentVersion.status
            } : undefined,
          performanceAccuracy: props.parentVersion.parentVersion.performanceAccuracy !== undefined ? {
              set: props.parentVersion.parentVersion.performanceAccuracy
            } : undefined,
          performancePrecision: props.parentVersion.parentVersion.performancePrecision !== undefined ? {
              set: props.parentVersion.parentVersion.performancePrecision
            } : undefined,
          performanceRecall: props.parentVersion.parentVersion.performanceRecall !== undefined ? {
              set: props.parentVersion.parentVersion.performanceRecall
            } : undefined,
          performanceF1Score: props.parentVersion.parentVersion.performanceF1Score !== undefined ? {
              set: props.parentVersion.parentVersion.performanceF1Score
            } : undefined,
          performanceAuc: props.parentVersion.parentVersion.performanceAuc !== undefined ? {
              set: props.parentVersion.parentVersion.performanceAuc
            } : undefined,
          performanceSharpeRatio: props.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? {
              set: props.parentVersion.parentVersion.performanceSharpeRatio
            } : undefined,
          performanceMaxDrawdown: props.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? {
              set: props.parentVersion.parentVersion.performanceMaxDrawdown
            } : undefined,
          performanceWinRate: props.parentVersion.parentVersion.performanceWinRate !== undefined ? {
              set: props.parentVersion.parentVersion.performanceWinRate
            } : undefined,
          performanceAvgReturn: props.parentVersion.parentVersion.performanceAvgReturn !== undefined ? {
              set: props.parentVersion.parentVersion.performanceAvgReturn
            } : undefined,
          performanceCalibrationScore: props.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? {
              set: props.parentVersion.parentVersion.performanceCalibrationScore
            } : undefined,
          performanceStabilityScore: props.parentVersion.parentVersion.performanceStabilityScore !== undefined ? {
              set: props.parentVersion.parentVersion.performanceStabilityScore
            } : undefined,
          validationCrossValidationScore: props.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? {
              set: props.parentVersion.parentVersion.validationCrossValidationScore
            } : undefined,
          validationOutOfSamplePerformance: props.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? {
              set: props.parentVersion.parentVersion.validationOutOfSamplePerformance
            } : undefined,
          validationBacktestResults: props.parentVersion.parentVersion.validationBacktestResults !== undefined ? {
              set: props.parentVersion.parentVersion.validationBacktestResults
            } : undefined,
          validationStatTestResults: props.parentVersion.parentVersion.validationStatTestResults !== undefined ? {
              set: props.parentVersion.parentVersion.validationStatTestResults
            } : undefined,
          deploymentEnvironment: props.parentVersion.parentVersion.deploymentEnvironment !== undefined ? {
              set: props.parentVersion.parentVersion.deploymentEnvironment
            } : undefined,
          deploymentTrafficAllocation: props.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? {
              set: props.parentVersion.parentVersion.deploymentTrafficAllocation
            } : undefined,
          deploymentRolloutStrategy: props.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? {
              set: props.parentVersion.parentVersion.deploymentRolloutStrategy
            } : undefined,
          deploymentHealthCheckConfig: props.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? {
              set: props.parentVersion.parentVersion.deploymentHealthCheckConfig
            } : undefined,
          trainingStartTime: props.parentVersion.parentVersion.trainingStartTime !== undefined ? {
              set: props.parentVersion.parentVersion.trainingStartTime
            } : undefined,
          trainingEndTime: props.parentVersion.parentVersion.trainingEndTime !== undefined ? {
              set: props.parentVersion.parentVersion.trainingEndTime
            } : undefined,
          trainingDuration: props.parentVersion.parentVersion.trainingDuration !== undefined ? {
              set: props.parentVersion.parentVersion.trainingDuration
            } : undefined,
          trainingDatasetSize: props.parentVersion.parentVersion.trainingDatasetSize !== undefined ? {
              set: props.parentVersion.parentVersion.trainingDatasetSize
            } : undefined,
          trainingFeaturesUsed: props.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? {
              set: props.parentVersion.parentVersion.trainingFeaturesUsed
            } : undefined,
          trainingHyperparameters: props.parentVersion.parentVersion.trainingHyperparameters !== undefined ? {
              set: props.parentVersion.parentVersion.trainingHyperparameters
            } : undefined,
          trainingResourcePeakMemoryMB: props.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
              set: props.parentVersion.parentVersion.trainingResourcePeakMemoryMB
            } : undefined,
          trainingResourceTotalCpuHours: props.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
              set: props.parentVersion.parentVersion.trainingResourceTotalCpuHours
            } : undefined,
          trainingResourceGpuHours: props.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? {
              set: props.parentVersion.parentVersion.trainingResourceGpuHours
            } : undefined,
          deployedAt: props.parentVersion.parentVersion.deployedAt !== undefined ? {
              set: props.parentVersion.parentVersion.deployedAt
            } : undefined,
          deprecatedAt: props.parentVersion.parentVersion.deprecatedAt !== undefined ? {
              set: props.parentVersion.parentVersion.deprecatedAt
            } : undefined,
      parentVersion: props.parentVersion.parentVersion.parentVersion ? 
      typeof props.parentVersion.parentVersion.parentVersion === 'object' && Object.keys(props.parentVersion.parentVersion.parentVersion).length === 1 && (Object.keys(props.parentVersion.parentVersion.parentVersion)[0] === 'id' || Object.keys(props.parentVersion.parentVersion.parentVersion)[0] === 'symbol')
? {
      connect: {
        id: props.parentVersion.parentVersion.parentVersion.id
      }
} : { upsert: {
          where: {
            id: props.parentVersion.parentVersion.parentVersion.id !== undefined ? {
                equals: props.parentVersion.parentVersion.parentVersion.id
              } : undefined,
            parentVersionId: props.parentVersion.parentVersion.parentVersion.parentVersionId !== undefined ? {
                equals: props.parentVersion.parentVersion.parentVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: props.parentVersion.parentVersion.parentVersion.id !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.id
              } : undefined,
            modelName: props.parentVersion.parentVersion.parentVersion.modelName !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.modelName
              } : undefined,
            version: props.parentVersion.parentVersion.parentVersion.version !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.version
              } : undefined,
            status: props.parentVersion.parentVersion.parentVersion.status !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.status
              } : undefined,
            performanceAccuracy: props.parentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.performanceAccuracy
              } : undefined,
            performancePrecision: props.parentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.performancePrecision
              } : undefined,
            performanceRecall: props.parentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.performanceRecall
              } : undefined,
            performanceF1Score: props.parentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.performanceF1Score
              } : undefined,
            performanceAuc: props.parentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: props.parentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: props.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: props.parentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: props.parentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: props.parentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: props.parentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: props.parentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: props.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: props.parentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: props.parentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: props.parentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: props.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: props.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: props.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: props.parentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.trainingStartTime
              } : undefined,
            trainingEndTime: props.parentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.trainingEndTime
              } : undefined,
            trainingDuration: props.parentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: props.parentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: props.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: props.parentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: props.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: props.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: props.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: props.parentVersion.parentVersion.parentVersion.deployedAt !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.deployedAt
              } : undefined,
            deprecatedAt: props.parentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? {
                set: props.parentVersion.parentVersion.parentVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: props.parentVersion.parentVersion.parentVersion.modelName !== undefined ? props.parentVersion.parentVersion.parentVersion.modelName : undefined,
            version: props.parentVersion.parentVersion.parentVersion.version !== undefined ? props.parentVersion.parentVersion.parentVersion.version : undefined,
            status: props.parentVersion.parentVersion.parentVersion.status !== undefined ? props.parentVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: props.parentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: props.parentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? props.parentVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: props.parentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: props.parentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: props.parentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: props.parentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: props.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: props.parentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: props.parentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: props.parentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: props.parentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: props.parentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.parentVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: props.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: props.parentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.parentVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: props.parentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.parentVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: props.parentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: props.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: props.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: props.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: props.parentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: props.parentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: props.parentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: props.parentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: props.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: props.parentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: props.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: props.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: props.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: props.parentVersion.parentVersion.parentVersion.deployedAt !== undefined ? props.parentVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: props.parentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? props.parentVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: props.parentVersion.parentVersion.artifacts ? 
      Array.isArray(props.parentVersion.parentVersion.artifacts) && props.parentVersion.parentVersion.artifacts.length > 0 && props.parentVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: props.parentVersion.parentVersion.artifacts.map((item: any) => ({
        id: item.id
      }))
} : { upsert: props.parentVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: props.parentVersion.parentVersion.abTestsAsControl ? 
      Array.isArray(props.parentVersion.parentVersion.abTestsAsControl) && props.parentVersion.parentVersion.abTestsAsControl.length > 0 && props.parentVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: props.parentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
        id: item.id
      }))
} : { upsert: props.parentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: props.parentVersion.parentVersion.abTestsAsTreatment ? 
      Array.isArray(props.parentVersion.parentVersion.abTestsAsTreatment) && props.parentVersion.parentVersion.abTestsAsTreatment.length > 0 && props.parentVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: props.parentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
        id: item.id
      }))
} : { upsert: props.parentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: props.parentVersion.parentVersion.featureImportanceAnalyses ? 
      Array.isArray(props.parentVersion.parentVersion.featureImportanceAnalyses) && props.parentVersion.parentVersion.featureImportanceAnalyses.length > 0 && props.parentVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: props.parentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
        id: item.id
      }))
} : { upsert: props.parentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            analysisType: item.analysisType !== undefined ? {
                set: item.analysisType
              } : undefined,
            featureImportances: item.featureImportances !== undefined ? {
                set: item.featureImportances
              } : undefined,
            globalImportance: item.globalImportance !== undefined ? {
                set: item.globalImportance
              } : undefined,
            localImportance: item.localImportance !== undefined ? {
                set: item.localImportance
              } : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
                set: item.analysisMetadataSampleSize
              } : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
                set: item.analysisMetadataBaselineAccuracy
              } : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
                set: item.analysisMetadataAnalysisDate
              } : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
                set: item.analysisMetadataComputationTime
              } : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
                set: item.analysisMetadataAnalysisParameters
              } : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
                set: item.insightsTopFeatures
              } : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
                set: item.insightsRedundantFeatures
              } : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
                set: item.insightsUnexpectedImportances
              } : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
                set: item.insightsStabilityScore
              } : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? {
                set: item.insightsRecommendations
              } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
        create: {
          modelName: props.parentVersion.parentVersion.modelName !== undefined ? props.parentVersion.parentVersion.modelName : undefined,
          version: props.parentVersion.parentVersion.version !== undefined ? props.parentVersion.parentVersion.version : undefined,
          status: props.parentVersion.parentVersion.status !== undefined ? props.parentVersion.parentVersion.status : undefined,
          performanceAccuracy: props.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.parentVersion.parentVersion.performanceAccuracy : undefined,
          performancePrecision: props.parentVersion.parentVersion.performancePrecision !== undefined ? props.parentVersion.parentVersion.performancePrecision : undefined,
          performanceRecall: props.parentVersion.parentVersion.performanceRecall !== undefined ? props.parentVersion.parentVersion.performanceRecall : undefined,
          performanceF1Score: props.parentVersion.parentVersion.performanceF1Score !== undefined ? props.parentVersion.parentVersion.performanceF1Score : undefined,
          performanceAuc: props.parentVersion.parentVersion.performanceAuc !== undefined ? props.parentVersion.parentVersion.performanceAuc : undefined,
          performanceSharpeRatio: props.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.parentVersion.parentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: props.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: props.parentVersion.parentVersion.performanceWinRate !== undefined ? props.parentVersion.parentVersion.performanceWinRate : undefined,
          performanceAvgReturn: props.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.parentVersion.parentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: props.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.parentVersion.parentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: props.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.parentVersion.parentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: props.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.parentVersion.parentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: props.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: props.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.parentVersion.parentVersion.validationBacktestResults : undefined,
          validationStatTestResults: props.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.parentVersion.parentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: props.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.parentVersion.parentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: props.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: props.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: props.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: props.parentVersion.parentVersion.trainingStartTime !== undefined ? props.parentVersion.parentVersion.trainingStartTime : undefined,
          trainingEndTime: props.parentVersion.parentVersion.trainingEndTime !== undefined ? props.parentVersion.parentVersion.trainingEndTime : undefined,
          trainingDuration: props.parentVersion.parentVersion.trainingDuration !== undefined ? props.parentVersion.parentVersion.trainingDuration : undefined,
          trainingDatasetSize: props.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.parentVersion.parentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: props.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: props.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.parentVersion.parentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: props.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: props.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: props.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
          deployedAt: props.parentVersion.parentVersion.deployedAt !== undefined ? props.parentVersion.parentVersion.deployedAt : undefined,
          deprecatedAt: props.parentVersion.parentVersion.deprecatedAt !== undefined ? props.parentVersion.parentVersion.deprecatedAt : undefined,
      parentVersion: props.parentVersion.parentVersion.parentVersion ? 
        typeof props.parentVersion.parentVersion.parentVersion === 'object' && Object.keys(props.parentVersion.parentVersion.parentVersion).length === 1 && Object.keys(props.parentVersion.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: props.parentVersion.parentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: props.parentVersion.parentVersion.parentVersion.id !== undefined ? props.parentVersion.parentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: props.parentVersion.parentVersion.parentVersion.modelName !== undefined ? props.parentVersion.parentVersion.parentVersion.modelName : undefined,
            version: props.parentVersion.parentVersion.parentVersion.version !== undefined ? props.parentVersion.parentVersion.parentVersion.version : undefined,
            status: props.parentVersion.parentVersion.parentVersion.status !== undefined ? props.parentVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: props.parentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: props.parentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? props.parentVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: props.parentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: props.parentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: props.parentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: props.parentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: props.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: props.parentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: props.parentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: props.parentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: props.parentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: props.parentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.parentVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: props.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: props.parentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.parentVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: props.parentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.parentVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: props.parentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: props.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: props.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: props.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: props.parentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: props.parentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: props.parentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: props.parentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: props.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: props.parentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: props.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: props.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: props.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: props.parentVersion.parentVersion.parentVersion.deployedAt !== undefined ? props.parentVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: props.parentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? props.parentVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: props.parentVersion.parentVersion.artifacts ? 
        Array.isArray(props.parentVersion.parentVersion.artifacts) && props.parentVersion.parentVersion.artifacts.length > 0 &&  props.parentVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.parentVersion.parentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.parentVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: props.parentVersion.parentVersion.abTestsAsControl ? 
        Array.isArray(props.parentVersion.parentVersion.abTestsAsControl) && props.parentVersion.parentVersion.abTestsAsControl.length > 0 &&  props.parentVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.parentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.parentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: props.parentVersion.parentVersion.abTestsAsTreatment ? 
        Array.isArray(props.parentVersion.parentVersion.abTestsAsTreatment) && props.parentVersion.parentVersion.abTestsAsTreatment.length > 0 &&  props.parentVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.parentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.parentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: props.parentVersion.parentVersion.featureImportanceAnalyses ? 
        Array.isArray(props.parentVersion.parentVersion.featureImportanceAnalyses) && props.parentVersion.parentVersion.featureImportanceAnalyses.length > 0 &&  props.parentVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.parentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.parentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
    artifacts: props.parentVersion.artifacts ? 
    Array.isArray(props.parentVersion.artifacts) && props.parentVersion.artifacts.length > 0 && props.parentVersion.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: props.parentVersion.artifacts.map((item: any) => ({
      id: item.id
    }))
} : { upsert: props.parentVersion.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId
            } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
      modelArtifact: item.modelArtifact ? 
      typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && (Object.keys(item.modelArtifact)[0] === 'id' || Object.keys(item.modelArtifact)[0] === 'symbol')
? {
      connect: {
        id: item.modelArtifact.id
      }
} : { upsert: {
          where: {
            id: item.modelArtifact.id !== undefined ? {
                equals: item.modelArtifact.id
              } : undefined,
          },
          update: {
            id: item.modelArtifact.id !== undefined ? {
                set: item.modelArtifact.id
              } : undefined,
            modelName: item.modelArtifact.modelName !== undefined ? {
                set: item.modelArtifact.modelName
              } : undefined,
            version: item.modelArtifact.version !== undefined ? {
                set: item.modelArtifact.version
              } : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? {
                set: item.modelArtifact.artifactType
              } : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? {
                set: item.modelArtifact.storageUrl
              } : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? {
                set: item.modelArtifact.storageProvider
              } : undefined,
            fileSize: item.modelArtifact.fileSize !== undefined ? {
                set: item.modelArtifact.fileSize
              } : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? {
                set: item.modelArtifact.checksum
              } : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? {
                set: item.modelArtifact.compressionType
              } : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? {
                set: item.modelArtifact.metadataFramework
              } : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? {
                set: item.modelArtifact.metadataPythonVersion
              } : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? {
                set: item.modelArtifact.metadataDependencies
              } : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? {
                set: item.modelArtifact.metadataTrainingDate
              } : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? {
                set: item.modelArtifact.metadataDatasetSize
              } : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? {
                set: item.modelArtifact.metadataHyperparameters
              } : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsControl: props.parentVersion.abTestsAsControl ? 
    Array.isArray(props.parentVersion.abTestsAsControl) && props.parentVersion.abTestsAsControl.length > 0 && props.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: props.parentVersion.abTestsAsControl.map((item: any) => ({
      id: item.id
    }))
} : { upsert: props.parentVersion.abTestsAsControl.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name
            } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId
            } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          name: item.name !== undefined ? {
              set: item.name
            } : undefined,
          description: item.description !== undefined ? {
              set: item.description
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
              set: item.trafficSplitControlPercent
            } : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
              set: item.trafficSplitTreatmentPercent
            } : undefined,
          targetMetrics: item.targetMetrics !== undefined ? {
              set: item.targetMetrics
            } : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
              set: item.successCriteriaPrimaryMetric
            } : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
              set: item.successCriteriaMinimumDetectableEffect
            } : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
              set: item.successCriteriaSignificanceLevel
            } : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
              set: item.successCriteriaPowerLevel
            } : undefined,
          startDate: item.startDate !== undefined ? {
              set: item.startDate
            } : undefined,
          endDate: item.endDate !== undefined ? {
              set: item.endDate
            } : undefined,
          plannedDuration: item.plannedDuration !== undefined ? {
              set: item.plannedDuration
            } : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
              set: item.resultsControlMetrics
            } : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
              set: item.resultsTreatmentMetrics
            } : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
              set: item.resultsStatisticalSignificance
            } : undefined,
          resultsPValues: item.resultsPValues !== undefined ? {
              set: item.resultsPValues
            } : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
              set: item.resultsConfidenceIntervals
            } : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? {
              set: item.resultsRecommendation
            } : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? {
              set: item.metadataEnvironment
            } : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
              set: item.metadataEligibilityCriteria
            } : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
              set: item.metadataExclusionCriteria
            } : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
              set: item.metadataSegmentationRules
            } : undefined,
          completedAt: item.completedAt !== undefined ? {
              set: item.completedAt
            } : undefined,
      treatmentVersion: item.treatmentVersion ? 
      typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && (Object.keys(item.treatmentVersion)[0] === 'id' || Object.keys(item.treatmentVersion)[0] === 'symbol')
? {
      connect: {
        id: item.treatmentVersion.id
      }
} : { upsert: {
          where: {
            id: item.treatmentVersion.id !== undefined ? {
                equals: item.treatmentVersion.id
              } : undefined,
            parentVersionId: item.treatmentVersion.parentVersionId !== undefined ? {
                equals: item.treatmentVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: item.treatmentVersion.id !== undefined ? {
                set: item.treatmentVersion.id
              } : undefined,
            modelName: item.treatmentVersion.modelName !== undefined ? {
                set: item.treatmentVersion.modelName
              } : undefined,
            version: item.treatmentVersion.version !== undefined ? {
                set: item.treatmentVersion.version
              } : undefined,
            status: item.treatmentVersion.status !== undefined ? {
                set: item.treatmentVersion.status
              } : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? {
                set: item.treatmentVersion.performanceAccuracy
              } : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? {
                set: item.treatmentVersion.performancePrecision
              } : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? {
                set: item.treatmentVersion.performanceRecall
              } : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? {
                set: item.treatmentVersion.performanceF1Score
              } : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? {
                set: item.treatmentVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? {
                set: item.treatmentVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? {
                set: item.treatmentVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? {
                set: item.treatmentVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? {
                set: item.treatmentVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? {
                set: item.treatmentVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? {
                set: item.treatmentVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? {
                set: item.treatmentVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? {
                set: item.treatmentVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? {
                set: item.treatmentVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? {
                set: item.treatmentVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? {
                set: item.treatmentVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? {
                set: item.treatmentVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? {
                set: item.treatmentVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? {
                set: item.treatmentVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? {
                set: item.treatmentVersion.trainingStartTime
              } : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? {
                set: item.treatmentVersion.trainingEndTime
              } : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? {
                set: item.treatmentVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? {
                set: item.treatmentVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? {
                set: item.treatmentVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? {
                set: item.treatmentVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.treatmentVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: item.treatmentVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? {
                set: item.treatmentVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? {
                set: item.treatmentVersion.deployedAt
              } : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? {
                set: item.treatmentVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      treatmentVersion: item.treatmentVersion ? 
        typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsTreatment: props.parentVersion.abTestsAsTreatment ? 
    Array.isArray(props.parentVersion.abTestsAsTreatment) && props.parentVersion.abTestsAsTreatment.length > 0 && props.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: props.parentVersion.abTestsAsTreatment.map((item: any) => ({
      id: item.id
    }))
} : { upsert: props.parentVersion.abTestsAsTreatment.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name
            } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId
            } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          name: item.name !== undefined ? {
              set: item.name
            } : undefined,
          description: item.description !== undefined ? {
              set: item.description
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
              set: item.trafficSplitControlPercent
            } : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
              set: item.trafficSplitTreatmentPercent
            } : undefined,
          targetMetrics: item.targetMetrics !== undefined ? {
              set: item.targetMetrics
            } : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
              set: item.successCriteriaPrimaryMetric
            } : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
              set: item.successCriteriaMinimumDetectableEffect
            } : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
              set: item.successCriteriaSignificanceLevel
            } : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
              set: item.successCriteriaPowerLevel
            } : undefined,
          startDate: item.startDate !== undefined ? {
              set: item.startDate
            } : undefined,
          endDate: item.endDate !== undefined ? {
              set: item.endDate
            } : undefined,
          plannedDuration: item.plannedDuration !== undefined ? {
              set: item.plannedDuration
            } : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
              set: item.resultsControlMetrics
            } : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
              set: item.resultsTreatmentMetrics
            } : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
              set: item.resultsStatisticalSignificance
            } : undefined,
          resultsPValues: item.resultsPValues !== undefined ? {
              set: item.resultsPValues
            } : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
              set: item.resultsConfidenceIntervals
            } : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? {
              set: item.resultsRecommendation
            } : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? {
              set: item.metadataEnvironment
            } : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
              set: item.metadataEligibilityCriteria
            } : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
              set: item.metadataExclusionCriteria
            } : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
              set: item.metadataSegmentationRules
            } : undefined,
          completedAt: item.completedAt !== undefined ? {
              set: item.completedAt
            } : undefined,
      controlVersion: item.controlVersion ? 
      typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && (Object.keys(item.controlVersion)[0] === 'id' || Object.keys(item.controlVersion)[0] === 'symbol')
? {
      connect: {
        id: item.controlVersion.id
      }
} : { upsert: {
          where: {
            id: item.controlVersion.id !== undefined ? {
                equals: item.controlVersion.id
              } : undefined,
            parentVersionId: item.controlVersion.parentVersionId !== undefined ? {
                equals: item.controlVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: item.controlVersion.id !== undefined ? {
                set: item.controlVersion.id
              } : undefined,
            modelName: item.controlVersion.modelName !== undefined ? {
                set: item.controlVersion.modelName
              } : undefined,
            version: item.controlVersion.version !== undefined ? {
                set: item.controlVersion.version
              } : undefined,
            status: item.controlVersion.status !== undefined ? {
                set: item.controlVersion.status
              } : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? {
                set: item.controlVersion.performanceAccuracy
              } : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? {
                set: item.controlVersion.performancePrecision
              } : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? {
                set: item.controlVersion.performanceRecall
              } : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? {
                set: item.controlVersion.performanceF1Score
              } : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? {
                set: item.controlVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? {
                set: item.controlVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? {
                set: item.controlVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? {
                set: item.controlVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? {
                set: item.controlVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? {
                set: item.controlVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? {
                set: item.controlVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? {
                set: item.controlVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? {
                set: item.controlVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? {
                set: item.controlVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? {
                set: item.controlVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? {
                set: item.controlVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? {
                set: item.controlVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? {
                set: item.controlVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? {
                set: item.controlVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? {
                set: item.controlVersion.trainingStartTime
              } : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? {
                set: item.controlVersion.trainingEndTime
              } : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? {
                set: item.controlVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? {
                set: item.controlVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? {
                set: item.controlVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? {
                set: item.controlVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.controlVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: item.controlVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? {
                set: item.controlVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? {
                set: item.controlVersion.deployedAt
              } : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? {
                set: item.controlVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      controlVersion: item.controlVersion ? 
        typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: props.parentVersion.featureImportanceAnalyses ? 
    Array.isArray(props.parentVersion.featureImportanceAnalyses) && props.parentVersion.featureImportanceAnalyses.length > 0 && props.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: props.parentVersion.featureImportanceAnalyses.map((item: any) => ({
      id: item.id
    }))
} : { upsert: props.parentVersion.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          analysisType: item.analysisType !== undefined ? {
              set: item.analysisType
            } : undefined,
          featureImportances: item.featureImportances !== undefined ? {
              set: item.featureImportances
            } : undefined,
          globalImportance: item.globalImportance !== undefined ? {
              set: item.globalImportance
            } : undefined,
          localImportance: item.localImportance !== undefined ? {
              set: item.localImportance
            } : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
              set: item.analysisMetadataSampleSize
            } : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
              set: item.analysisMetadataBaselineAccuracy
            } : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
              set: item.analysisMetadataAnalysisDate
            } : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
              set: item.analysisMetadataComputationTime
            } : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
              set: item.analysisMetadataAnalysisParameters
            } : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
              set: item.insightsTopFeatures
            } : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
              set: item.insightsRedundantFeatures
            } : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
              set: item.insightsUnexpectedImportances
            } : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
              set: item.insightsStabilityScore
            } : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? {
              set: item.insightsRecommendations
            } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
      create: {
        modelName: props.parentVersion.modelName !== undefined ? props.parentVersion.modelName : undefined,
        version: props.parentVersion.version !== undefined ? props.parentVersion.version : undefined,
        status: props.parentVersion.status !== undefined ? props.parentVersion.status : undefined,
        performanceAccuracy: props.parentVersion.performanceAccuracy !== undefined ? props.parentVersion.performanceAccuracy : undefined,
        performancePrecision: props.parentVersion.performancePrecision !== undefined ? props.parentVersion.performancePrecision : undefined,
        performanceRecall: props.parentVersion.performanceRecall !== undefined ? props.parentVersion.performanceRecall : undefined,
        performanceF1Score: props.parentVersion.performanceF1Score !== undefined ? props.parentVersion.performanceF1Score : undefined,
        performanceAuc: props.parentVersion.performanceAuc !== undefined ? props.parentVersion.performanceAuc : undefined,
        performanceSharpeRatio: props.parentVersion.performanceSharpeRatio !== undefined ? props.parentVersion.performanceSharpeRatio : undefined,
        performanceMaxDrawdown: props.parentVersion.performanceMaxDrawdown !== undefined ? props.parentVersion.performanceMaxDrawdown : undefined,
        performanceWinRate: props.parentVersion.performanceWinRate !== undefined ? props.parentVersion.performanceWinRate : undefined,
        performanceAvgReturn: props.parentVersion.performanceAvgReturn !== undefined ? props.parentVersion.performanceAvgReturn : undefined,
        performanceCalibrationScore: props.parentVersion.performanceCalibrationScore !== undefined ? props.parentVersion.performanceCalibrationScore : undefined,
        performanceStabilityScore: props.parentVersion.performanceStabilityScore !== undefined ? props.parentVersion.performanceStabilityScore : undefined,
        validationCrossValidationScore: props.parentVersion.validationCrossValidationScore !== undefined ? props.parentVersion.validationCrossValidationScore : undefined,
        validationOutOfSamplePerformance: props.parentVersion.validationOutOfSamplePerformance !== undefined ? props.parentVersion.validationOutOfSamplePerformance : undefined,
        validationBacktestResults: props.parentVersion.validationBacktestResults !== undefined ? props.parentVersion.validationBacktestResults : undefined,
        validationStatTestResults: props.parentVersion.validationStatTestResults !== undefined ? props.parentVersion.validationStatTestResults : undefined,
        deploymentEnvironment: props.parentVersion.deploymentEnvironment !== undefined ? props.parentVersion.deploymentEnvironment : undefined,
        deploymentTrafficAllocation: props.parentVersion.deploymentTrafficAllocation !== undefined ? props.parentVersion.deploymentTrafficAllocation : undefined,
        deploymentRolloutStrategy: props.parentVersion.deploymentRolloutStrategy !== undefined ? props.parentVersion.deploymentRolloutStrategy : undefined,
        deploymentHealthCheckConfig: props.parentVersion.deploymentHealthCheckConfig !== undefined ? props.parentVersion.deploymentHealthCheckConfig : undefined,
        trainingStartTime: props.parentVersion.trainingStartTime !== undefined ? props.parentVersion.trainingStartTime : undefined,
        trainingEndTime: props.parentVersion.trainingEndTime !== undefined ? props.parentVersion.trainingEndTime : undefined,
        trainingDuration: props.parentVersion.trainingDuration !== undefined ? props.parentVersion.trainingDuration : undefined,
        trainingDatasetSize: props.parentVersion.trainingDatasetSize !== undefined ? props.parentVersion.trainingDatasetSize : undefined,
        trainingFeaturesUsed: props.parentVersion.trainingFeaturesUsed !== undefined ? props.parentVersion.trainingFeaturesUsed : undefined,
        trainingHyperparameters: props.parentVersion.trainingHyperparameters !== undefined ? props.parentVersion.trainingHyperparameters : undefined,
        trainingResourcePeakMemoryMB: props.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.parentVersion.trainingResourcePeakMemoryMB : undefined,
        trainingResourceTotalCpuHours: props.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.parentVersion.trainingResourceTotalCpuHours : undefined,
        trainingResourceGpuHours: props.parentVersion.trainingResourceGpuHours !== undefined ? props.parentVersion.trainingResourceGpuHours : undefined,
        deployedAt: props.parentVersion.deployedAt !== undefined ? props.parentVersion.deployedAt : undefined,
        deprecatedAt: props.parentVersion.deprecatedAt !== undefined ? props.parentVersion.deprecatedAt : undefined,
    parentVersion: props.parentVersion.parentVersion ? 
      typeof props.parentVersion.parentVersion === 'object' && Object.keys(props.parentVersion.parentVersion).length === 1 && Object.keys(props.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
          id: props.parentVersion.parentVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: props.parentVersion.parentVersion.id !== undefined ? props.parentVersion.parentVersion.id : undefined,
        },
        create: {
          modelName: props.parentVersion.parentVersion.modelName !== undefined ? props.parentVersion.parentVersion.modelName : undefined,
          version: props.parentVersion.parentVersion.version !== undefined ? props.parentVersion.parentVersion.version : undefined,
          status: props.parentVersion.parentVersion.status !== undefined ? props.parentVersion.parentVersion.status : undefined,
          performanceAccuracy: props.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.parentVersion.parentVersion.performanceAccuracy : undefined,
          performancePrecision: props.parentVersion.parentVersion.performancePrecision !== undefined ? props.parentVersion.parentVersion.performancePrecision : undefined,
          performanceRecall: props.parentVersion.parentVersion.performanceRecall !== undefined ? props.parentVersion.parentVersion.performanceRecall : undefined,
          performanceF1Score: props.parentVersion.parentVersion.performanceF1Score !== undefined ? props.parentVersion.parentVersion.performanceF1Score : undefined,
          performanceAuc: props.parentVersion.parentVersion.performanceAuc !== undefined ? props.parentVersion.parentVersion.performanceAuc : undefined,
          performanceSharpeRatio: props.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.parentVersion.parentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: props.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: props.parentVersion.parentVersion.performanceWinRate !== undefined ? props.parentVersion.parentVersion.performanceWinRate : undefined,
          performanceAvgReturn: props.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.parentVersion.parentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: props.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.parentVersion.parentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: props.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.parentVersion.parentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: props.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.parentVersion.parentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: props.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: props.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.parentVersion.parentVersion.validationBacktestResults : undefined,
          validationStatTestResults: props.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.parentVersion.parentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: props.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.parentVersion.parentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: props.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: props.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: props.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: props.parentVersion.parentVersion.trainingStartTime !== undefined ? props.parentVersion.parentVersion.trainingStartTime : undefined,
          trainingEndTime: props.parentVersion.parentVersion.trainingEndTime !== undefined ? props.parentVersion.parentVersion.trainingEndTime : undefined,
          trainingDuration: props.parentVersion.parentVersion.trainingDuration !== undefined ? props.parentVersion.parentVersion.trainingDuration : undefined,
          trainingDatasetSize: props.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.parentVersion.parentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: props.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: props.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.parentVersion.parentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: props.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: props.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: props.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
          deployedAt: props.parentVersion.parentVersion.deployedAt !== undefined ? props.parentVersion.parentVersion.deployedAt : undefined,
          deprecatedAt: props.parentVersion.parentVersion.deprecatedAt !== undefined ? props.parentVersion.parentVersion.deprecatedAt : undefined,
      parentVersion: props.parentVersion.parentVersion.parentVersion ? 
        typeof props.parentVersion.parentVersion.parentVersion === 'object' && Object.keys(props.parentVersion.parentVersion.parentVersion).length === 1 && Object.keys(props.parentVersion.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: props.parentVersion.parentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: props.parentVersion.parentVersion.parentVersion.id !== undefined ? props.parentVersion.parentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: props.parentVersion.parentVersion.parentVersion.modelName !== undefined ? props.parentVersion.parentVersion.parentVersion.modelName : undefined,
            version: props.parentVersion.parentVersion.parentVersion.version !== undefined ? props.parentVersion.parentVersion.parentVersion.version : undefined,
            status: props.parentVersion.parentVersion.parentVersion.status !== undefined ? props.parentVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: props.parentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: props.parentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? props.parentVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: props.parentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: props.parentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: props.parentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: props.parentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: props.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: props.parentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: props.parentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: props.parentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: props.parentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? props.parentVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: props.parentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? props.parentVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: props.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? props.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: props.parentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? props.parentVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: props.parentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? props.parentVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: props.parentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: props.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: props.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: props.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? props.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: props.parentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: props.parentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: props.parentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: props.parentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: props.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: props.parentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: props.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: props.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: props.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? props.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: props.parentVersion.parentVersion.parentVersion.deployedAt !== undefined ? props.parentVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: props.parentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? props.parentVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: props.parentVersion.parentVersion.artifacts ? 
        Array.isArray(props.parentVersion.parentVersion.artifacts) && props.parentVersion.parentVersion.artifacts.length > 0 &&  props.parentVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.parentVersion.parentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.parentVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: props.parentVersion.parentVersion.abTestsAsControl ? 
        Array.isArray(props.parentVersion.parentVersion.abTestsAsControl) && props.parentVersion.parentVersion.abTestsAsControl.length > 0 &&  props.parentVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.parentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.parentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: props.parentVersion.parentVersion.abTestsAsTreatment ? 
        Array.isArray(props.parentVersion.parentVersion.abTestsAsTreatment) && props.parentVersion.parentVersion.abTestsAsTreatment.length > 0 &&  props.parentVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.parentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.parentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: props.parentVersion.parentVersion.featureImportanceAnalyses ? 
        Array.isArray(props.parentVersion.parentVersion.featureImportanceAnalyses) && props.parentVersion.parentVersion.featureImportanceAnalyses.length > 0 &&  props.parentVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        props.parentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: props.parentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
    artifacts: props.parentVersion.artifacts ? 
      Array.isArray(props.parentVersion.artifacts) && props.parentVersion.artifacts.length > 0 &&  props.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.parentVersion.artifacts.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.parentVersion.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId 
             } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsControl: props.parentVersion.abTestsAsControl ? 
      Array.isArray(props.parentVersion.abTestsAsControl) && props.parentVersion.abTestsAsControl.length > 0 &&  props.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.parentVersion.abTestsAsControl.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.parentVersion.abTestsAsControl.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      treatmentVersion: item.treatmentVersion ? 
        typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsTreatment: props.parentVersion.abTestsAsTreatment ? 
      Array.isArray(props.parentVersion.abTestsAsTreatment) && props.parentVersion.abTestsAsTreatment.length > 0 &&  props.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.parentVersion.abTestsAsTreatment.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.parentVersion.abTestsAsTreatment.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      controlVersion: item.controlVersion ? 
        typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: props.parentVersion.featureImportanceAnalyses ? 
      Array.isArray(props.parentVersion.featureImportanceAnalyses) && props.parentVersion.featureImportanceAnalyses.length > 0 &&  props.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      props.parentVersion.featureImportanceAnalyses.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: props.parentVersion.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
    }
  } : undefined,
  childVersions: props.childVersions ? 
  Array.isArray(props.childVersions) && props.childVersions.length > 0 && props.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
  connect: props.childVersions.map((item: any) => ({
    id: item.id
  }))
} : { upsert: props.childVersions.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
        parentVersionId: item.parentVersionId !== undefined ? {
            equals: item.parentVersionId
          } : undefined,
      },
      update: {
        id: item.id !== undefined ? {
            set: item.id
          } : undefined,
        modelName: item.modelName !== undefined ? {
            set: item.modelName
          } : undefined,
        version: item.version !== undefined ? {
            set: item.version
          } : undefined,
        status: item.status !== undefined ? {
            set: item.status
          } : undefined,
        performanceAccuracy: item.performanceAccuracy !== undefined ? {
            set: item.performanceAccuracy
          } : undefined,
        performancePrecision: item.performancePrecision !== undefined ? {
            set: item.performancePrecision
          } : undefined,
        performanceRecall: item.performanceRecall !== undefined ? {
            set: item.performanceRecall
          } : undefined,
        performanceF1Score: item.performanceF1Score !== undefined ? {
            set: item.performanceF1Score
          } : undefined,
        performanceAuc: item.performanceAuc !== undefined ? {
            set: item.performanceAuc
          } : undefined,
        performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
            set: item.performanceSharpeRatio
          } : undefined,
        performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
            set: item.performanceMaxDrawdown
          } : undefined,
        performanceWinRate: item.performanceWinRate !== undefined ? {
            set: item.performanceWinRate
          } : undefined,
        performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
            set: item.performanceAvgReturn
          } : undefined,
        performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
            set: item.performanceCalibrationScore
          } : undefined,
        performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
            set: item.performanceStabilityScore
          } : undefined,
        validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
            set: item.validationCrossValidationScore
          } : undefined,
        validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
            set: item.validationOutOfSamplePerformance
          } : undefined,
        validationBacktestResults: item.validationBacktestResults !== undefined ? {
            set: item.validationBacktestResults
          } : undefined,
        validationStatTestResults: item.validationStatTestResults !== undefined ? {
            set: item.validationStatTestResults
          } : undefined,
        deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
            set: item.deploymentEnvironment
          } : undefined,
        deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
            set: item.deploymentTrafficAllocation
          } : undefined,
        deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
            set: item.deploymentRolloutStrategy
          } : undefined,
        deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
            set: item.deploymentHealthCheckConfig
          } : undefined,
        trainingStartTime: item.trainingStartTime !== undefined ? {
            set: item.trainingStartTime
          } : undefined,
        trainingEndTime: item.trainingEndTime !== undefined ? {
            set: item.trainingEndTime
          } : undefined,
        trainingDuration: item.trainingDuration !== undefined ? {
            set: item.trainingDuration
          } : undefined,
        trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
            set: item.trainingDatasetSize
          } : undefined,
        trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
            set: item.trainingFeaturesUsed
          } : undefined,
        trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
            set: item.trainingHyperparameters
          } : undefined,
        trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
            set: item.trainingResourcePeakMemoryMB
          } : undefined,
        trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
            set: item.trainingResourceTotalCpuHours
          } : undefined,
        trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
            set: item.trainingResourceGpuHours
          } : undefined,
        deployedAt: item.deployedAt !== undefined ? {
            set: item.deployedAt
          } : undefined,
        deprecatedAt: item.deprecatedAt !== undefined ? {
            set: item.deprecatedAt
          } : undefined,
    childVersions: item.childVersions ? 
    Array.isArray(item.childVersions) && item.childVersions.length > 0 && item.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: item.childVersions.map((item: any) => ({
      id: item.id
    }))
} : { upsert: item.childVersions.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          parentVersionId: item.parentVersionId !== undefined ? {
              equals: item.parentVersionId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          modelName: item.modelName !== undefined ? {
              set: item.modelName
            } : undefined,
          version: item.version !== undefined ? {
              set: item.version
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? {
              set: item.performanceAccuracy
            } : undefined,
          performancePrecision: item.performancePrecision !== undefined ? {
              set: item.performancePrecision
            } : undefined,
          performanceRecall: item.performanceRecall !== undefined ? {
              set: item.performanceRecall
            } : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? {
              set: item.performanceF1Score
            } : undefined,
          performanceAuc: item.performanceAuc !== undefined ? {
              set: item.performanceAuc
            } : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
              set: item.performanceSharpeRatio
            } : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
              set: item.performanceMaxDrawdown
            } : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? {
              set: item.performanceWinRate
            } : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
              set: item.performanceAvgReturn
            } : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
              set: item.performanceCalibrationScore
            } : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
              set: item.performanceStabilityScore
            } : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
              set: item.validationCrossValidationScore
            } : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
              set: item.validationOutOfSamplePerformance
            } : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? {
              set: item.validationBacktestResults
            } : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? {
              set: item.validationStatTestResults
            } : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
              set: item.deploymentEnvironment
            } : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
              set: item.deploymentTrafficAllocation
            } : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
              set: item.deploymentRolloutStrategy
            } : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
              set: item.deploymentHealthCheckConfig
            } : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? {
              set: item.trainingStartTime
            } : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? {
              set: item.trainingEndTime
            } : undefined,
          trainingDuration: item.trainingDuration !== undefined ? {
              set: item.trainingDuration
            } : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
              set: item.trainingDatasetSize
            } : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
              set: item.trainingFeaturesUsed
            } : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
              set: item.trainingHyperparameters
            } : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
              set: item.trainingResourcePeakMemoryMB
            } : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
              set: item.trainingResourceTotalCpuHours
            } : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
              set: item.trainingResourceGpuHours
            } : undefined,
          deployedAt: item.deployedAt !== undefined ? {
              set: item.deployedAt
            } : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? {
              set: item.deprecatedAt
            } : undefined,
      childVersions: item.childVersions ? 
      Array.isArray(item.childVersions) && item.childVersions.length > 0 && item.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.childVersions.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            parentVersionId: item.parentVersionId !== undefined ? {
                equals: item.parentVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            modelName: item.modelName !== undefined ? {
                set: item.modelName
              } : undefined,
            version: item.version !== undefined ? {
                set: item.version
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? {
                set: item.performanceAccuracy
              } : undefined,
            performancePrecision: item.performancePrecision !== undefined ? {
                set: item.performancePrecision
              } : undefined,
            performanceRecall: item.performanceRecall !== undefined ? {
                set: item.performanceRecall
              } : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? {
                set: item.performanceF1Score
              } : undefined,
            performanceAuc: item.performanceAuc !== undefined ? {
                set: item.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
                set: item.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
                set: item.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? {
                set: item.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
                set: item.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
                set: item.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
                set: item.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
                set: item.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
                set: item.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? {
                set: item.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? {
                set: item.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
                set: item.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
                set: item.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
                set: item.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
                set: item.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? {
                set: item.trainingStartTime
              } : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? {
                set: item.trainingEndTime
              } : undefined,
            trainingDuration: item.trainingDuration !== undefined ? {
                set: item.trainingDuration
              } : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
                set: item.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
                set: item.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
                set: item.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
                set: item.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
                set: item.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.deployedAt !== undefined ? {
                set: item.deployedAt
              } : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? {
                set: item.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
      Array.isArray(item.artifacts) && item.artifacts.length > 0 && item.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.artifacts.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
      Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 && item.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.abTestsAsControl.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
      Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 && item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.abTestsAsTreatment.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
      Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 && item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.featureImportanceAnalyses.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            analysisType: item.analysisType !== undefined ? {
                set: item.analysisType
              } : undefined,
            featureImportances: item.featureImportances !== undefined ? {
                set: item.featureImportances
              } : undefined,
            globalImportance: item.globalImportance !== undefined ? {
                set: item.globalImportance
              } : undefined,
            localImportance: item.localImportance !== undefined ? {
                set: item.localImportance
              } : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
                set: item.analysisMetadataSampleSize
              } : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
                set: item.analysisMetadataBaselineAccuracy
              } : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
                set: item.analysisMetadataAnalysisDate
              } : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
                set: item.analysisMetadataComputationTime
              } : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
                set: item.analysisMetadataAnalysisParameters
              } : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
                set: item.insightsTopFeatures
              } : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
                set: item.insightsRedundantFeatures
              } : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
                set: item.insightsUnexpectedImportances
              } : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
                set: item.insightsStabilityScore
              } : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? {
                set: item.insightsRecommendations
              } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
        create: {
          modelName: item.modelName !== undefined ? item.modelName : undefined,
          version: item.version !== undefined ? item.version : undefined,
          status: item.status !== undefined ? item.status : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
          performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
          performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
          performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
          trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
          deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
      childVersions: item.childVersions ? 
        Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
        Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
        Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
        Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
        Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }))
    } : undefined,
    artifacts: item.artifacts ? 
    Array.isArray(item.artifacts) && item.artifacts.length > 0 && item.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: item.artifacts.map((item: any) => ({
      id: item.id
    }))
} : { upsert: item.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId
            } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
      modelArtifact: item.modelArtifact ? 
      typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && (Object.keys(item.modelArtifact)[0] === 'id' || Object.keys(item.modelArtifact)[0] === 'symbol')
? {
      connect: {
        id: item.modelArtifact.id
      }
} : { upsert: {
          where: {
            id: item.modelArtifact.id !== undefined ? {
                equals: item.modelArtifact.id
              } : undefined,
          },
          update: {
            id: item.modelArtifact.id !== undefined ? {
                set: item.modelArtifact.id
              } : undefined,
            modelName: item.modelArtifact.modelName !== undefined ? {
                set: item.modelArtifact.modelName
              } : undefined,
            version: item.modelArtifact.version !== undefined ? {
                set: item.modelArtifact.version
              } : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? {
                set: item.modelArtifact.artifactType
              } : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? {
                set: item.modelArtifact.storageUrl
              } : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? {
                set: item.modelArtifact.storageProvider
              } : undefined,
            fileSize: item.modelArtifact.fileSize !== undefined ? {
                set: item.modelArtifact.fileSize
              } : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? {
                set: item.modelArtifact.checksum
              } : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? {
                set: item.modelArtifact.compressionType
              } : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? {
                set: item.modelArtifact.metadataFramework
              } : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? {
                set: item.modelArtifact.metadataPythonVersion
              } : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? {
                set: item.modelArtifact.metadataDependencies
              } : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? {
                set: item.modelArtifact.metadataTrainingDate
              } : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? {
                set: item.modelArtifact.metadataDatasetSize
              } : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? {
                set: item.modelArtifact.metadataHyperparameters
              } : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsControl: item.abTestsAsControl ? 
    Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 && item.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: item.abTestsAsControl.map((item: any) => ({
      id: item.id
    }))
} : { upsert: item.abTestsAsControl.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name
            } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId
            } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          name: item.name !== undefined ? {
              set: item.name
            } : undefined,
          description: item.description !== undefined ? {
              set: item.description
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
              set: item.trafficSplitControlPercent
            } : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
              set: item.trafficSplitTreatmentPercent
            } : undefined,
          targetMetrics: item.targetMetrics !== undefined ? {
              set: item.targetMetrics
            } : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
              set: item.successCriteriaPrimaryMetric
            } : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
              set: item.successCriteriaMinimumDetectableEffect
            } : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
              set: item.successCriteriaSignificanceLevel
            } : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
              set: item.successCriteriaPowerLevel
            } : undefined,
          startDate: item.startDate !== undefined ? {
              set: item.startDate
            } : undefined,
          endDate: item.endDate !== undefined ? {
              set: item.endDate
            } : undefined,
          plannedDuration: item.plannedDuration !== undefined ? {
              set: item.plannedDuration
            } : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
              set: item.resultsControlMetrics
            } : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
              set: item.resultsTreatmentMetrics
            } : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
              set: item.resultsStatisticalSignificance
            } : undefined,
          resultsPValues: item.resultsPValues !== undefined ? {
              set: item.resultsPValues
            } : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
              set: item.resultsConfidenceIntervals
            } : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? {
              set: item.resultsRecommendation
            } : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? {
              set: item.metadataEnvironment
            } : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
              set: item.metadataEligibilityCriteria
            } : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
              set: item.metadataExclusionCriteria
            } : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
              set: item.metadataSegmentationRules
            } : undefined,
          completedAt: item.completedAt !== undefined ? {
              set: item.completedAt
            } : undefined,
      treatmentVersion: item.treatmentVersion ? 
      typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && (Object.keys(item.treatmentVersion)[0] === 'id' || Object.keys(item.treatmentVersion)[0] === 'symbol')
? {
      connect: {
        id: item.treatmentVersion.id
      }
} : { upsert: {
          where: {
            id: item.treatmentVersion.id !== undefined ? {
                equals: item.treatmentVersion.id
              } : undefined,
            parentVersionId: item.treatmentVersion.parentVersionId !== undefined ? {
                equals: item.treatmentVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: item.treatmentVersion.id !== undefined ? {
                set: item.treatmentVersion.id
              } : undefined,
            modelName: item.treatmentVersion.modelName !== undefined ? {
                set: item.treatmentVersion.modelName
              } : undefined,
            version: item.treatmentVersion.version !== undefined ? {
                set: item.treatmentVersion.version
              } : undefined,
            status: item.treatmentVersion.status !== undefined ? {
                set: item.treatmentVersion.status
              } : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? {
                set: item.treatmentVersion.performanceAccuracy
              } : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? {
                set: item.treatmentVersion.performancePrecision
              } : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? {
                set: item.treatmentVersion.performanceRecall
              } : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? {
                set: item.treatmentVersion.performanceF1Score
              } : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? {
                set: item.treatmentVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? {
                set: item.treatmentVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? {
                set: item.treatmentVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? {
                set: item.treatmentVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? {
                set: item.treatmentVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? {
                set: item.treatmentVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? {
                set: item.treatmentVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? {
                set: item.treatmentVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? {
                set: item.treatmentVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? {
                set: item.treatmentVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? {
                set: item.treatmentVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? {
                set: item.treatmentVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? {
                set: item.treatmentVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? {
                set: item.treatmentVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? {
                set: item.treatmentVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? {
                set: item.treatmentVersion.trainingStartTime
              } : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? {
                set: item.treatmentVersion.trainingEndTime
              } : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? {
                set: item.treatmentVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? {
                set: item.treatmentVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? {
                set: item.treatmentVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? {
                set: item.treatmentVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.treatmentVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: item.treatmentVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? {
                set: item.treatmentVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? {
                set: item.treatmentVersion.deployedAt
              } : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? {
                set: item.treatmentVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      treatmentVersion: item.treatmentVersion ? 
        typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsTreatment: item.abTestsAsTreatment ? 
    Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 && item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: item.abTestsAsTreatment.map((item: any) => ({
      id: item.id
    }))
} : { upsert: item.abTestsAsTreatment.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name
            } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId
            } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          name: item.name !== undefined ? {
              set: item.name
            } : undefined,
          description: item.description !== undefined ? {
              set: item.description
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
              set: item.trafficSplitControlPercent
            } : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
              set: item.trafficSplitTreatmentPercent
            } : undefined,
          targetMetrics: item.targetMetrics !== undefined ? {
              set: item.targetMetrics
            } : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
              set: item.successCriteriaPrimaryMetric
            } : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
              set: item.successCriteriaMinimumDetectableEffect
            } : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
              set: item.successCriteriaSignificanceLevel
            } : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
              set: item.successCriteriaPowerLevel
            } : undefined,
          startDate: item.startDate !== undefined ? {
              set: item.startDate
            } : undefined,
          endDate: item.endDate !== undefined ? {
              set: item.endDate
            } : undefined,
          plannedDuration: item.plannedDuration !== undefined ? {
              set: item.plannedDuration
            } : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
              set: item.resultsControlMetrics
            } : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
              set: item.resultsTreatmentMetrics
            } : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
              set: item.resultsStatisticalSignificance
            } : undefined,
          resultsPValues: item.resultsPValues !== undefined ? {
              set: item.resultsPValues
            } : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
              set: item.resultsConfidenceIntervals
            } : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? {
              set: item.resultsRecommendation
            } : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? {
              set: item.metadataEnvironment
            } : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
              set: item.metadataEligibilityCriteria
            } : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
              set: item.metadataExclusionCriteria
            } : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
              set: item.metadataSegmentationRules
            } : undefined,
          completedAt: item.completedAt !== undefined ? {
              set: item.completedAt
            } : undefined,
      controlVersion: item.controlVersion ? 
      typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && (Object.keys(item.controlVersion)[0] === 'id' || Object.keys(item.controlVersion)[0] === 'symbol')
? {
      connect: {
        id: item.controlVersion.id
      }
} : { upsert: {
          where: {
            id: item.controlVersion.id !== undefined ? {
                equals: item.controlVersion.id
              } : undefined,
            parentVersionId: item.controlVersion.parentVersionId !== undefined ? {
                equals: item.controlVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: item.controlVersion.id !== undefined ? {
                set: item.controlVersion.id
              } : undefined,
            modelName: item.controlVersion.modelName !== undefined ? {
                set: item.controlVersion.modelName
              } : undefined,
            version: item.controlVersion.version !== undefined ? {
                set: item.controlVersion.version
              } : undefined,
            status: item.controlVersion.status !== undefined ? {
                set: item.controlVersion.status
              } : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? {
                set: item.controlVersion.performanceAccuracy
              } : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? {
                set: item.controlVersion.performancePrecision
              } : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? {
                set: item.controlVersion.performanceRecall
              } : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? {
                set: item.controlVersion.performanceF1Score
              } : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? {
                set: item.controlVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? {
                set: item.controlVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? {
                set: item.controlVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? {
                set: item.controlVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? {
                set: item.controlVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? {
                set: item.controlVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? {
                set: item.controlVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? {
                set: item.controlVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? {
                set: item.controlVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? {
                set: item.controlVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? {
                set: item.controlVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? {
                set: item.controlVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? {
                set: item.controlVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? {
                set: item.controlVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? {
                set: item.controlVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? {
                set: item.controlVersion.trainingStartTime
              } : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? {
                set: item.controlVersion.trainingEndTime
              } : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? {
                set: item.controlVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? {
                set: item.controlVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? {
                set: item.controlVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? {
                set: item.controlVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.controlVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: item.controlVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? {
                set: item.controlVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? {
                set: item.controlVersion.deployedAt
              } : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? {
                set: item.controlVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      controlVersion: item.controlVersion ? 
        typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: item.featureImportanceAnalyses ? 
    Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 && item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: item.featureImportanceAnalyses.map((item: any) => ({
      id: item.id
    }))
} : { upsert: item.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          analysisType: item.analysisType !== undefined ? {
              set: item.analysisType
            } : undefined,
          featureImportances: item.featureImportances !== undefined ? {
              set: item.featureImportances
            } : undefined,
          globalImportance: item.globalImportance !== undefined ? {
              set: item.globalImportance
            } : undefined,
          localImportance: item.localImportance !== undefined ? {
              set: item.localImportance
            } : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
              set: item.analysisMetadataSampleSize
            } : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
              set: item.analysisMetadataBaselineAccuracy
            } : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
              set: item.analysisMetadataAnalysisDate
            } : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
              set: item.analysisMetadataComputationTime
            } : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
              set: item.analysisMetadataAnalysisParameters
            } : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
              set: item.insightsTopFeatures
            } : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
              set: item.insightsRedundantFeatures
            } : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
              set: item.insightsUnexpectedImportances
            } : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
              set: item.insightsStabilityScore
            } : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? {
              set: item.insightsRecommendations
            } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
      create: {
        modelName: item.modelName !== undefined ? item.modelName : undefined,
        version: item.version !== undefined ? item.version : undefined,
        status: item.status !== undefined ? item.status : undefined,
        performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
        performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
        performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
        performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
        performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
        performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
        performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
        performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
        performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
        performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
        performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
        validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
        validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
        validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
        validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
        deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
        deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
        deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
        deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
        trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
        trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
        trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
        trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
        trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
        trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
        trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
        trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
        trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
        deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
        deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
    childVersions: item.childVersions ? 
      Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.childVersions.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
        },
        create: {
          modelName: item.modelName !== undefined ? item.modelName : undefined,
          version: item.version !== undefined ? item.version : undefined,
          status: item.status !== undefined ? item.status : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
          performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
          performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
          performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
          trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
          deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
      childVersions: item.childVersions ? 
        Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
        Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
        Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
        Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
        Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }))
    } : undefined,
    artifacts: item.artifacts ? 
      Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.artifacts.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId 
             } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsControl: item.abTestsAsControl ? 
      Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.abTestsAsControl.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      treatmentVersion: item.treatmentVersion ? 
        typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsTreatment: item.abTestsAsTreatment ? 
      Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.abTestsAsTreatment.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      controlVersion: item.controlVersion ? 
        typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: item.featureImportanceAnalyses ? 
      Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.featureImportanceAnalyses.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
    }))
  } : undefined,
  artifacts: props.artifacts ? 
  Array.isArray(props.artifacts) && props.artifacts.length > 0 && props.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
  connect: props.artifacts.map((item: any) => ({
    id: item.id
  }))
} : { upsert: props.artifacts.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
        modelVersionId: item.modelVersionId !== undefined ? {
            equals: item.modelVersionId
          } : undefined,
        modelArtifactId: item.modelArtifactId !== undefined ? {
            equals: item.modelArtifactId
          } : undefined,
      },
      update: {
        id: item.id !== undefined ? {
            set: item.id
          } : undefined,
    modelArtifact: item.modelArtifact ? 
    typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && (Object.keys(item.modelArtifact)[0] === 'id' || Object.keys(item.modelArtifact)[0] === 'symbol')
? {
    connect: {
      id: item.modelArtifact.id
    }
} : { upsert: {
        where: {
          id: item.modelArtifact.id !== undefined ? {
              equals: item.modelArtifact.id
            } : undefined,
        },
        update: {
          id: item.modelArtifact.id !== undefined ? {
              set: item.modelArtifact.id
            } : undefined,
          modelName: item.modelArtifact.modelName !== undefined ? {
              set: item.modelArtifact.modelName
            } : undefined,
          version: item.modelArtifact.version !== undefined ? {
              set: item.modelArtifact.version
            } : undefined,
          artifactType: item.modelArtifact.artifactType !== undefined ? {
              set: item.modelArtifact.artifactType
            } : undefined,
          storageUrl: item.modelArtifact.storageUrl !== undefined ? {
              set: item.modelArtifact.storageUrl
            } : undefined,
          storageProvider: item.modelArtifact.storageProvider !== undefined ? {
              set: item.modelArtifact.storageProvider
            } : undefined,
          fileSize: item.modelArtifact.fileSize !== undefined ? {
              set: item.modelArtifact.fileSize
            } : undefined,
          checksum: item.modelArtifact.checksum !== undefined ? {
              set: item.modelArtifact.checksum
            } : undefined,
          compressionType: item.modelArtifact.compressionType !== undefined ? {
              set: item.modelArtifact.compressionType
            } : undefined,
          metadataFramework: item.modelArtifact.metadataFramework !== undefined ? {
              set: item.modelArtifact.metadataFramework
            } : undefined,
          metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? {
              set: item.modelArtifact.metadataPythonVersion
            } : undefined,
          metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? {
              set: item.modelArtifact.metadataDependencies
            } : undefined,
          metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? {
              set: item.modelArtifact.metadataTrainingDate
            } : undefined,
          metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? {
              set: item.modelArtifact.metadataDatasetSize
            } : undefined,
          metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? {
              set: item.modelArtifact.metadataHyperparameters
            } : undefined,
        },
        create: {
          modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
          version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
          artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
          storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
          storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
          checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
          compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
          metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
          metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
          metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
          metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
          metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
          metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
        },
      }
    } : undefined,
      },
      create: {
    modelArtifact: item.modelArtifact ? 
      typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
          id: item.modelArtifact.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
        },
        create: {
          modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
          version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
          artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
          storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
          storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
          checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
          compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
          metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
          metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
          metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
          metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
          metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
          metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
        },
      }
    } : undefined,
      },
    }))
  } : undefined,
  abTestsAsControl: props.abTestsAsControl ? 
  Array.isArray(props.abTestsAsControl) && props.abTestsAsControl.length > 0 && props.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
  connect: props.abTestsAsControl.map((item: any) => ({
    id: item.id
  }))
} : { upsert: props.abTestsAsControl.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
        name: item.name !== undefined ? {
            equals: item.name
          } : undefined,
        modelVersionAId: item.modelVersionAId !== undefined ? {
            equals: item.modelVersionAId
          } : undefined,
        modelVersionBId: item.modelVersionBId !== undefined ? {
            equals: item.modelVersionBId
          } : undefined,
      },
      update: {
        id: item.id !== undefined ? {
            set: item.id
          } : undefined,
        name: item.name !== undefined ? {
            set: item.name
          } : undefined,
        description: item.description !== undefined ? {
            set: item.description
          } : undefined,
        status: item.status !== undefined ? {
            set: item.status
          } : undefined,
        trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
            set: item.trafficSplitControlPercent
          } : undefined,
        trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
            set: item.trafficSplitTreatmentPercent
          } : undefined,
        targetMetrics: item.targetMetrics !== undefined ? {
            set: item.targetMetrics
          } : undefined,
        successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
            set: item.successCriteriaPrimaryMetric
          } : undefined,
        successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
            set: item.successCriteriaMinimumDetectableEffect
          } : undefined,
        successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
            set: item.successCriteriaSignificanceLevel
          } : undefined,
        successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
            set: item.successCriteriaPowerLevel
          } : undefined,
        startDate: item.startDate !== undefined ? {
            set: item.startDate
          } : undefined,
        endDate: item.endDate !== undefined ? {
            set: item.endDate
          } : undefined,
        plannedDuration: item.plannedDuration !== undefined ? {
            set: item.plannedDuration
          } : undefined,
        resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
            set: item.resultsControlMetrics
          } : undefined,
        resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
            set: item.resultsTreatmentMetrics
          } : undefined,
        resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
            set: item.resultsStatisticalSignificance
          } : undefined,
        resultsPValues: item.resultsPValues !== undefined ? {
            set: item.resultsPValues
          } : undefined,
        resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
            set: item.resultsConfidenceIntervals
          } : undefined,
        resultsRecommendation: item.resultsRecommendation !== undefined ? {
            set: item.resultsRecommendation
          } : undefined,
        metadataEnvironment: item.metadataEnvironment !== undefined ? {
            set: item.metadataEnvironment
          } : undefined,
        metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
            set: item.metadataEligibilityCriteria
          } : undefined,
        metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
            set: item.metadataExclusionCriteria
          } : undefined,
        metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
            set: item.metadataSegmentationRules
          } : undefined,
        completedAt: item.completedAt !== undefined ? {
            set: item.completedAt
          } : undefined,
    treatmentVersion: item.treatmentVersion ? 
    typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && (Object.keys(item.treatmentVersion)[0] === 'id' || Object.keys(item.treatmentVersion)[0] === 'symbol')
? {
    connect: {
      id: item.treatmentVersion.id
    }
} : { upsert: {
        where: {
          id: item.treatmentVersion.id !== undefined ? {
              equals: item.treatmentVersion.id
            } : undefined,
          parentVersionId: item.treatmentVersion.parentVersionId !== undefined ? {
              equals: item.treatmentVersion.parentVersionId
            } : undefined,
        },
        update: {
          id: item.treatmentVersion.id !== undefined ? {
              set: item.treatmentVersion.id
            } : undefined,
          modelName: item.treatmentVersion.modelName !== undefined ? {
              set: item.treatmentVersion.modelName
            } : undefined,
          version: item.treatmentVersion.version !== undefined ? {
              set: item.treatmentVersion.version
            } : undefined,
          status: item.treatmentVersion.status !== undefined ? {
              set: item.treatmentVersion.status
            } : undefined,
          performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? {
              set: item.treatmentVersion.performanceAccuracy
            } : undefined,
          performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? {
              set: item.treatmentVersion.performancePrecision
            } : undefined,
          performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? {
              set: item.treatmentVersion.performanceRecall
            } : undefined,
          performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? {
              set: item.treatmentVersion.performanceF1Score
            } : undefined,
          performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? {
              set: item.treatmentVersion.performanceAuc
            } : undefined,
          performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? {
              set: item.treatmentVersion.performanceSharpeRatio
            } : undefined,
          performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? {
              set: item.treatmentVersion.performanceMaxDrawdown
            } : undefined,
          performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? {
              set: item.treatmentVersion.performanceWinRate
            } : undefined,
          performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? {
              set: item.treatmentVersion.performanceAvgReturn
            } : undefined,
          performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? {
              set: item.treatmentVersion.performanceCalibrationScore
            } : undefined,
          performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? {
              set: item.treatmentVersion.performanceStabilityScore
            } : undefined,
          validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? {
              set: item.treatmentVersion.validationCrossValidationScore
            } : undefined,
          validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? {
              set: item.treatmentVersion.validationOutOfSamplePerformance
            } : undefined,
          validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? {
              set: item.treatmentVersion.validationBacktestResults
            } : undefined,
          validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? {
              set: item.treatmentVersion.validationStatTestResults
            } : undefined,
          deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? {
              set: item.treatmentVersion.deploymentEnvironment
            } : undefined,
          deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? {
              set: item.treatmentVersion.deploymentTrafficAllocation
            } : undefined,
          deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? {
              set: item.treatmentVersion.deploymentRolloutStrategy
            } : undefined,
          deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? {
              set: item.treatmentVersion.deploymentHealthCheckConfig
            } : undefined,
          trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? {
              set: item.treatmentVersion.trainingStartTime
            } : undefined,
          trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? {
              set: item.treatmentVersion.trainingEndTime
            } : undefined,
          trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? {
              set: item.treatmentVersion.trainingDuration
            } : undefined,
          trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? {
              set: item.treatmentVersion.trainingDatasetSize
            } : undefined,
          trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? {
              set: item.treatmentVersion.trainingFeaturesUsed
            } : undefined,
          trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? {
              set: item.treatmentVersion.trainingHyperparameters
            } : undefined,
          trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? {
              set: item.treatmentVersion.trainingResourcePeakMemoryMB
            } : undefined,
          trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? {
              set: item.treatmentVersion.trainingResourceTotalCpuHours
            } : undefined,
          trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? {
              set: item.treatmentVersion.trainingResourceGpuHours
            } : undefined,
          deployedAt: item.treatmentVersion.deployedAt !== undefined ? {
              set: item.treatmentVersion.deployedAt
            } : undefined,
          deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? {
              set: item.treatmentVersion.deprecatedAt
            } : undefined,
      parentVersion: item.treatmentVersion.parentVersion ? 
      typeof item.treatmentVersion.parentVersion === 'object' && Object.keys(item.treatmentVersion.parentVersion).length === 1 && (Object.keys(item.treatmentVersion.parentVersion)[0] === 'id' || Object.keys(item.treatmentVersion.parentVersion)[0] === 'symbol')
? {
      connect: {
        id: item.treatmentVersion.parentVersion.id
      }
} : { upsert: {
          where: {
            id: item.treatmentVersion.parentVersion.id !== undefined ? {
                equals: item.treatmentVersion.parentVersion.id
              } : undefined,
            parentVersionId: item.treatmentVersion.parentVersion.parentVersionId !== undefined ? {
                equals: item.treatmentVersion.parentVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: item.treatmentVersion.parentVersion.id !== undefined ? {
                set: item.treatmentVersion.parentVersion.id
              } : undefined,
            modelName: item.treatmentVersion.parentVersion.modelName !== undefined ? {
                set: item.treatmentVersion.parentVersion.modelName
              } : undefined,
            version: item.treatmentVersion.parentVersion.version !== undefined ? {
                set: item.treatmentVersion.parentVersion.version
              } : undefined,
            status: item.treatmentVersion.parentVersion.status !== undefined ? {
                set: item.treatmentVersion.parentVersion.status
              } : undefined,
            performanceAccuracy: item.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceAccuracy
              } : undefined,
            performancePrecision: item.treatmentVersion.parentVersion.performancePrecision !== undefined ? {
                set: item.treatmentVersion.parentVersion.performancePrecision
              } : undefined,
            performanceRecall: item.treatmentVersion.parentVersion.performanceRecall !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceRecall
              } : undefined,
            performanceF1Score: item.treatmentVersion.parentVersion.performanceF1Score !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceF1Score
              } : undefined,
            performanceAuc: item.treatmentVersion.parentVersion.performanceAuc !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.treatmentVersion.parentVersion.performanceWinRate !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? {
                set: item.treatmentVersion.parentVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? {
                set: item.treatmentVersion.parentVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? {
                set: item.treatmentVersion.parentVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? {
                set: item.treatmentVersion.parentVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? {
                set: item.treatmentVersion.parentVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? {
                set: item.treatmentVersion.parentVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? {
                set: item.treatmentVersion.parentVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? {
                set: item.treatmentVersion.parentVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.treatmentVersion.parentVersion.trainingStartTime !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingStartTime
              } : undefined,
            trainingEndTime: item.treatmentVersion.parentVersion.trainingEndTime !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingEndTime
              } : undefined,
            trainingDuration: item.treatmentVersion.parentVersion.trainingDuration !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: item.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.treatmentVersion.parentVersion.deployedAt !== undefined ? {
                set: item.treatmentVersion.parentVersion.deployedAt
              } : undefined,
            deprecatedAt: item.treatmentVersion.parentVersion.deprecatedAt !== undefined ? {
                set: item.treatmentVersion.parentVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.treatmentVersion.parentVersion.modelName !== undefined ? item.treatmentVersion.parentVersion.modelName : undefined,
            version: item.treatmentVersion.parentVersion.version !== undefined ? item.treatmentVersion.parentVersion.version : undefined,
            status: item.treatmentVersion.parentVersion.status !== undefined ? item.treatmentVersion.parentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.parentVersion.performancePrecision !== undefined ? item.treatmentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.parentVersion.performanceRecall !== undefined ? item.treatmentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.parentVersion.performanceF1Score !== undefined ? item.treatmentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.parentVersion.performanceAuc !== undefined ? item.treatmentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.parentVersion.performanceWinRate !== undefined ? item.treatmentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.parentVersion.trainingStartTime !== undefined ? item.treatmentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.parentVersion.trainingEndTime !== undefined ? item.treatmentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.parentVersion.trainingDuration !== undefined ? item.treatmentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.parentVersion.deployedAt !== undefined ? item.treatmentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.parentVersion.deprecatedAt !== undefined ? item.treatmentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      childVersions: item.treatmentVersion.childVersions ? 
      Array.isArray(item.treatmentVersion.childVersions) && item.treatmentVersion.childVersions.length > 0 && item.treatmentVersion.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.treatmentVersion.childVersions.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.treatmentVersion.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            parentVersionId: item.parentVersionId !== undefined ? {
                equals: item.parentVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            modelName: item.modelName !== undefined ? {
                set: item.modelName
              } : undefined,
            version: item.version !== undefined ? {
                set: item.version
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? {
                set: item.performanceAccuracy
              } : undefined,
            performancePrecision: item.performancePrecision !== undefined ? {
                set: item.performancePrecision
              } : undefined,
            performanceRecall: item.performanceRecall !== undefined ? {
                set: item.performanceRecall
              } : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? {
                set: item.performanceF1Score
              } : undefined,
            performanceAuc: item.performanceAuc !== undefined ? {
                set: item.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
                set: item.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
                set: item.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? {
                set: item.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
                set: item.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
                set: item.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
                set: item.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
                set: item.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
                set: item.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? {
                set: item.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? {
                set: item.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
                set: item.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
                set: item.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
                set: item.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
                set: item.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? {
                set: item.trainingStartTime
              } : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? {
                set: item.trainingEndTime
              } : undefined,
            trainingDuration: item.trainingDuration !== undefined ? {
                set: item.trainingDuration
              } : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
                set: item.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
                set: item.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
                set: item.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
                set: item.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
                set: item.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.deployedAt !== undefined ? {
                set: item.deployedAt
              } : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? {
                set: item.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.treatmentVersion.artifacts ? 
      Array.isArray(item.treatmentVersion.artifacts) && item.treatmentVersion.artifacts.length > 0 && item.treatmentVersion.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.treatmentVersion.artifacts.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.treatmentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.treatmentVersion.abTestsAsControl ? 
      Array.isArray(item.treatmentVersion.abTestsAsControl) && item.treatmentVersion.abTestsAsControl.length > 0 && item.treatmentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.treatmentVersion.abTestsAsControl.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.treatmentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.treatmentVersion.featureImportanceAnalyses ? 
      Array.isArray(item.treatmentVersion.featureImportanceAnalyses) && item.treatmentVersion.featureImportanceAnalyses.length > 0 && item.treatmentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            analysisType: item.analysisType !== undefined ? {
                set: item.analysisType
              } : undefined,
            featureImportances: item.featureImportances !== undefined ? {
                set: item.featureImportances
              } : undefined,
            globalImportance: item.globalImportance !== undefined ? {
                set: item.globalImportance
              } : undefined,
            localImportance: item.localImportance !== undefined ? {
                set: item.localImportance
              } : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
                set: item.analysisMetadataSampleSize
              } : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
                set: item.analysisMetadataBaselineAccuracy
              } : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
                set: item.analysisMetadataAnalysisDate
              } : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
                set: item.analysisMetadataComputationTime
              } : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
                set: item.analysisMetadataAnalysisParameters
              } : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
                set: item.insightsTopFeatures
              } : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
                set: item.insightsRedundantFeatures
              } : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
                set: item.insightsUnexpectedImportances
              } : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
                set: item.insightsStabilityScore
              } : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? {
                set: item.insightsRecommendations
              } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
        create: {
          modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
          version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
          status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
          performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
          performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
          performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
          performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
          performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
          performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
          performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
          validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
          trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
          trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
          trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
          deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
          deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
      parentVersion: item.treatmentVersion.parentVersion ? 
        typeof item.treatmentVersion.parentVersion === 'object' && Object.keys(item.treatmentVersion.parentVersion).length === 1 && Object.keys(item.treatmentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.parentVersion.id !== undefined ? item.treatmentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.parentVersion.modelName !== undefined ? item.treatmentVersion.parentVersion.modelName : undefined,
            version: item.treatmentVersion.parentVersion.version !== undefined ? item.treatmentVersion.parentVersion.version : undefined,
            status: item.treatmentVersion.parentVersion.status !== undefined ? item.treatmentVersion.parentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.parentVersion.performancePrecision !== undefined ? item.treatmentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.parentVersion.performanceRecall !== undefined ? item.treatmentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.parentVersion.performanceF1Score !== undefined ? item.treatmentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.parentVersion.performanceAuc !== undefined ? item.treatmentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.parentVersion.performanceWinRate !== undefined ? item.treatmentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.parentVersion.trainingStartTime !== undefined ? item.treatmentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.parentVersion.trainingEndTime !== undefined ? item.treatmentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.parentVersion.trainingDuration !== undefined ? item.treatmentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.parentVersion.deployedAt !== undefined ? item.treatmentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.parentVersion.deprecatedAt !== undefined ? item.treatmentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      childVersions: item.treatmentVersion.childVersions ? 
        Array.isArray(item.treatmentVersion.childVersions) && item.treatmentVersion.childVersions.length > 0 &&  item.treatmentVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.treatmentVersion.artifacts ? 
        Array.isArray(item.treatmentVersion.artifacts) && item.treatmentVersion.artifacts.length > 0 &&  item.treatmentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.treatmentVersion.abTestsAsControl ? 
        Array.isArray(item.treatmentVersion.abTestsAsControl) && item.treatmentVersion.abTestsAsControl.length > 0 &&  item.treatmentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.treatmentVersion.featureImportanceAnalyses ? 
        Array.isArray(item.treatmentVersion.featureImportanceAnalyses) && item.treatmentVersion.featureImportanceAnalyses.length > 0 &&  item.treatmentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
      },
      create: {
        name: item.name !== undefined ? item.name : undefined,
        description: item.description !== undefined ? item.description : undefined,
        status: item.status !== undefined ? item.status : undefined,
        trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
        trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
        targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
        successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
        successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
        successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
        successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
        startDate: item.startDate !== undefined ? item.startDate : undefined,
        endDate: item.endDate !== undefined ? item.endDate : undefined,
        resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
        resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
        resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
        resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
        resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
        resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
        metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
        metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
        metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
        metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
        completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
    treatmentVersion: item.treatmentVersion ? 
      typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
          id: item.treatmentVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
        },
        create: {
          modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
          version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
          status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
          performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
          performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
          performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
          performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
          performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
          performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
          performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
          validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
          trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
          trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
          trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
          deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
          deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
      parentVersion: item.treatmentVersion.parentVersion ? 
        typeof item.treatmentVersion.parentVersion === 'object' && Object.keys(item.treatmentVersion.parentVersion).length === 1 && Object.keys(item.treatmentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.parentVersion.id !== undefined ? item.treatmentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.parentVersion.modelName !== undefined ? item.treatmentVersion.parentVersion.modelName : undefined,
            version: item.treatmentVersion.parentVersion.version !== undefined ? item.treatmentVersion.parentVersion.version : undefined,
            status: item.treatmentVersion.parentVersion.status !== undefined ? item.treatmentVersion.parentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.parentVersion.performancePrecision !== undefined ? item.treatmentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.parentVersion.performanceRecall !== undefined ? item.treatmentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.parentVersion.performanceF1Score !== undefined ? item.treatmentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.parentVersion.performanceAuc !== undefined ? item.treatmentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.parentVersion.performanceWinRate !== undefined ? item.treatmentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.parentVersion.trainingStartTime !== undefined ? item.treatmentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.parentVersion.trainingEndTime !== undefined ? item.treatmentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.parentVersion.trainingDuration !== undefined ? item.treatmentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.parentVersion.deployedAt !== undefined ? item.treatmentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.parentVersion.deprecatedAt !== undefined ? item.treatmentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      childVersions: item.treatmentVersion.childVersions ? 
        Array.isArray(item.treatmentVersion.childVersions) && item.treatmentVersion.childVersions.length > 0 &&  item.treatmentVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.treatmentVersion.artifacts ? 
        Array.isArray(item.treatmentVersion.artifacts) && item.treatmentVersion.artifacts.length > 0 &&  item.treatmentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.treatmentVersion.abTestsAsControl ? 
        Array.isArray(item.treatmentVersion.abTestsAsControl) && item.treatmentVersion.abTestsAsControl.length > 0 &&  item.treatmentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.treatmentVersion.featureImportanceAnalyses ? 
        Array.isArray(item.treatmentVersion.featureImportanceAnalyses) && item.treatmentVersion.featureImportanceAnalyses.length > 0 &&  item.treatmentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
      },
    }))
  } : undefined,
  abTestsAsTreatment: props.abTestsAsTreatment ? 
  Array.isArray(props.abTestsAsTreatment) && props.abTestsAsTreatment.length > 0 && props.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
  connect: props.abTestsAsTreatment.map((item: any) => ({
    id: item.id
  }))
} : { upsert: props.abTestsAsTreatment.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
        name: item.name !== undefined ? {
            equals: item.name
          } : undefined,
        modelVersionAId: item.modelVersionAId !== undefined ? {
            equals: item.modelVersionAId
          } : undefined,
        modelVersionBId: item.modelVersionBId !== undefined ? {
            equals: item.modelVersionBId
          } : undefined,
      },
      update: {
        id: item.id !== undefined ? {
            set: item.id
          } : undefined,
        name: item.name !== undefined ? {
            set: item.name
          } : undefined,
        description: item.description !== undefined ? {
            set: item.description
          } : undefined,
        status: item.status !== undefined ? {
            set: item.status
          } : undefined,
        trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
            set: item.trafficSplitControlPercent
          } : undefined,
        trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
            set: item.trafficSplitTreatmentPercent
          } : undefined,
        targetMetrics: item.targetMetrics !== undefined ? {
            set: item.targetMetrics
          } : undefined,
        successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
            set: item.successCriteriaPrimaryMetric
          } : undefined,
        successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
            set: item.successCriteriaMinimumDetectableEffect
          } : undefined,
        successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
            set: item.successCriteriaSignificanceLevel
          } : undefined,
        successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
            set: item.successCriteriaPowerLevel
          } : undefined,
        startDate: item.startDate !== undefined ? {
            set: item.startDate
          } : undefined,
        endDate: item.endDate !== undefined ? {
            set: item.endDate
          } : undefined,
        plannedDuration: item.plannedDuration !== undefined ? {
            set: item.plannedDuration
          } : undefined,
        resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
            set: item.resultsControlMetrics
          } : undefined,
        resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
            set: item.resultsTreatmentMetrics
          } : undefined,
        resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
            set: item.resultsStatisticalSignificance
          } : undefined,
        resultsPValues: item.resultsPValues !== undefined ? {
            set: item.resultsPValues
          } : undefined,
        resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
            set: item.resultsConfidenceIntervals
          } : undefined,
        resultsRecommendation: item.resultsRecommendation !== undefined ? {
            set: item.resultsRecommendation
          } : undefined,
        metadataEnvironment: item.metadataEnvironment !== undefined ? {
            set: item.metadataEnvironment
          } : undefined,
        metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
            set: item.metadataEligibilityCriteria
          } : undefined,
        metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
            set: item.metadataExclusionCriteria
          } : undefined,
        metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
            set: item.metadataSegmentationRules
          } : undefined,
        completedAt: item.completedAt !== undefined ? {
            set: item.completedAt
          } : undefined,
    controlVersion: item.controlVersion ? 
    typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && (Object.keys(item.controlVersion)[0] === 'id' || Object.keys(item.controlVersion)[0] === 'symbol')
? {
    connect: {
      id: item.controlVersion.id
    }
} : { upsert: {
        where: {
          id: item.controlVersion.id !== undefined ? {
              equals: item.controlVersion.id
            } : undefined,
          parentVersionId: item.controlVersion.parentVersionId !== undefined ? {
              equals: item.controlVersion.parentVersionId
            } : undefined,
        },
        update: {
          id: item.controlVersion.id !== undefined ? {
              set: item.controlVersion.id
            } : undefined,
          modelName: item.controlVersion.modelName !== undefined ? {
              set: item.controlVersion.modelName
            } : undefined,
          version: item.controlVersion.version !== undefined ? {
              set: item.controlVersion.version
            } : undefined,
          status: item.controlVersion.status !== undefined ? {
              set: item.controlVersion.status
            } : undefined,
          performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? {
              set: item.controlVersion.performanceAccuracy
            } : undefined,
          performancePrecision: item.controlVersion.performancePrecision !== undefined ? {
              set: item.controlVersion.performancePrecision
            } : undefined,
          performanceRecall: item.controlVersion.performanceRecall !== undefined ? {
              set: item.controlVersion.performanceRecall
            } : undefined,
          performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? {
              set: item.controlVersion.performanceF1Score
            } : undefined,
          performanceAuc: item.controlVersion.performanceAuc !== undefined ? {
              set: item.controlVersion.performanceAuc
            } : undefined,
          performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? {
              set: item.controlVersion.performanceSharpeRatio
            } : undefined,
          performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? {
              set: item.controlVersion.performanceMaxDrawdown
            } : undefined,
          performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? {
              set: item.controlVersion.performanceWinRate
            } : undefined,
          performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? {
              set: item.controlVersion.performanceAvgReturn
            } : undefined,
          performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? {
              set: item.controlVersion.performanceCalibrationScore
            } : undefined,
          performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? {
              set: item.controlVersion.performanceStabilityScore
            } : undefined,
          validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? {
              set: item.controlVersion.validationCrossValidationScore
            } : undefined,
          validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? {
              set: item.controlVersion.validationOutOfSamplePerformance
            } : undefined,
          validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? {
              set: item.controlVersion.validationBacktestResults
            } : undefined,
          validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? {
              set: item.controlVersion.validationStatTestResults
            } : undefined,
          deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? {
              set: item.controlVersion.deploymentEnvironment
            } : undefined,
          deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? {
              set: item.controlVersion.deploymentTrafficAllocation
            } : undefined,
          deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? {
              set: item.controlVersion.deploymentRolloutStrategy
            } : undefined,
          deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? {
              set: item.controlVersion.deploymentHealthCheckConfig
            } : undefined,
          trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? {
              set: item.controlVersion.trainingStartTime
            } : undefined,
          trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? {
              set: item.controlVersion.trainingEndTime
            } : undefined,
          trainingDuration: item.controlVersion.trainingDuration !== undefined ? {
              set: item.controlVersion.trainingDuration
            } : undefined,
          trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? {
              set: item.controlVersion.trainingDatasetSize
            } : undefined,
          trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? {
              set: item.controlVersion.trainingFeaturesUsed
            } : undefined,
          trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? {
              set: item.controlVersion.trainingHyperparameters
            } : undefined,
          trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? {
              set: item.controlVersion.trainingResourcePeakMemoryMB
            } : undefined,
          trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? {
              set: item.controlVersion.trainingResourceTotalCpuHours
            } : undefined,
          trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? {
              set: item.controlVersion.trainingResourceGpuHours
            } : undefined,
          deployedAt: item.controlVersion.deployedAt !== undefined ? {
              set: item.controlVersion.deployedAt
            } : undefined,
          deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? {
              set: item.controlVersion.deprecatedAt
            } : undefined,
      parentVersion: item.controlVersion.parentVersion ? 
      typeof item.controlVersion.parentVersion === 'object' && Object.keys(item.controlVersion.parentVersion).length === 1 && (Object.keys(item.controlVersion.parentVersion)[0] === 'id' || Object.keys(item.controlVersion.parentVersion)[0] === 'symbol')
? {
      connect: {
        id: item.controlVersion.parentVersion.id
      }
} : { upsert: {
          where: {
            id: item.controlVersion.parentVersion.id !== undefined ? {
                equals: item.controlVersion.parentVersion.id
              } : undefined,
            parentVersionId: item.controlVersion.parentVersion.parentVersionId !== undefined ? {
                equals: item.controlVersion.parentVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: item.controlVersion.parentVersion.id !== undefined ? {
                set: item.controlVersion.parentVersion.id
              } : undefined,
            modelName: item.controlVersion.parentVersion.modelName !== undefined ? {
                set: item.controlVersion.parentVersion.modelName
              } : undefined,
            version: item.controlVersion.parentVersion.version !== undefined ? {
                set: item.controlVersion.parentVersion.version
              } : undefined,
            status: item.controlVersion.parentVersion.status !== undefined ? {
                set: item.controlVersion.parentVersion.status
              } : undefined,
            performanceAccuracy: item.controlVersion.parentVersion.performanceAccuracy !== undefined ? {
                set: item.controlVersion.parentVersion.performanceAccuracy
              } : undefined,
            performancePrecision: item.controlVersion.parentVersion.performancePrecision !== undefined ? {
                set: item.controlVersion.parentVersion.performancePrecision
              } : undefined,
            performanceRecall: item.controlVersion.parentVersion.performanceRecall !== undefined ? {
                set: item.controlVersion.parentVersion.performanceRecall
              } : undefined,
            performanceF1Score: item.controlVersion.parentVersion.performanceF1Score !== undefined ? {
                set: item.controlVersion.parentVersion.performanceF1Score
              } : undefined,
            performanceAuc: item.controlVersion.parentVersion.performanceAuc !== undefined ? {
                set: item.controlVersion.parentVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? {
                set: item.controlVersion.parentVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? {
                set: item.controlVersion.parentVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.controlVersion.parentVersion.performanceWinRate !== undefined ? {
                set: item.controlVersion.parentVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.controlVersion.parentVersion.performanceAvgReturn !== undefined ? {
                set: item.controlVersion.parentVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? {
                set: item.controlVersion.parentVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.controlVersion.parentVersion.performanceStabilityScore !== undefined ? {
                set: item.controlVersion.parentVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? {
                set: item.controlVersion.parentVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? {
                set: item.controlVersion.parentVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.controlVersion.parentVersion.validationBacktestResults !== undefined ? {
                set: item.controlVersion.parentVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.controlVersion.parentVersion.validationStatTestResults !== undefined ? {
                set: item.controlVersion.parentVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.controlVersion.parentVersion.deploymentEnvironment !== undefined ? {
                set: item.controlVersion.parentVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? {
                set: item.controlVersion.parentVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? {
                set: item.controlVersion.parentVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? {
                set: item.controlVersion.parentVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.controlVersion.parentVersion.trainingStartTime !== undefined ? {
                set: item.controlVersion.parentVersion.trainingStartTime
              } : undefined,
            trainingEndTime: item.controlVersion.parentVersion.trainingEndTime !== undefined ? {
                set: item.controlVersion.parentVersion.trainingEndTime
              } : undefined,
            trainingDuration: item.controlVersion.parentVersion.trainingDuration !== undefined ? {
                set: item.controlVersion.parentVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: item.controlVersion.parentVersion.trainingDatasetSize !== undefined ? {
                set: item.controlVersion.parentVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? {
                set: item.controlVersion.parentVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.controlVersion.parentVersion.trainingHyperparameters !== undefined ? {
                set: item.controlVersion.parentVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.controlVersion.parentVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: item.controlVersion.parentVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? {
                set: item.controlVersion.parentVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.controlVersion.parentVersion.deployedAt !== undefined ? {
                set: item.controlVersion.parentVersion.deployedAt
              } : undefined,
            deprecatedAt: item.controlVersion.parentVersion.deprecatedAt !== undefined ? {
                set: item.controlVersion.parentVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.controlVersion.parentVersion.modelName !== undefined ? item.controlVersion.parentVersion.modelName : undefined,
            version: item.controlVersion.parentVersion.version !== undefined ? item.controlVersion.parentVersion.version : undefined,
            status: item.controlVersion.parentVersion.status !== undefined ? item.controlVersion.parentVersion.status : undefined,
            performanceAccuracy: item.controlVersion.parentVersion.performanceAccuracy !== undefined ? item.controlVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.parentVersion.performancePrecision !== undefined ? item.controlVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.parentVersion.performanceRecall !== undefined ? item.controlVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.parentVersion.performanceF1Score !== undefined ? item.controlVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.parentVersion.performanceAuc !== undefined ? item.controlVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? item.controlVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.parentVersion.performanceWinRate !== undefined ? item.controlVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.parentVersion.performanceAvgReturn !== undefined ? item.controlVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? item.controlVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.parentVersion.performanceStabilityScore !== undefined ? item.controlVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? item.controlVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.parentVersion.validationBacktestResults !== undefined ? item.controlVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.parentVersion.validationStatTestResults !== undefined ? item.controlVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.parentVersion.deploymentEnvironment !== undefined ? item.controlVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.parentVersion.trainingStartTime !== undefined ? item.controlVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.parentVersion.trainingEndTime !== undefined ? item.controlVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.parentVersion.trainingDuration !== undefined ? item.controlVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.parentVersion.trainingDatasetSize !== undefined ? item.controlVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.parentVersion.trainingHyperparameters !== undefined ? item.controlVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.parentVersion.deployedAt !== undefined ? item.controlVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.parentVersion.deprecatedAt !== undefined ? item.controlVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      childVersions: item.controlVersion.childVersions ? 
      Array.isArray(item.controlVersion.childVersions) && item.controlVersion.childVersions.length > 0 && item.controlVersion.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.controlVersion.childVersions.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.controlVersion.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            parentVersionId: item.parentVersionId !== undefined ? {
                equals: item.parentVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            modelName: item.modelName !== undefined ? {
                set: item.modelName
              } : undefined,
            version: item.version !== undefined ? {
                set: item.version
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? {
                set: item.performanceAccuracy
              } : undefined,
            performancePrecision: item.performancePrecision !== undefined ? {
                set: item.performancePrecision
              } : undefined,
            performanceRecall: item.performanceRecall !== undefined ? {
                set: item.performanceRecall
              } : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? {
                set: item.performanceF1Score
              } : undefined,
            performanceAuc: item.performanceAuc !== undefined ? {
                set: item.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
                set: item.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
                set: item.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? {
                set: item.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
                set: item.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
                set: item.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
                set: item.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
                set: item.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
                set: item.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? {
                set: item.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? {
                set: item.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
                set: item.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
                set: item.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
                set: item.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
                set: item.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? {
                set: item.trainingStartTime
              } : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? {
                set: item.trainingEndTime
              } : undefined,
            trainingDuration: item.trainingDuration !== undefined ? {
                set: item.trainingDuration
              } : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
                set: item.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
                set: item.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
                set: item.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
                set: item.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
                set: item.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.deployedAt !== undefined ? {
                set: item.deployedAt
              } : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? {
                set: item.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.controlVersion.artifacts ? 
      Array.isArray(item.controlVersion.artifacts) && item.controlVersion.artifacts.length > 0 && item.controlVersion.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.controlVersion.artifacts.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.controlVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.controlVersion.abTestsAsTreatment ? 
      Array.isArray(item.controlVersion.abTestsAsTreatment) && item.controlVersion.abTestsAsTreatment.length > 0 && item.controlVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.controlVersion.abTestsAsTreatment.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.controlVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.controlVersion.featureImportanceAnalyses ? 
      Array.isArray(item.controlVersion.featureImportanceAnalyses) && item.controlVersion.featureImportanceAnalyses.length > 0 && item.controlVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.controlVersion.featureImportanceAnalyses.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.controlVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            analysisType: item.analysisType !== undefined ? {
                set: item.analysisType
              } : undefined,
            featureImportances: item.featureImportances !== undefined ? {
                set: item.featureImportances
              } : undefined,
            globalImportance: item.globalImportance !== undefined ? {
                set: item.globalImportance
              } : undefined,
            localImportance: item.localImportance !== undefined ? {
                set: item.localImportance
              } : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
                set: item.analysisMetadataSampleSize
              } : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
                set: item.analysisMetadataBaselineAccuracy
              } : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
                set: item.analysisMetadataAnalysisDate
              } : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
                set: item.analysisMetadataComputationTime
              } : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
                set: item.analysisMetadataAnalysisParameters
              } : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
                set: item.insightsTopFeatures
              } : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
                set: item.insightsRedundantFeatures
              } : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
                set: item.insightsUnexpectedImportances
              } : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
                set: item.insightsStabilityScore
              } : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? {
                set: item.insightsRecommendations
              } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
        create: {
          modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
          version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
          status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
          performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
          performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
          performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
          performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
          performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
          performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
          performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
          validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
          deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
          trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
          trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
          trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
          deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
          deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
      parentVersion: item.controlVersion.parentVersion ? 
        typeof item.controlVersion.parentVersion === 'object' && Object.keys(item.controlVersion.parentVersion).length === 1 && Object.keys(item.controlVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.parentVersion.id !== undefined ? item.controlVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.parentVersion.modelName !== undefined ? item.controlVersion.parentVersion.modelName : undefined,
            version: item.controlVersion.parentVersion.version !== undefined ? item.controlVersion.parentVersion.version : undefined,
            status: item.controlVersion.parentVersion.status !== undefined ? item.controlVersion.parentVersion.status : undefined,
            performanceAccuracy: item.controlVersion.parentVersion.performanceAccuracy !== undefined ? item.controlVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.parentVersion.performancePrecision !== undefined ? item.controlVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.parentVersion.performanceRecall !== undefined ? item.controlVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.parentVersion.performanceF1Score !== undefined ? item.controlVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.parentVersion.performanceAuc !== undefined ? item.controlVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? item.controlVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.parentVersion.performanceWinRate !== undefined ? item.controlVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.parentVersion.performanceAvgReturn !== undefined ? item.controlVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? item.controlVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.parentVersion.performanceStabilityScore !== undefined ? item.controlVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? item.controlVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.parentVersion.validationBacktestResults !== undefined ? item.controlVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.parentVersion.validationStatTestResults !== undefined ? item.controlVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.parentVersion.deploymentEnvironment !== undefined ? item.controlVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.parentVersion.trainingStartTime !== undefined ? item.controlVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.parentVersion.trainingEndTime !== undefined ? item.controlVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.parentVersion.trainingDuration !== undefined ? item.controlVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.parentVersion.trainingDatasetSize !== undefined ? item.controlVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.parentVersion.trainingHyperparameters !== undefined ? item.controlVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.parentVersion.deployedAt !== undefined ? item.controlVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.parentVersion.deprecatedAt !== undefined ? item.controlVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      childVersions: item.controlVersion.childVersions ? 
        Array.isArray(item.controlVersion.childVersions) && item.controlVersion.childVersions.length > 0 &&  item.controlVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.controlVersion.artifacts ? 
        Array.isArray(item.controlVersion.artifacts) && item.controlVersion.artifacts.length > 0 &&  item.controlVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.controlVersion.abTestsAsTreatment ? 
        Array.isArray(item.controlVersion.abTestsAsTreatment) && item.controlVersion.abTestsAsTreatment.length > 0 &&  item.controlVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.controlVersion.featureImportanceAnalyses ? 
        Array.isArray(item.controlVersion.featureImportanceAnalyses) && item.controlVersion.featureImportanceAnalyses.length > 0 &&  item.controlVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
      },
      create: {
        name: item.name !== undefined ? item.name : undefined,
        description: item.description !== undefined ? item.description : undefined,
        status: item.status !== undefined ? item.status : undefined,
        trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
        trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
        targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
        successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
        successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
        successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
        successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
        startDate: item.startDate !== undefined ? item.startDate : undefined,
        endDate: item.endDate !== undefined ? item.endDate : undefined,
        resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
        resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
        resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
        resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
        resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
        resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
        metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
        metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
        metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
        metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
        completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
    controlVersion: item.controlVersion ? 
      typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
          id: item.controlVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
        },
        create: {
          modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
          version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
          status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
          performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
          performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
          performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
          performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
          performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
          performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
          performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
          validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
          deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
          trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
          trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
          trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
          deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
          deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
      parentVersion: item.controlVersion.parentVersion ? 
        typeof item.controlVersion.parentVersion === 'object' && Object.keys(item.controlVersion.parentVersion).length === 1 && Object.keys(item.controlVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.parentVersion.id !== undefined ? item.controlVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.parentVersion.modelName !== undefined ? item.controlVersion.parentVersion.modelName : undefined,
            version: item.controlVersion.parentVersion.version !== undefined ? item.controlVersion.parentVersion.version : undefined,
            status: item.controlVersion.parentVersion.status !== undefined ? item.controlVersion.parentVersion.status : undefined,
            performanceAccuracy: item.controlVersion.parentVersion.performanceAccuracy !== undefined ? item.controlVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.parentVersion.performancePrecision !== undefined ? item.controlVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.parentVersion.performanceRecall !== undefined ? item.controlVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.parentVersion.performanceF1Score !== undefined ? item.controlVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.parentVersion.performanceAuc !== undefined ? item.controlVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? item.controlVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.parentVersion.performanceWinRate !== undefined ? item.controlVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.parentVersion.performanceAvgReturn !== undefined ? item.controlVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? item.controlVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.parentVersion.performanceStabilityScore !== undefined ? item.controlVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? item.controlVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.parentVersion.validationBacktestResults !== undefined ? item.controlVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.parentVersion.validationStatTestResults !== undefined ? item.controlVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.parentVersion.deploymentEnvironment !== undefined ? item.controlVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.parentVersion.trainingStartTime !== undefined ? item.controlVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.parentVersion.trainingEndTime !== undefined ? item.controlVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.parentVersion.trainingDuration !== undefined ? item.controlVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.parentVersion.trainingDatasetSize !== undefined ? item.controlVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.parentVersion.trainingHyperparameters !== undefined ? item.controlVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.parentVersion.deployedAt !== undefined ? item.controlVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.parentVersion.deprecatedAt !== undefined ? item.controlVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      childVersions: item.controlVersion.childVersions ? 
        Array.isArray(item.controlVersion.childVersions) && item.controlVersion.childVersions.length > 0 &&  item.controlVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.controlVersion.artifacts ? 
        Array.isArray(item.controlVersion.artifacts) && item.controlVersion.artifacts.length > 0 &&  item.controlVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.controlVersion.abTestsAsTreatment ? 
        Array.isArray(item.controlVersion.abTestsAsTreatment) && item.controlVersion.abTestsAsTreatment.length > 0 &&  item.controlVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.controlVersion.featureImportanceAnalyses ? 
        Array.isArray(item.controlVersion.featureImportanceAnalyses) && item.controlVersion.featureImportanceAnalyses.length > 0 &&  item.controlVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
      },
    }))
  } : undefined,
  featureImportanceAnalyses: props.featureImportanceAnalyses ? 
  Array.isArray(props.featureImportanceAnalyses) && props.featureImportanceAnalyses.length > 0 && props.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
  connect: props.featureImportanceAnalyses.map((item: any) => ({
    id: item.id
  }))
} : { upsert: props.featureImportanceAnalyses.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
        modelVersionId: item.modelVersionId !== undefined ? {
            equals: item.modelVersionId
          } : undefined,
      },
      update: {
        id: item.id !== undefined ? {
            set: item.id
          } : undefined,
        analysisType: item.analysisType !== undefined ? {
            set: item.analysisType
          } : undefined,
        featureImportances: item.featureImportances !== undefined ? {
            set: item.featureImportances
          } : undefined,
        globalImportance: item.globalImportance !== undefined ? {
            set: item.globalImportance
          } : undefined,
        localImportance: item.localImportance !== undefined ? {
            set: item.localImportance
          } : undefined,
        analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
            set: item.analysisMetadataSampleSize
          } : undefined,
        analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
            set: item.analysisMetadataBaselineAccuracy
          } : undefined,
        analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
            set: item.analysisMetadataAnalysisDate
          } : undefined,
        analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
            set: item.analysisMetadataComputationTime
          } : undefined,
        analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
            set: item.analysisMetadataAnalysisParameters
          } : undefined,
        insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
            set: item.insightsTopFeatures
          } : undefined,
        insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
            set: item.insightsRedundantFeatures
          } : undefined,
        insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
            set: item.insightsUnexpectedImportances
          } : undefined,
        insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
            set: item.insightsStabilityScore
          } : undefined,
        insightsRecommendations: item.insightsRecommendations !== undefined ? {
            set: item.insightsRecommendations
          } : undefined,
      },
      create: {
        analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
        featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
        globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
        localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
        analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
        analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
        analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
        analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
        analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
        insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
        insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
        insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
        insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
        insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
      },
    }))
  } : undefined,
      },
        };

        const filteredVariables = removeUndefinedProps(variables);

        const response = await client.mutate({
          mutation: UPSERT_ONE_MODELVERSION,
          variables: filteredVariables,
          // Don't cache mutations, but ensure we're using the freshest context
          fetchPolicy: 'no-cache'
        });

        if (response.errors && response.errors.length > 0) throw new Error(response.errors[0].message);
        if (response && response.data && response.data.upsertOneModelVersion) {
          return response.data.upsertOneModelVersion;
        } else {
          return null as any;
        }
      } catch (error: any) {
        lastError = error;

        // Check if this is a database connection error that we should retry
        const isConnectionError =
          error.message?.includes('Server has closed the connection') ||
          error.message?.includes('Cannot reach database server') ||
          error.message?.includes('Connection timed out') ||
          error.message?.includes('Accelerate') || // Prisma Accelerate proxy errors
          (error.networkError && error.networkError.message?.includes('Failed to fetch'));

        if (isConnectionError && retryCount < MAX_RETRIES - 1) {
          retryCount++;
          const delay = Math.pow(2, retryCount) * 100; // Exponential backoff: 200ms, 400ms, 800ms
          console.warn("Database connection error, retrying...");
          await new Promise(resolve => setTimeout(resolve, delay));
          continue;
        }

        // Log the error and rethrow
        console.error("Database error occurred:", error);
        throw error;
      }
    }

    // If we exhausted retries, throw the last error
    throw lastError;
  },

  /**
   * Update multiple ModelVersion records.
   * Enhanced with connection resilience against Prisma connection errors.
   * @param props - Array of ModelVersion objects for the updated records.
   * @param globalClient - Apollo Client instance.
   * @returns The count of created records or null.
   */
  async updateMany(props: ModelVersionType[], globalClient?: ApolloClientType<NormalizedCacheObject>): Promise<{ count: number } | null> {
    // Maximum number of retries for database connection issues
    const MAX_RETRIES = 3;
    let retryCount = 0;
    let lastError: any = null;

    // Retry loop to handle potential database connection issues
    while (retryCount < MAX_RETRIES) {
      try {
        const [modules, client] = await Promise.all([
          getApolloModules(),
          globalClient
            ? Promise.resolve(globalClient)
            : importedClient
        ]);

        const { gql, ApolloError } = modules;

        const UPDATE_MANY_MODELVERSION = gql`
          mutation updateManyModelVersion($data: [ModelVersionCreateManyInput!]!) {
            updateManyModelVersion(data: $data) {
              count
            }
          }`;

        const variables = props.map(prop => ({
          where: {
              id: prop.id !== undefined ? prop.id : undefined,

          },
          data: {
              id: prop.id !== undefined ? {
            set: prop.id 
           } : undefined,
  modelName: prop.modelName !== undefined ? {
            set: prop.modelName 
           } : undefined,
  version: prop.version !== undefined ? {
            set: prop.version 
           } : undefined,
  status: prop.status !== undefined ? {
            set: prop.status 
           } : undefined,
  performanceAccuracy: prop.performanceAccuracy !== undefined ? {
            set: prop.performanceAccuracy 
           } : undefined,
  performancePrecision: prop.performancePrecision !== undefined ? {
            set: prop.performancePrecision 
           } : undefined,
  performanceRecall: prop.performanceRecall !== undefined ? {
            set: prop.performanceRecall 
           } : undefined,
  performanceF1Score: prop.performanceF1Score !== undefined ? {
            set: prop.performanceF1Score 
           } : undefined,
  performanceAuc: prop.performanceAuc !== undefined ? {
            set: prop.performanceAuc 
           } : undefined,
  performanceSharpeRatio: prop.performanceSharpeRatio !== undefined ? {
            set: prop.performanceSharpeRatio 
           } : undefined,
  performanceMaxDrawdown: prop.performanceMaxDrawdown !== undefined ? {
            set: prop.performanceMaxDrawdown 
           } : undefined,
  performanceWinRate: prop.performanceWinRate !== undefined ? {
            set: prop.performanceWinRate 
           } : undefined,
  performanceAvgReturn: prop.performanceAvgReturn !== undefined ? {
            set: prop.performanceAvgReturn 
           } : undefined,
  performanceCalibrationScore: prop.performanceCalibrationScore !== undefined ? {
            set: prop.performanceCalibrationScore 
           } : undefined,
  performanceStabilityScore: prop.performanceStabilityScore !== undefined ? {
            set: prop.performanceStabilityScore 
           } : undefined,
  validationCrossValidationScore: prop.validationCrossValidationScore !== undefined ? {
            set: prop.validationCrossValidationScore 
           } : undefined,
  validationOutOfSamplePerformance: prop.validationOutOfSamplePerformance !== undefined ? {
            set: prop.validationOutOfSamplePerformance 
           } : undefined,
  validationBacktestResults: prop.validationBacktestResults !== undefined ? {
            set: prop.validationBacktestResults 
           } : undefined,
  validationStatTestResults: prop.validationStatTestResults !== undefined ? {
            set: prop.validationStatTestResults 
           } : undefined,
  deploymentEnvironment: prop.deploymentEnvironment !== undefined ? {
            set: prop.deploymentEnvironment 
           } : undefined,
  deploymentTrafficAllocation: prop.deploymentTrafficAllocation !== undefined ? {
            set: prop.deploymentTrafficAllocation 
           } : undefined,
  deploymentRolloutStrategy: prop.deploymentRolloutStrategy !== undefined ? {
            set: prop.deploymentRolloutStrategy 
           } : undefined,
  deploymentHealthCheckConfig: prop.deploymentHealthCheckConfig !== undefined ? {
            set: prop.deploymentHealthCheckConfig 
           } : undefined,
  trainingStartTime: prop.trainingStartTime !== undefined ? {
            set: prop.trainingStartTime 
           } : undefined,
  trainingEndTime: prop.trainingEndTime !== undefined ? {
            set: prop.trainingEndTime 
           } : undefined,
  trainingDuration: prop.trainingDuration !== undefined ? {
            set: prop.trainingDuration 
           } : undefined,
  trainingDatasetSize: prop.trainingDatasetSize !== undefined ? {
            set: prop.trainingDatasetSize 
           } : undefined,
  trainingFeaturesUsed: prop.trainingFeaturesUsed !== undefined ? {
            set: prop.trainingFeaturesUsed 
           } : undefined,
  trainingHyperparameters: prop.trainingHyperparameters !== undefined ? {
            set: prop.trainingHyperparameters 
           } : undefined,
  trainingResourcePeakMemoryMB: prop.trainingResourcePeakMemoryMB !== undefined ? {
            set: prop.trainingResourcePeakMemoryMB 
           } : undefined,
  trainingResourceTotalCpuHours: prop.trainingResourceTotalCpuHours !== undefined ? {
            set: prop.trainingResourceTotalCpuHours 
           } : undefined,
  trainingResourceGpuHours: prop.trainingResourceGpuHours !== undefined ? {
            set: prop.trainingResourceGpuHours 
           } : undefined,
  createdAt: prop.createdAt !== undefined ? {
            set: prop.createdAt 
           } : undefined,
  updatedAt: prop.updatedAt !== undefined ? {
            set: prop.updatedAt 
           } : undefined,
  deployedAt: prop.deployedAt !== undefined ? {
            set: prop.deployedAt 
           } : undefined,
  deprecatedAt: prop.deprecatedAt !== undefined ? {
            set: prop.deprecatedAt 
           } : undefined,
  parentVersion: prop.parentVersion ? 
  typeof prop.parentVersion === 'object' && Object.keys(prop.parentVersion).length === 1 && (Object.keys(prop.parentVersion)[0] === 'id' || Object.keys(prop.parentVersion)[0] === 'symbol')
? {
  connect: {
    id: prop.parentVersion.id
  }
} : { upsert: {
      where: {
        id: prop.parentVersion.id !== undefined ? {
            equals: prop.parentVersion.id
          } : undefined,
        parentVersionId: prop.parentVersion.parentVersionId !== undefined ? {
            equals: prop.parentVersion.parentVersionId
          } : undefined,
      },
      update: {
        id: prop.parentVersion.id !== undefined ? {
            set: prop.parentVersion.id
          } : undefined,
        modelName: prop.parentVersion.modelName !== undefined ? {
            set: prop.parentVersion.modelName
          } : undefined,
        version: prop.parentVersion.version !== undefined ? {
            set: prop.parentVersion.version
          } : undefined,
        status: prop.parentVersion.status !== undefined ? {
            set: prop.parentVersion.status
          } : undefined,
        performanceAccuracy: prop.parentVersion.performanceAccuracy !== undefined ? {
            set: prop.parentVersion.performanceAccuracy
          } : undefined,
        performancePrecision: prop.parentVersion.performancePrecision !== undefined ? {
            set: prop.parentVersion.performancePrecision
          } : undefined,
        performanceRecall: prop.parentVersion.performanceRecall !== undefined ? {
            set: prop.parentVersion.performanceRecall
          } : undefined,
        performanceF1Score: prop.parentVersion.performanceF1Score !== undefined ? {
            set: prop.parentVersion.performanceF1Score
          } : undefined,
        performanceAuc: prop.parentVersion.performanceAuc !== undefined ? {
            set: prop.parentVersion.performanceAuc
          } : undefined,
        performanceSharpeRatio: prop.parentVersion.performanceSharpeRatio !== undefined ? {
            set: prop.parentVersion.performanceSharpeRatio
          } : undefined,
        performanceMaxDrawdown: prop.parentVersion.performanceMaxDrawdown !== undefined ? {
            set: prop.parentVersion.performanceMaxDrawdown
          } : undefined,
        performanceWinRate: prop.parentVersion.performanceWinRate !== undefined ? {
            set: prop.parentVersion.performanceWinRate
          } : undefined,
        performanceAvgReturn: prop.parentVersion.performanceAvgReturn !== undefined ? {
            set: prop.parentVersion.performanceAvgReturn
          } : undefined,
        performanceCalibrationScore: prop.parentVersion.performanceCalibrationScore !== undefined ? {
            set: prop.parentVersion.performanceCalibrationScore
          } : undefined,
        performanceStabilityScore: prop.parentVersion.performanceStabilityScore !== undefined ? {
            set: prop.parentVersion.performanceStabilityScore
          } : undefined,
        validationCrossValidationScore: prop.parentVersion.validationCrossValidationScore !== undefined ? {
            set: prop.parentVersion.validationCrossValidationScore
          } : undefined,
        validationOutOfSamplePerformance: prop.parentVersion.validationOutOfSamplePerformance !== undefined ? {
            set: prop.parentVersion.validationOutOfSamplePerformance
          } : undefined,
        validationBacktestResults: prop.parentVersion.validationBacktestResults !== undefined ? {
            set: prop.parentVersion.validationBacktestResults
          } : undefined,
        validationStatTestResults: prop.parentVersion.validationStatTestResults !== undefined ? {
            set: prop.parentVersion.validationStatTestResults
          } : undefined,
        deploymentEnvironment: prop.parentVersion.deploymentEnvironment !== undefined ? {
            set: prop.parentVersion.deploymentEnvironment
          } : undefined,
        deploymentTrafficAllocation: prop.parentVersion.deploymentTrafficAllocation !== undefined ? {
            set: prop.parentVersion.deploymentTrafficAllocation
          } : undefined,
        deploymentRolloutStrategy: prop.parentVersion.deploymentRolloutStrategy !== undefined ? {
            set: prop.parentVersion.deploymentRolloutStrategy
          } : undefined,
        deploymentHealthCheckConfig: prop.parentVersion.deploymentHealthCheckConfig !== undefined ? {
            set: prop.parentVersion.deploymentHealthCheckConfig
          } : undefined,
        trainingStartTime: prop.parentVersion.trainingStartTime !== undefined ? {
            set: prop.parentVersion.trainingStartTime
          } : undefined,
        trainingEndTime: prop.parentVersion.trainingEndTime !== undefined ? {
            set: prop.parentVersion.trainingEndTime
          } : undefined,
        trainingDuration: prop.parentVersion.trainingDuration !== undefined ? {
            set: prop.parentVersion.trainingDuration
          } : undefined,
        trainingDatasetSize: prop.parentVersion.trainingDatasetSize !== undefined ? {
            set: prop.parentVersion.trainingDatasetSize
          } : undefined,
        trainingFeaturesUsed: prop.parentVersion.trainingFeaturesUsed !== undefined ? {
            set: prop.parentVersion.trainingFeaturesUsed
          } : undefined,
        trainingHyperparameters: prop.parentVersion.trainingHyperparameters !== undefined ? {
            set: prop.parentVersion.trainingHyperparameters
          } : undefined,
        trainingResourcePeakMemoryMB: prop.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
            set: prop.parentVersion.trainingResourcePeakMemoryMB
          } : undefined,
        trainingResourceTotalCpuHours: prop.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
            set: prop.parentVersion.trainingResourceTotalCpuHours
          } : undefined,
        trainingResourceGpuHours: prop.parentVersion.trainingResourceGpuHours !== undefined ? {
            set: prop.parentVersion.trainingResourceGpuHours
          } : undefined,
        deployedAt: prop.parentVersion.deployedAt !== undefined ? {
            set: prop.parentVersion.deployedAt
          } : undefined,
        deprecatedAt: prop.parentVersion.deprecatedAt !== undefined ? {
            set: prop.parentVersion.deprecatedAt
          } : undefined,
    parentVersion: prop.parentVersion.parentVersion ? 
    typeof prop.parentVersion.parentVersion === 'object' && Object.keys(prop.parentVersion.parentVersion).length === 1 && (Object.keys(prop.parentVersion.parentVersion)[0] === 'id' || Object.keys(prop.parentVersion.parentVersion)[0] === 'symbol')
? {
    connect: {
      id: prop.parentVersion.parentVersion.id
    }
} : { upsert: {
        where: {
          id: prop.parentVersion.parentVersion.id !== undefined ? {
              equals: prop.parentVersion.parentVersion.id
            } : undefined,
          parentVersionId: prop.parentVersion.parentVersion.parentVersionId !== undefined ? {
              equals: prop.parentVersion.parentVersion.parentVersionId
            } : undefined,
        },
        update: {
          id: prop.parentVersion.parentVersion.id !== undefined ? {
              set: prop.parentVersion.parentVersion.id
            } : undefined,
          modelName: prop.parentVersion.parentVersion.modelName !== undefined ? {
              set: prop.parentVersion.parentVersion.modelName
            } : undefined,
          version: prop.parentVersion.parentVersion.version !== undefined ? {
              set: prop.parentVersion.parentVersion.version
            } : undefined,
          status: prop.parentVersion.parentVersion.status !== undefined ? {
              set: prop.parentVersion.parentVersion.status
            } : undefined,
          performanceAccuracy: prop.parentVersion.parentVersion.performanceAccuracy !== undefined ? {
              set: prop.parentVersion.parentVersion.performanceAccuracy
            } : undefined,
          performancePrecision: prop.parentVersion.parentVersion.performancePrecision !== undefined ? {
              set: prop.parentVersion.parentVersion.performancePrecision
            } : undefined,
          performanceRecall: prop.parentVersion.parentVersion.performanceRecall !== undefined ? {
              set: prop.parentVersion.parentVersion.performanceRecall
            } : undefined,
          performanceF1Score: prop.parentVersion.parentVersion.performanceF1Score !== undefined ? {
              set: prop.parentVersion.parentVersion.performanceF1Score
            } : undefined,
          performanceAuc: prop.parentVersion.parentVersion.performanceAuc !== undefined ? {
              set: prop.parentVersion.parentVersion.performanceAuc
            } : undefined,
          performanceSharpeRatio: prop.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? {
              set: prop.parentVersion.parentVersion.performanceSharpeRatio
            } : undefined,
          performanceMaxDrawdown: prop.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? {
              set: prop.parentVersion.parentVersion.performanceMaxDrawdown
            } : undefined,
          performanceWinRate: prop.parentVersion.parentVersion.performanceWinRate !== undefined ? {
              set: prop.parentVersion.parentVersion.performanceWinRate
            } : undefined,
          performanceAvgReturn: prop.parentVersion.parentVersion.performanceAvgReturn !== undefined ? {
              set: prop.parentVersion.parentVersion.performanceAvgReturn
            } : undefined,
          performanceCalibrationScore: prop.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? {
              set: prop.parentVersion.parentVersion.performanceCalibrationScore
            } : undefined,
          performanceStabilityScore: prop.parentVersion.parentVersion.performanceStabilityScore !== undefined ? {
              set: prop.parentVersion.parentVersion.performanceStabilityScore
            } : undefined,
          validationCrossValidationScore: prop.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? {
              set: prop.parentVersion.parentVersion.validationCrossValidationScore
            } : undefined,
          validationOutOfSamplePerformance: prop.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? {
              set: prop.parentVersion.parentVersion.validationOutOfSamplePerformance
            } : undefined,
          validationBacktestResults: prop.parentVersion.parentVersion.validationBacktestResults !== undefined ? {
              set: prop.parentVersion.parentVersion.validationBacktestResults
            } : undefined,
          validationStatTestResults: prop.parentVersion.parentVersion.validationStatTestResults !== undefined ? {
              set: prop.parentVersion.parentVersion.validationStatTestResults
            } : undefined,
          deploymentEnvironment: prop.parentVersion.parentVersion.deploymentEnvironment !== undefined ? {
              set: prop.parentVersion.parentVersion.deploymentEnvironment
            } : undefined,
          deploymentTrafficAllocation: prop.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? {
              set: prop.parentVersion.parentVersion.deploymentTrafficAllocation
            } : undefined,
          deploymentRolloutStrategy: prop.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? {
              set: prop.parentVersion.parentVersion.deploymentRolloutStrategy
            } : undefined,
          deploymentHealthCheckConfig: prop.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? {
              set: prop.parentVersion.parentVersion.deploymentHealthCheckConfig
            } : undefined,
          trainingStartTime: prop.parentVersion.parentVersion.trainingStartTime !== undefined ? {
              set: prop.parentVersion.parentVersion.trainingStartTime
            } : undefined,
          trainingEndTime: prop.parentVersion.parentVersion.trainingEndTime !== undefined ? {
              set: prop.parentVersion.parentVersion.trainingEndTime
            } : undefined,
          trainingDuration: prop.parentVersion.parentVersion.trainingDuration !== undefined ? {
              set: prop.parentVersion.parentVersion.trainingDuration
            } : undefined,
          trainingDatasetSize: prop.parentVersion.parentVersion.trainingDatasetSize !== undefined ? {
              set: prop.parentVersion.parentVersion.trainingDatasetSize
            } : undefined,
          trainingFeaturesUsed: prop.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? {
              set: prop.parentVersion.parentVersion.trainingFeaturesUsed
            } : undefined,
          trainingHyperparameters: prop.parentVersion.parentVersion.trainingHyperparameters !== undefined ? {
              set: prop.parentVersion.parentVersion.trainingHyperparameters
            } : undefined,
          trainingResourcePeakMemoryMB: prop.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
              set: prop.parentVersion.parentVersion.trainingResourcePeakMemoryMB
            } : undefined,
          trainingResourceTotalCpuHours: prop.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
              set: prop.parentVersion.parentVersion.trainingResourceTotalCpuHours
            } : undefined,
          trainingResourceGpuHours: prop.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? {
              set: prop.parentVersion.parentVersion.trainingResourceGpuHours
            } : undefined,
          deployedAt: prop.parentVersion.parentVersion.deployedAt !== undefined ? {
              set: prop.parentVersion.parentVersion.deployedAt
            } : undefined,
          deprecatedAt: prop.parentVersion.parentVersion.deprecatedAt !== undefined ? {
              set: prop.parentVersion.parentVersion.deprecatedAt
            } : undefined,
      parentVersion: prop.parentVersion.parentVersion.parentVersion ? 
      typeof prop.parentVersion.parentVersion.parentVersion === 'object' && Object.keys(prop.parentVersion.parentVersion.parentVersion).length === 1 && (Object.keys(prop.parentVersion.parentVersion.parentVersion)[0] === 'id' || Object.keys(prop.parentVersion.parentVersion.parentVersion)[0] === 'symbol')
? {
      connect: {
        id: prop.parentVersion.parentVersion.parentVersion.id
      }
} : { upsert: {
          where: {
            id: prop.parentVersion.parentVersion.parentVersion.id !== undefined ? {
                equals: prop.parentVersion.parentVersion.parentVersion.id
              } : undefined,
            parentVersionId: prop.parentVersion.parentVersion.parentVersion.parentVersionId !== undefined ? {
                equals: prop.parentVersion.parentVersion.parentVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: prop.parentVersion.parentVersion.parentVersion.id !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.id
              } : undefined,
            modelName: prop.parentVersion.parentVersion.parentVersion.modelName !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.modelName
              } : undefined,
            version: prop.parentVersion.parentVersion.parentVersion.version !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.version
              } : undefined,
            status: prop.parentVersion.parentVersion.parentVersion.status !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.status
              } : undefined,
            performanceAccuracy: prop.parentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.performanceAccuracy
              } : undefined,
            performancePrecision: prop.parentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.performancePrecision
              } : undefined,
            performanceRecall: prop.parentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.performanceRecall
              } : undefined,
            performanceF1Score: prop.parentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.performanceF1Score
              } : undefined,
            performanceAuc: prop.parentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: prop.parentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: prop.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: prop.parentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: prop.parentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: prop.parentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: prop.parentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: prop.parentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: prop.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: prop.parentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: prop.parentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: prop.parentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: prop.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: prop.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: prop.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: prop.parentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.trainingStartTime
              } : undefined,
            trainingEndTime: prop.parentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.trainingEndTime
              } : undefined,
            trainingDuration: prop.parentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: prop.parentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: prop.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: prop.parentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: prop.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: prop.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: prop.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: prop.parentVersion.parentVersion.parentVersion.deployedAt !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.deployedAt
              } : undefined,
            deprecatedAt: prop.parentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? {
                set: prop.parentVersion.parentVersion.parentVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: prop.parentVersion.parentVersion.parentVersion.modelName !== undefined ? prop.parentVersion.parentVersion.parentVersion.modelName : undefined,
            version: prop.parentVersion.parentVersion.parentVersion.version !== undefined ? prop.parentVersion.parentVersion.parentVersion.version : undefined,
            status: prop.parentVersion.parentVersion.parentVersion.status !== undefined ? prop.parentVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: prop.parentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: prop.parentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? prop.parentVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: prop.parentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: prop.parentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: prop.parentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: prop.parentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: prop.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: prop.parentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: prop.parentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: prop.parentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: prop.parentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: prop.parentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? prop.parentVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: prop.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? prop.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: prop.parentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? prop.parentVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: prop.parentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? prop.parentVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: prop.parentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? prop.parentVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: prop.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? prop.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: prop.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? prop.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: prop.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? prop.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: prop.parentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: prop.parentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: prop.parentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: prop.parentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: prop.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: prop.parentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: prop.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: prop.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: prop.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: prop.parentVersion.parentVersion.parentVersion.deployedAt !== undefined ? prop.parentVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: prop.parentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? prop.parentVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: prop.parentVersion.parentVersion.artifacts ? 
      Array.isArray(prop.parentVersion.parentVersion.artifacts) && prop.parentVersion.parentVersion.artifacts.length > 0 && prop.parentVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: prop.parentVersion.parentVersion.artifacts.map((item: any) => ({
        id: item.id
      }))
} : { upsert: prop.parentVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: prop.parentVersion.parentVersion.abTestsAsControl ? 
      Array.isArray(prop.parentVersion.parentVersion.abTestsAsControl) && prop.parentVersion.parentVersion.abTestsAsControl.length > 0 && prop.parentVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: prop.parentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
        id: item.id
      }))
} : { upsert: prop.parentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: prop.parentVersion.parentVersion.abTestsAsTreatment ? 
      Array.isArray(prop.parentVersion.parentVersion.abTestsAsTreatment) && prop.parentVersion.parentVersion.abTestsAsTreatment.length > 0 && prop.parentVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: prop.parentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
        id: item.id
      }))
} : { upsert: prop.parentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: prop.parentVersion.parentVersion.featureImportanceAnalyses ? 
      Array.isArray(prop.parentVersion.parentVersion.featureImportanceAnalyses) && prop.parentVersion.parentVersion.featureImportanceAnalyses.length > 0 && prop.parentVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: prop.parentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
        id: item.id
      }))
} : { upsert: prop.parentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            analysisType: item.analysisType !== undefined ? {
                set: item.analysisType
              } : undefined,
            featureImportances: item.featureImportances !== undefined ? {
                set: item.featureImportances
              } : undefined,
            globalImportance: item.globalImportance !== undefined ? {
                set: item.globalImportance
              } : undefined,
            localImportance: item.localImportance !== undefined ? {
                set: item.localImportance
              } : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
                set: item.analysisMetadataSampleSize
              } : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
                set: item.analysisMetadataBaselineAccuracy
              } : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
                set: item.analysisMetadataAnalysisDate
              } : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
                set: item.analysisMetadataComputationTime
              } : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
                set: item.analysisMetadataAnalysisParameters
              } : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
                set: item.insightsTopFeatures
              } : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
                set: item.insightsRedundantFeatures
              } : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
                set: item.insightsUnexpectedImportances
              } : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
                set: item.insightsStabilityScore
              } : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? {
                set: item.insightsRecommendations
              } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
        create: {
          modelName: prop.parentVersion.parentVersion.modelName !== undefined ? prop.parentVersion.parentVersion.modelName : undefined,
          version: prop.parentVersion.parentVersion.version !== undefined ? prop.parentVersion.parentVersion.version : undefined,
          status: prop.parentVersion.parentVersion.status !== undefined ? prop.parentVersion.parentVersion.status : undefined,
          performanceAccuracy: prop.parentVersion.parentVersion.performanceAccuracy !== undefined ? prop.parentVersion.parentVersion.performanceAccuracy : undefined,
          performancePrecision: prop.parentVersion.parentVersion.performancePrecision !== undefined ? prop.parentVersion.parentVersion.performancePrecision : undefined,
          performanceRecall: prop.parentVersion.parentVersion.performanceRecall !== undefined ? prop.parentVersion.parentVersion.performanceRecall : undefined,
          performanceF1Score: prop.parentVersion.parentVersion.performanceF1Score !== undefined ? prop.parentVersion.parentVersion.performanceF1Score : undefined,
          performanceAuc: prop.parentVersion.parentVersion.performanceAuc !== undefined ? prop.parentVersion.parentVersion.performanceAuc : undefined,
          performanceSharpeRatio: prop.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? prop.parentVersion.parentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: prop.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? prop.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: prop.parentVersion.parentVersion.performanceWinRate !== undefined ? prop.parentVersion.parentVersion.performanceWinRate : undefined,
          performanceAvgReturn: prop.parentVersion.parentVersion.performanceAvgReturn !== undefined ? prop.parentVersion.parentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: prop.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? prop.parentVersion.parentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: prop.parentVersion.parentVersion.performanceStabilityScore !== undefined ? prop.parentVersion.parentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: prop.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? prop.parentVersion.parentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: prop.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? prop.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: prop.parentVersion.parentVersion.validationBacktestResults !== undefined ? prop.parentVersion.parentVersion.validationBacktestResults : undefined,
          validationStatTestResults: prop.parentVersion.parentVersion.validationStatTestResults !== undefined ? prop.parentVersion.parentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: prop.parentVersion.parentVersion.deploymentEnvironment !== undefined ? prop.parentVersion.parentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: prop.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? prop.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: prop.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? prop.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: prop.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? prop.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: prop.parentVersion.parentVersion.trainingStartTime !== undefined ? prop.parentVersion.parentVersion.trainingStartTime : undefined,
          trainingEndTime: prop.parentVersion.parentVersion.trainingEndTime !== undefined ? prop.parentVersion.parentVersion.trainingEndTime : undefined,
          trainingDuration: prop.parentVersion.parentVersion.trainingDuration !== undefined ? prop.parentVersion.parentVersion.trainingDuration : undefined,
          trainingDatasetSize: prop.parentVersion.parentVersion.trainingDatasetSize !== undefined ? prop.parentVersion.parentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: prop.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? prop.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: prop.parentVersion.parentVersion.trainingHyperparameters !== undefined ? prop.parentVersion.parentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: prop.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? prop.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: prop.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? prop.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: prop.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? prop.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
          deployedAt: prop.parentVersion.parentVersion.deployedAt !== undefined ? prop.parentVersion.parentVersion.deployedAt : undefined,
          deprecatedAt: prop.parentVersion.parentVersion.deprecatedAt !== undefined ? prop.parentVersion.parentVersion.deprecatedAt : undefined,
      parentVersion: prop.parentVersion.parentVersion.parentVersion ? 
        typeof prop.parentVersion.parentVersion.parentVersion === 'object' && Object.keys(prop.parentVersion.parentVersion.parentVersion).length === 1 && Object.keys(prop.parentVersion.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: prop.parentVersion.parentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: prop.parentVersion.parentVersion.parentVersion.id !== undefined ? prop.parentVersion.parentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: prop.parentVersion.parentVersion.parentVersion.modelName !== undefined ? prop.parentVersion.parentVersion.parentVersion.modelName : undefined,
            version: prop.parentVersion.parentVersion.parentVersion.version !== undefined ? prop.parentVersion.parentVersion.parentVersion.version : undefined,
            status: prop.parentVersion.parentVersion.parentVersion.status !== undefined ? prop.parentVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: prop.parentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: prop.parentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? prop.parentVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: prop.parentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: prop.parentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: prop.parentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: prop.parentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: prop.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: prop.parentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: prop.parentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: prop.parentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: prop.parentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: prop.parentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? prop.parentVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: prop.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? prop.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: prop.parentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? prop.parentVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: prop.parentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? prop.parentVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: prop.parentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? prop.parentVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: prop.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? prop.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: prop.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? prop.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: prop.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? prop.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: prop.parentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: prop.parentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: prop.parentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: prop.parentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: prop.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: prop.parentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: prop.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: prop.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: prop.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: prop.parentVersion.parentVersion.parentVersion.deployedAt !== undefined ? prop.parentVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: prop.parentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? prop.parentVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: prop.parentVersion.parentVersion.artifacts ? 
        Array.isArray(prop.parentVersion.parentVersion.artifacts) && prop.parentVersion.parentVersion.artifacts.length > 0 &&  prop.parentVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        prop.parentVersion.parentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: prop.parentVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: prop.parentVersion.parentVersion.abTestsAsControl ? 
        Array.isArray(prop.parentVersion.parentVersion.abTestsAsControl) && prop.parentVersion.parentVersion.abTestsAsControl.length > 0 &&  prop.parentVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        prop.parentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: prop.parentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: prop.parentVersion.parentVersion.abTestsAsTreatment ? 
        Array.isArray(prop.parentVersion.parentVersion.abTestsAsTreatment) && prop.parentVersion.parentVersion.abTestsAsTreatment.length > 0 &&  prop.parentVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        prop.parentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: prop.parentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: prop.parentVersion.parentVersion.featureImportanceAnalyses ? 
        Array.isArray(prop.parentVersion.parentVersion.featureImportanceAnalyses) && prop.parentVersion.parentVersion.featureImportanceAnalyses.length > 0 &&  prop.parentVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        prop.parentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: prop.parentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
    artifacts: prop.parentVersion.artifacts ? 
    Array.isArray(prop.parentVersion.artifacts) && prop.parentVersion.artifacts.length > 0 && prop.parentVersion.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: prop.parentVersion.artifacts.map((item: any) => ({
      id: item.id
    }))
} : { upsert: prop.parentVersion.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId
            } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
      modelArtifact: item.modelArtifact ? 
      typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && (Object.keys(item.modelArtifact)[0] === 'id' || Object.keys(item.modelArtifact)[0] === 'symbol')
? {
      connect: {
        id: item.modelArtifact.id
      }
} : { upsert: {
          where: {
            id: item.modelArtifact.id !== undefined ? {
                equals: item.modelArtifact.id
              } : undefined,
          },
          update: {
            id: item.modelArtifact.id !== undefined ? {
                set: item.modelArtifact.id
              } : undefined,
            modelName: item.modelArtifact.modelName !== undefined ? {
                set: item.modelArtifact.modelName
              } : undefined,
            version: item.modelArtifact.version !== undefined ? {
                set: item.modelArtifact.version
              } : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? {
                set: item.modelArtifact.artifactType
              } : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? {
                set: item.modelArtifact.storageUrl
              } : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? {
                set: item.modelArtifact.storageProvider
              } : undefined,
            fileSize: item.modelArtifact.fileSize !== undefined ? {
                set: item.modelArtifact.fileSize
              } : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? {
                set: item.modelArtifact.checksum
              } : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? {
                set: item.modelArtifact.compressionType
              } : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? {
                set: item.modelArtifact.metadataFramework
              } : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? {
                set: item.modelArtifact.metadataPythonVersion
              } : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? {
                set: item.modelArtifact.metadataDependencies
              } : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? {
                set: item.modelArtifact.metadataTrainingDate
              } : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? {
                set: item.modelArtifact.metadataDatasetSize
              } : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? {
                set: item.modelArtifact.metadataHyperparameters
              } : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsControl: prop.parentVersion.abTestsAsControl ? 
    Array.isArray(prop.parentVersion.abTestsAsControl) && prop.parentVersion.abTestsAsControl.length > 0 && prop.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: prop.parentVersion.abTestsAsControl.map((item: any) => ({
      id: item.id
    }))
} : { upsert: prop.parentVersion.abTestsAsControl.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name
            } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId
            } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          name: item.name !== undefined ? {
              set: item.name
            } : undefined,
          description: item.description !== undefined ? {
              set: item.description
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
              set: item.trafficSplitControlPercent
            } : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
              set: item.trafficSplitTreatmentPercent
            } : undefined,
          targetMetrics: item.targetMetrics !== undefined ? {
              set: item.targetMetrics
            } : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
              set: item.successCriteriaPrimaryMetric
            } : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
              set: item.successCriteriaMinimumDetectableEffect
            } : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
              set: item.successCriteriaSignificanceLevel
            } : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
              set: item.successCriteriaPowerLevel
            } : undefined,
          startDate: item.startDate !== undefined ? {
              set: item.startDate
            } : undefined,
          endDate: item.endDate !== undefined ? {
              set: item.endDate
            } : undefined,
          plannedDuration: item.plannedDuration !== undefined ? {
              set: item.plannedDuration
            } : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
              set: item.resultsControlMetrics
            } : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
              set: item.resultsTreatmentMetrics
            } : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
              set: item.resultsStatisticalSignificance
            } : undefined,
          resultsPValues: item.resultsPValues !== undefined ? {
              set: item.resultsPValues
            } : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
              set: item.resultsConfidenceIntervals
            } : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? {
              set: item.resultsRecommendation
            } : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? {
              set: item.metadataEnvironment
            } : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
              set: item.metadataEligibilityCriteria
            } : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
              set: item.metadataExclusionCriteria
            } : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
              set: item.metadataSegmentationRules
            } : undefined,
          completedAt: item.completedAt !== undefined ? {
              set: item.completedAt
            } : undefined,
      treatmentVersion: item.treatmentVersion ? 
      typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && (Object.keys(item.treatmentVersion)[0] === 'id' || Object.keys(item.treatmentVersion)[0] === 'symbol')
? {
      connect: {
        id: item.treatmentVersion.id
      }
} : { upsert: {
          where: {
            id: item.treatmentVersion.id !== undefined ? {
                equals: item.treatmentVersion.id
              } : undefined,
            parentVersionId: item.treatmentVersion.parentVersionId !== undefined ? {
                equals: item.treatmentVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: item.treatmentVersion.id !== undefined ? {
                set: item.treatmentVersion.id
              } : undefined,
            modelName: item.treatmentVersion.modelName !== undefined ? {
                set: item.treatmentVersion.modelName
              } : undefined,
            version: item.treatmentVersion.version !== undefined ? {
                set: item.treatmentVersion.version
              } : undefined,
            status: item.treatmentVersion.status !== undefined ? {
                set: item.treatmentVersion.status
              } : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? {
                set: item.treatmentVersion.performanceAccuracy
              } : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? {
                set: item.treatmentVersion.performancePrecision
              } : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? {
                set: item.treatmentVersion.performanceRecall
              } : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? {
                set: item.treatmentVersion.performanceF1Score
              } : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? {
                set: item.treatmentVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? {
                set: item.treatmentVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? {
                set: item.treatmentVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? {
                set: item.treatmentVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? {
                set: item.treatmentVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? {
                set: item.treatmentVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? {
                set: item.treatmentVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? {
                set: item.treatmentVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? {
                set: item.treatmentVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? {
                set: item.treatmentVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? {
                set: item.treatmentVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? {
                set: item.treatmentVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? {
                set: item.treatmentVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? {
                set: item.treatmentVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? {
                set: item.treatmentVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? {
                set: item.treatmentVersion.trainingStartTime
              } : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? {
                set: item.treatmentVersion.trainingEndTime
              } : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? {
                set: item.treatmentVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? {
                set: item.treatmentVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? {
                set: item.treatmentVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? {
                set: item.treatmentVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.treatmentVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: item.treatmentVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? {
                set: item.treatmentVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? {
                set: item.treatmentVersion.deployedAt
              } : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? {
                set: item.treatmentVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      treatmentVersion: item.treatmentVersion ? 
        typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsTreatment: prop.parentVersion.abTestsAsTreatment ? 
    Array.isArray(prop.parentVersion.abTestsAsTreatment) && prop.parentVersion.abTestsAsTreatment.length > 0 && prop.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: prop.parentVersion.abTestsAsTreatment.map((item: any) => ({
      id: item.id
    }))
} : { upsert: prop.parentVersion.abTestsAsTreatment.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name
            } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId
            } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          name: item.name !== undefined ? {
              set: item.name
            } : undefined,
          description: item.description !== undefined ? {
              set: item.description
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
              set: item.trafficSplitControlPercent
            } : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
              set: item.trafficSplitTreatmentPercent
            } : undefined,
          targetMetrics: item.targetMetrics !== undefined ? {
              set: item.targetMetrics
            } : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
              set: item.successCriteriaPrimaryMetric
            } : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
              set: item.successCriteriaMinimumDetectableEffect
            } : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
              set: item.successCriteriaSignificanceLevel
            } : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
              set: item.successCriteriaPowerLevel
            } : undefined,
          startDate: item.startDate !== undefined ? {
              set: item.startDate
            } : undefined,
          endDate: item.endDate !== undefined ? {
              set: item.endDate
            } : undefined,
          plannedDuration: item.plannedDuration !== undefined ? {
              set: item.plannedDuration
            } : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
              set: item.resultsControlMetrics
            } : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
              set: item.resultsTreatmentMetrics
            } : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
              set: item.resultsStatisticalSignificance
            } : undefined,
          resultsPValues: item.resultsPValues !== undefined ? {
              set: item.resultsPValues
            } : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
              set: item.resultsConfidenceIntervals
            } : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? {
              set: item.resultsRecommendation
            } : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? {
              set: item.metadataEnvironment
            } : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
              set: item.metadataEligibilityCriteria
            } : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
              set: item.metadataExclusionCriteria
            } : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
              set: item.metadataSegmentationRules
            } : undefined,
          completedAt: item.completedAt !== undefined ? {
              set: item.completedAt
            } : undefined,
      controlVersion: item.controlVersion ? 
      typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && (Object.keys(item.controlVersion)[0] === 'id' || Object.keys(item.controlVersion)[0] === 'symbol')
? {
      connect: {
        id: item.controlVersion.id
      }
} : { upsert: {
          where: {
            id: item.controlVersion.id !== undefined ? {
                equals: item.controlVersion.id
              } : undefined,
            parentVersionId: item.controlVersion.parentVersionId !== undefined ? {
                equals: item.controlVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: item.controlVersion.id !== undefined ? {
                set: item.controlVersion.id
              } : undefined,
            modelName: item.controlVersion.modelName !== undefined ? {
                set: item.controlVersion.modelName
              } : undefined,
            version: item.controlVersion.version !== undefined ? {
                set: item.controlVersion.version
              } : undefined,
            status: item.controlVersion.status !== undefined ? {
                set: item.controlVersion.status
              } : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? {
                set: item.controlVersion.performanceAccuracy
              } : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? {
                set: item.controlVersion.performancePrecision
              } : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? {
                set: item.controlVersion.performanceRecall
              } : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? {
                set: item.controlVersion.performanceF1Score
              } : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? {
                set: item.controlVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? {
                set: item.controlVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? {
                set: item.controlVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? {
                set: item.controlVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? {
                set: item.controlVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? {
                set: item.controlVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? {
                set: item.controlVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? {
                set: item.controlVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? {
                set: item.controlVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? {
                set: item.controlVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? {
                set: item.controlVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? {
                set: item.controlVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? {
                set: item.controlVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? {
                set: item.controlVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? {
                set: item.controlVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? {
                set: item.controlVersion.trainingStartTime
              } : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? {
                set: item.controlVersion.trainingEndTime
              } : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? {
                set: item.controlVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? {
                set: item.controlVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? {
                set: item.controlVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? {
                set: item.controlVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.controlVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: item.controlVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? {
                set: item.controlVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? {
                set: item.controlVersion.deployedAt
              } : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? {
                set: item.controlVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      controlVersion: item.controlVersion ? 
        typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: prop.parentVersion.featureImportanceAnalyses ? 
    Array.isArray(prop.parentVersion.featureImportanceAnalyses) && prop.parentVersion.featureImportanceAnalyses.length > 0 && prop.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: prop.parentVersion.featureImportanceAnalyses.map((item: any) => ({
      id: item.id
    }))
} : { upsert: prop.parentVersion.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          analysisType: item.analysisType !== undefined ? {
              set: item.analysisType
            } : undefined,
          featureImportances: item.featureImportances !== undefined ? {
              set: item.featureImportances
            } : undefined,
          globalImportance: item.globalImportance !== undefined ? {
              set: item.globalImportance
            } : undefined,
          localImportance: item.localImportance !== undefined ? {
              set: item.localImportance
            } : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
              set: item.analysisMetadataSampleSize
            } : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
              set: item.analysisMetadataBaselineAccuracy
            } : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
              set: item.analysisMetadataAnalysisDate
            } : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
              set: item.analysisMetadataComputationTime
            } : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
              set: item.analysisMetadataAnalysisParameters
            } : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
              set: item.insightsTopFeatures
            } : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
              set: item.insightsRedundantFeatures
            } : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
              set: item.insightsUnexpectedImportances
            } : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
              set: item.insightsStabilityScore
            } : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? {
              set: item.insightsRecommendations
            } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
      create: {
        modelName: prop.parentVersion.modelName !== undefined ? prop.parentVersion.modelName : undefined,
        version: prop.parentVersion.version !== undefined ? prop.parentVersion.version : undefined,
        status: prop.parentVersion.status !== undefined ? prop.parentVersion.status : undefined,
        performanceAccuracy: prop.parentVersion.performanceAccuracy !== undefined ? prop.parentVersion.performanceAccuracy : undefined,
        performancePrecision: prop.parentVersion.performancePrecision !== undefined ? prop.parentVersion.performancePrecision : undefined,
        performanceRecall: prop.parentVersion.performanceRecall !== undefined ? prop.parentVersion.performanceRecall : undefined,
        performanceF1Score: prop.parentVersion.performanceF1Score !== undefined ? prop.parentVersion.performanceF1Score : undefined,
        performanceAuc: prop.parentVersion.performanceAuc !== undefined ? prop.parentVersion.performanceAuc : undefined,
        performanceSharpeRatio: prop.parentVersion.performanceSharpeRatio !== undefined ? prop.parentVersion.performanceSharpeRatio : undefined,
        performanceMaxDrawdown: prop.parentVersion.performanceMaxDrawdown !== undefined ? prop.parentVersion.performanceMaxDrawdown : undefined,
        performanceWinRate: prop.parentVersion.performanceWinRate !== undefined ? prop.parentVersion.performanceWinRate : undefined,
        performanceAvgReturn: prop.parentVersion.performanceAvgReturn !== undefined ? prop.parentVersion.performanceAvgReturn : undefined,
        performanceCalibrationScore: prop.parentVersion.performanceCalibrationScore !== undefined ? prop.parentVersion.performanceCalibrationScore : undefined,
        performanceStabilityScore: prop.parentVersion.performanceStabilityScore !== undefined ? prop.parentVersion.performanceStabilityScore : undefined,
        validationCrossValidationScore: prop.parentVersion.validationCrossValidationScore !== undefined ? prop.parentVersion.validationCrossValidationScore : undefined,
        validationOutOfSamplePerformance: prop.parentVersion.validationOutOfSamplePerformance !== undefined ? prop.parentVersion.validationOutOfSamplePerformance : undefined,
        validationBacktestResults: prop.parentVersion.validationBacktestResults !== undefined ? prop.parentVersion.validationBacktestResults : undefined,
        validationStatTestResults: prop.parentVersion.validationStatTestResults !== undefined ? prop.parentVersion.validationStatTestResults : undefined,
        deploymentEnvironment: prop.parentVersion.deploymentEnvironment !== undefined ? prop.parentVersion.deploymentEnvironment : undefined,
        deploymentTrafficAllocation: prop.parentVersion.deploymentTrafficAllocation !== undefined ? prop.parentVersion.deploymentTrafficAllocation : undefined,
        deploymentRolloutStrategy: prop.parentVersion.deploymentRolloutStrategy !== undefined ? prop.parentVersion.deploymentRolloutStrategy : undefined,
        deploymentHealthCheckConfig: prop.parentVersion.deploymentHealthCheckConfig !== undefined ? prop.parentVersion.deploymentHealthCheckConfig : undefined,
        trainingStartTime: prop.parentVersion.trainingStartTime !== undefined ? prop.parentVersion.trainingStartTime : undefined,
        trainingEndTime: prop.parentVersion.trainingEndTime !== undefined ? prop.parentVersion.trainingEndTime : undefined,
        trainingDuration: prop.parentVersion.trainingDuration !== undefined ? prop.parentVersion.trainingDuration : undefined,
        trainingDatasetSize: prop.parentVersion.trainingDatasetSize !== undefined ? prop.parentVersion.trainingDatasetSize : undefined,
        trainingFeaturesUsed: prop.parentVersion.trainingFeaturesUsed !== undefined ? prop.parentVersion.trainingFeaturesUsed : undefined,
        trainingHyperparameters: prop.parentVersion.trainingHyperparameters !== undefined ? prop.parentVersion.trainingHyperparameters : undefined,
        trainingResourcePeakMemoryMB: prop.parentVersion.trainingResourcePeakMemoryMB !== undefined ? prop.parentVersion.trainingResourcePeakMemoryMB : undefined,
        trainingResourceTotalCpuHours: prop.parentVersion.trainingResourceTotalCpuHours !== undefined ? prop.parentVersion.trainingResourceTotalCpuHours : undefined,
        trainingResourceGpuHours: prop.parentVersion.trainingResourceGpuHours !== undefined ? prop.parentVersion.trainingResourceGpuHours : undefined,
        deployedAt: prop.parentVersion.deployedAt !== undefined ? prop.parentVersion.deployedAt : undefined,
        deprecatedAt: prop.parentVersion.deprecatedAt !== undefined ? prop.parentVersion.deprecatedAt : undefined,
    parentVersion: prop.parentVersion.parentVersion ? 
      typeof prop.parentVersion.parentVersion === 'object' && Object.keys(prop.parentVersion.parentVersion).length === 1 && Object.keys(prop.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
          id: prop.parentVersion.parentVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: prop.parentVersion.parentVersion.id !== undefined ? prop.parentVersion.parentVersion.id : undefined,
        },
        create: {
          modelName: prop.parentVersion.parentVersion.modelName !== undefined ? prop.parentVersion.parentVersion.modelName : undefined,
          version: prop.parentVersion.parentVersion.version !== undefined ? prop.parentVersion.parentVersion.version : undefined,
          status: prop.parentVersion.parentVersion.status !== undefined ? prop.parentVersion.parentVersion.status : undefined,
          performanceAccuracy: prop.parentVersion.parentVersion.performanceAccuracy !== undefined ? prop.parentVersion.parentVersion.performanceAccuracy : undefined,
          performancePrecision: prop.parentVersion.parentVersion.performancePrecision !== undefined ? prop.parentVersion.parentVersion.performancePrecision : undefined,
          performanceRecall: prop.parentVersion.parentVersion.performanceRecall !== undefined ? prop.parentVersion.parentVersion.performanceRecall : undefined,
          performanceF1Score: prop.parentVersion.parentVersion.performanceF1Score !== undefined ? prop.parentVersion.parentVersion.performanceF1Score : undefined,
          performanceAuc: prop.parentVersion.parentVersion.performanceAuc !== undefined ? prop.parentVersion.parentVersion.performanceAuc : undefined,
          performanceSharpeRatio: prop.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? prop.parentVersion.parentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: prop.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? prop.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: prop.parentVersion.parentVersion.performanceWinRate !== undefined ? prop.parentVersion.parentVersion.performanceWinRate : undefined,
          performanceAvgReturn: prop.parentVersion.parentVersion.performanceAvgReturn !== undefined ? prop.parentVersion.parentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: prop.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? prop.parentVersion.parentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: prop.parentVersion.parentVersion.performanceStabilityScore !== undefined ? prop.parentVersion.parentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: prop.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? prop.parentVersion.parentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: prop.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? prop.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: prop.parentVersion.parentVersion.validationBacktestResults !== undefined ? prop.parentVersion.parentVersion.validationBacktestResults : undefined,
          validationStatTestResults: prop.parentVersion.parentVersion.validationStatTestResults !== undefined ? prop.parentVersion.parentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: prop.parentVersion.parentVersion.deploymentEnvironment !== undefined ? prop.parentVersion.parentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: prop.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? prop.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: prop.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? prop.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: prop.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? prop.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: prop.parentVersion.parentVersion.trainingStartTime !== undefined ? prop.parentVersion.parentVersion.trainingStartTime : undefined,
          trainingEndTime: prop.parentVersion.parentVersion.trainingEndTime !== undefined ? prop.parentVersion.parentVersion.trainingEndTime : undefined,
          trainingDuration: prop.parentVersion.parentVersion.trainingDuration !== undefined ? prop.parentVersion.parentVersion.trainingDuration : undefined,
          trainingDatasetSize: prop.parentVersion.parentVersion.trainingDatasetSize !== undefined ? prop.parentVersion.parentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: prop.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? prop.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: prop.parentVersion.parentVersion.trainingHyperparameters !== undefined ? prop.parentVersion.parentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: prop.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? prop.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: prop.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? prop.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: prop.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? prop.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
          deployedAt: prop.parentVersion.parentVersion.deployedAt !== undefined ? prop.parentVersion.parentVersion.deployedAt : undefined,
          deprecatedAt: prop.parentVersion.parentVersion.deprecatedAt !== undefined ? prop.parentVersion.parentVersion.deprecatedAt : undefined,
      parentVersion: prop.parentVersion.parentVersion.parentVersion ? 
        typeof prop.parentVersion.parentVersion.parentVersion === 'object' && Object.keys(prop.parentVersion.parentVersion.parentVersion).length === 1 && Object.keys(prop.parentVersion.parentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: prop.parentVersion.parentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: prop.parentVersion.parentVersion.parentVersion.id !== undefined ? prop.parentVersion.parentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: prop.parentVersion.parentVersion.parentVersion.modelName !== undefined ? prop.parentVersion.parentVersion.parentVersion.modelName : undefined,
            version: prop.parentVersion.parentVersion.parentVersion.version !== undefined ? prop.parentVersion.parentVersion.parentVersion.version : undefined,
            status: prop.parentVersion.parentVersion.parentVersion.status !== undefined ? prop.parentVersion.parentVersion.parentVersion.status : undefined,
            performanceAccuracy: prop.parentVersion.parentVersion.parentVersion.performanceAccuracy !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: prop.parentVersion.parentVersion.parentVersion.performancePrecision !== undefined ? prop.parentVersion.parentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: prop.parentVersion.parentVersion.parentVersion.performanceRecall !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: prop.parentVersion.parentVersion.parentVersion.performanceF1Score !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: prop.parentVersion.parentVersion.parentVersion.performanceAuc !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: prop.parentVersion.parentVersion.parentVersion.performanceSharpeRatio !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: prop.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: prop.parentVersion.parentVersion.parentVersion.performanceWinRate !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: prop.parentVersion.parentVersion.parentVersion.performanceAvgReturn !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: prop.parentVersion.parentVersion.parentVersion.performanceCalibrationScore !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: prop.parentVersion.parentVersion.parentVersion.performanceStabilityScore !== undefined ? prop.parentVersion.parentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: prop.parentVersion.parentVersion.parentVersion.validationCrossValidationScore !== undefined ? prop.parentVersion.parentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: prop.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? prop.parentVersion.parentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: prop.parentVersion.parentVersion.parentVersion.validationBacktestResults !== undefined ? prop.parentVersion.parentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: prop.parentVersion.parentVersion.parentVersion.validationStatTestResults !== undefined ? prop.parentVersion.parentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: prop.parentVersion.parentVersion.parentVersion.deploymentEnvironment !== undefined ? prop.parentVersion.parentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: prop.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? prop.parentVersion.parentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: prop.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? prop.parentVersion.parentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: prop.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? prop.parentVersion.parentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: prop.parentVersion.parentVersion.parentVersion.trainingStartTime !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: prop.parentVersion.parentVersion.parentVersion.trainingEndTime !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: prop.parentVersion.parentVersion.parentVersion.trainingDuration !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: prop.parentVersion.parentVersion.parentVersion.trainingDatasetSize !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: prop.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: prop.parentVersion.parentVersion.parentVersion.trainingHyperparameters !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: prop.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: prop.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: prop.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours !== undefined ? prop.parentVersion.parentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: prop.parentVersion.parentVersion.parentVersion.deployedAt !== undefined ? prop.parentVersion.parentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: prop.parentVersion.parentVersion.parentVersion.deprecatedAt !== undefined ? prop.parentVersion.parentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      artifacts: prop.parentVersion.parentVersion.artifacts ? 
        Array.isArray(prop.parentVersion.parentVersion.artifacts) && prop.parentVersion.parentVersion.artifacts.length > 0 &&  prop.parentVersion.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        prop.parentVersion.parentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: prop.parentVersion.parentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: prop.parentVersion.parentVersion.abTestsAsControl ? 
        Array.isArray(prop.parentVersion.parentVersion.abTestsAsControl) && prop.parentVersion.parentVersion.abTestsAsControl.length > 0 &&  prop.parentVersion.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        prop.parentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: prop.parentVersion.parentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: prop.parentVersion.parentVersion.abTestsAsTreatment ? 
        Array.isArray(prop.parentVersion.parentVersion.abTestsAsTreatment) && prop.parentVersion.parentVersion.abTestsAsTreatment.length > 0 &&  prop.parentVersion.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        prop.parentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: prop.parentVersion.parentVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: prop.parentVersion.parentVersion.featureImportanceAnalyses ? 
        Array.isArray(prop.parentVersion.parentVersion.featureImportanceAnalyses) && prop.parentVersion.parentVersion.featureImportanceAnalyses.length > 0 &&  prop.parentVersion.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        prop.parentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: prop.parentVersion.parentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
    artifacts: prop.parentVersion.artifacts ? 
      Array.isArray(prop.parentVersion.artifacts) && prop.parentVersion.artifacts.length > 0 &&  prop.parentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      prop.parentVersion.artifacts.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: prop.parentVersion.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId 
             } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsControl: prop.parentVersion.abTestsAsControl ? 
      Array.isArray(prop.parentVersion.abTestsAsControl) && prop.parentVersion.abTestsAsControl.length > 0 &&  prop.parentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      prop.parentVersion.abTestsAsControl.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: prop.parentVersion.abTestsAsControl.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      treatmentVersion: item.treatmentVersion ? 
        typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsTreatment: prop.parentVersion.abTestsAsTreatment ? 
      Array.isArray(prop.parentVersion.abTestsAsTreatment) && prop.parentVersion.abTestsAsTreatment.length > 0 &&  prop.parentVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      prop.parentVersion.abTestsAsTreatment.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: prop.parentVersion.abTestsAsTreatment.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      controlVersion: item.controlVersion ? 
        typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: prop.parentVersion.featureImportanceAnalyses ? 
      Array.isArray(prop.parentVersion.featureImportanceAnalyses) && prop.parentVersion.featureImportanceAnalyses.length > 0 &&  prop.parentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      prop.parentVersion.featureImportanceAnalyses.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: prop.parentVersion.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
    }
  } : undefined,
  childVersions: prop.childVersions ? 
  Array.isArray(prop.childVersions) && prop.childVersions.length > 0 && prop.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
  connect: prop.childVersions.map((item: any) => ({
    id: item.id
  }))
} : { upsert: prop.childVersions.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
        parentVersionId: item.parentVersionId !== undefined ? {
            equals: item.parentVersionId
          } : undefined,
      },
      update: {
        id: item.id !== undefined ? {
            set: item.id
          } : undefined,
        modelName: item.modelName !== undefined ? {
            set: item.modelName
          } : undefined,
        version: item.version !== undefined ? {
            set: item.version
          } : undefined,
        status: item.status !== undefined ? {
            set: item.status
          } : undefined,
        performanceAccuracy: item.performanceAccuracy !== undefined ? {
            set: item.performanceAccuracy
          } : undefined,
        performancePrecision: item.performancePrecision !== undefined ? {
            set: item.performancePrecision
          } : undefined,
        performanceRecall: item.performanceRecall !== undefined ? {
            set: item.performanceRecall
          } : undefined,
        performanceF1Score: item.performanceF1Score !== undefined ? {
            set: item.performanceF1Score
          } : undefined,
        performanceAuc: item.performanceAuc !== undefined ? {
            set: item.performanceAuc
          } : undefined,
        performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
            set: item.performanceSharpeRatio
          } : undefined,
        performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
            set: item.performanceMaxDrawdown
          } : undefined,
        performanceWinRate: item.performanceWinRate !== undefined ? {
            set: item.performanceWinRate
          } : undefined,
        performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
            set: item.performanceAvgReturn
          } : undefined,
        performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
            set: item.performanceCalibrationScore
          } : undefined,
        performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
            set: item.performanceStabilityScore
          } : undefined,
        validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
            set: item.validationCrossValidationScore
          } : undefined,
        validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
            set: item.validationOutOfSamplePerformance
          } : undefined,
        validationBacktestResults: item.validationBacktestResults !== undefined ? {
            set: item.validationBacktestResults
          } : undefined,
        validationStatTestResults: item.validationStatTestResults !== undefined ? {
            set: item.validationStatTestResults
          } : undefined,
        deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
            set: item.deploymentEnvironment
          } : undefined,
        deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
            set: item.deploymentTrafficAllocation
          } : undefined,
        deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
            set: item.deploymentRolloutStrategy
          } : undefined,
        deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
            set: item.deploymentHealthCheckConfig
          } : undefined,
        trainingStartTime: item.trainingStartTime !== undefined ? {
            set: item.trainingStartTime
          } : undefined,
        trainingEndTime: item.trainingEndTime !== undefined ? {
            set: item.trainingEndTime
          } : undefined,
        trainingDuration: item.trainingDuration !== undefined ? {
            set: item.trainingDuration
          } : undefined,
        trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
            set: item.trainingDatasetSize
          } : undefined,
        trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
            set: item.trainingFeaturesUsed
          } : undefined,
        trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
            set: item.trainingHyperparameters
          } : undefined,
        trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
            set: item.trainingResourcePeakMemoryMB
          } : undefined,
        trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
            set: item.trainingResourceTotalCpuHours
          } : undefined,
        trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
            set: item.trainingResourceGpuHours
          } : undefined,
        deployedAt: item.deployedAt !== undefined ? {
            set: item.deployedAt
          } : undefined,
        deprecatedAt: item.deprecatedAt !== undefined ? {
            set: item.deprecatedAt
          } : undefined,
    childVersions: item.childVersions ? 
    Array.isArray(item.childVersions) && item.childVersions.length > 0 && item.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: item.childVersions.map((item: any) => ({
      id: item.id
    }))
} : { upsert: item.childVersions.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          parentVersionId: item.parentVersionId !== undefined ? {
              equals: item.parentVersionId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          modelName: item.modelName !== undefined ? {
              set: item.modelName
            } : undefined,
          version: item.version !== undefined ? {
              set: item.version
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? {
              set: item.performanceAccuracy
            } : undefined,
          performancePrecision: item.performancePrecision !== undefined ? {
              set: item.performancePrecision
            } : undefined,
          performanceRecall: item.performanceRecall !== undefined ? {
              set: item.performanceRecall
            } : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? {
              set: item.performanceF1Score
            } : undefined,
          performanceAuc: item.performanceAuc !== undefined ? {
              set: item.performanceAuc
            } : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
              set: item.performanceSharpeRatio
            } : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
              set: item.performanceMaxDrawdown
            } : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? {
              set: item.performanceWinRate
            } : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
              set: item.performanceAvgReturn
            } : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
              set: item.performanceCalibrationScore
            } : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
              set: item.performanceStabilityScore
            } : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
              set: item.validationCrossValidationScore
            } : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
              set: item.validationOutOfSamplePerformance
            } : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? {
              set: item.validationBacktestResults
            } : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? {
              set: item.validationStatTestResults
            } : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
              set: item.deploymentEnvironment
            } : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
              set: item.deploymentTrafficAllocation
            } : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
              set: item.deploymentRolloutStrategy
            } : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
              set: item.deploymentHealthCheckConfig
            } : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? {
              set: item.trainingStartTime
            } : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? {
              set: item.trainingEndTime
            } : undefined,
          trainingDuration: item.trainingDuration !== undefined ? {
              set: item.trainingDuration
            } : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
              set: item.trainingDatasetSize
            } : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
              set: item.trainingFeaturesUsed
            } : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
              set: item.trainingHyperparameters
            } : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
              set: item.trainingResourcePeakMemoryMB
            } : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
              set: item.trainingResourceTotalCpuHours
            } : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
              set: item.trainingResourceGpuHours
            } : undefined,
          deployedAt: item.deployedAt !== undefined ? {
              set: item.deployedAt
            } : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? {
              set: item.deprecatedAt
            } : undefined,
      childVersions: item.childVersions ? 
      Array.isArray(item.childVersions) && item.childVersions.length > 0 && item.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.childVersions.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            parentVersionId: item.parentVersionId !== undefined ? {
                equals: item.parentVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            modelName: item.modelName !== undefined ? {
                set: item.modelName
              } : undefined,
            version: item.version !== undefined ? {
                set: item.version
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? {
                set: item.performanceAccuracy
              } : undefined,
            performancePrecision: item.performancePrecision !== undefined ? {
                set: item.performancePrecision
              } : undefined,
            performanceRecall: item.performanceRecall !== undefined ? {
                set: item.performanceRecall
              } : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? {
                set: item.performanceF1Score
              } : undefined,
            performanceAuc: item.performanceAuc !== undefined ? {
                set: item.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
                set: item.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
                set: item.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? {
                set: item.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
                set: item.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
                set: item.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
                set: item.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
                set: item.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
                set: item.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? {
                set: item.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? {
                set: item.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
                set: item.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
                set: item.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
                set: item.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
                set: item.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? {
                set: item.trainingStartTime
              } : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? {
                set: item.trainingEndTime
              } : undefined,
            trainingDuration: item.trainingDuration !== undefined ? {
                set: item.trainingDuration
              } : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
                set: item.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
                set: item.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
                set: item.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
                set: item.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
                set: item.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.deployedAt !== undefined ? {
                set: item.deployedAt
              } : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? {
                set: item.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
      Array.isArray(item.artifacts) && item.artifacts.length > 0 && item.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.artifacts.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
      Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 && item.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.abTestsAsControl.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
      Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 && item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.abTestsAsTreatment.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
      Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 && item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.featureImportanceAnalyses.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            analysisType: item.analysisType !== undefined ? {
                set: item.analysisType
              } : undefined,
            featureImportances: item.featureImportances !== undefined ? {
                set: item.featureImportances
              } : undefined,
            globalImportance: item.globalImportance !== undefined ? {
                set: item.globalImportance
              } : undefined,
            localImportance: item.localImportance !== undefined ? {
                set: item.localImportance
              } : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
                set: item.analysisMetadataSampleSize
              } : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
                set: item.analysisMetadataBaselineAccuracy
              } : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
                set: item.analysisMetadataAnalysisDate
              } : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
                set: item.analysisMetadataComputationTime
              } : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
                set: item.analysisMetadataAnalysisParameters
              } : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
                set: item.insightsTopFeatures
              } : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
                set: item.insightsRedundantFeatures
              } : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
                set: item.insightsUnexpectedImportances
              } : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
                set: item.insightsStabilityScore
              } : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? {
                set: item.insightsRecommendations
              } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
        create: {
          modelName: item.modelName !== undefined ? item.modelName : undefined,
          version: item.version !== undefined ? item.version : undefined,
          status: item.status !== undefined ? item.status : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
          performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
          performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
          performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
          trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
          deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
      childVersions: item.childVersions ? 
        Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
        Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
        Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
        Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
        Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }))
    } : undefined,
    artifacts: item.artifacts ? 
    Array.isArray(item.artifacts) && item.artifacts.length > 0 && item.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: item.artifacts.map((item: any) => ({
      id: item.id
    }))
} : { upsert: item.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId
            } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
      modelArtifact: item.modelArtifact ? 
      typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && (Object.keys(item.modelArtifact)[0] === 'id' || Object.keys(item.modelArtifact)[0] === 'symbol')
? {
      connect: {
        id: item.modelArtifact.id
      }
} : { upsert: {
          where: {
            id: item.modelArtifact.id !== undefined ? {
                equals: item.modelArtifact.id
              } : undefined,
          },
          update: {
            id: item.modelArtifact.id !== undefined ? {
                set: item.modelArtifact.id
              } : undefined,
            modelName: item.modelArtifact.modelName !== undefined ? {
                set: item.modelArtifact.modelName
              } : undefined,
            version: item.modelArtifact.version !== undefined ? {
                set: item.modelArtifact.version
              } : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? {
                set: item.modelArtifact.artifactType
              } : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? {
                set: item.modelArtifact.storageUrl
              } : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? {
                set: item.modelArtifact.storageProvider
              } : undefined,
            fileSize: item.modelArtifact.fileSize !== undefined ? {
                set: item.modelArtifact.fileSize
              } : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? {
                set: item.modelArtifact.checksum
              } : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? {
                set: item.modelArtifact.compressionType
              } : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? {
                set: item.modelArtifact.metadataFramework
              } : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? {
                set: item.modelArtifact.metadataPythonVersion
              } : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? {
                set: item.modelArtifact.metadataDependencies
              } : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? {
                set: item.modelArtifact.metadataTrainingDate
              } : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? {
                set: item.modelArtifact.metadataDatasetSize
              } : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? {
                set: item.modelArtifact.metadataHyperparameters
              } : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsControl: item.abTestsAsControl ? 
    Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 && item.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: item.abTestsAsControl.map((item: any) => ({
      id: item.id
    }))
} : { upsert: item.abTestsAsControl.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name
            } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId
            } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          name: item.name !== undefined ? {
              set: item.name
            } : undefined,
          description: item.description !== undefined ? {
              set: item.description
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
              set: item.trafficSplitControlPercent
            } : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
              set: item.trafficSplitTreatmentPercent
            } : undefined,
          targetMetrics: item.targetMetrics !== undefined ? {
              set: item.targetMetrics
            } : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
              set: item.successCriteriaPrimaryMetric
            } : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
              set: item.successCriteriaMinimumDetectableEffect
            } : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
              set: item.successCriteriaSignificanceLevel
            } : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
              set: item.successCriteriaPowerLevel
            } : undefined,
          startDate: item.startDate !== undefined ? {
              set: item.startDate
            } : undefined,
          endDate: item.endDate !== undefined ? {
              set: item.endDate
            } : undefined,
          plannedDuration: item.plannedDuration !== undefined ? {
              set: item.plannedDuration
            } : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
              set: item.resultsControlMetrics
            } : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
              set: item.resultsTreatmentMetrics
            } : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
              set: item.resultsStatisticalSignificance
            } : undefined,
          resultsPValues: item.resultsPValues !== undefined ? {
              set: item.resultsPValues
            } : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
              set: item.resultsConfidenceIntervals
            } : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? {
              set: item.resultsRecommendation
            } : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? {
              set: item.metadataEnvironment
            } : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
              set: item.metadataEligibilityCriteria
            } : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
              set: item.metadataExclusionCriteria
            } : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
              set: item.metadataSegmentationRules
            } : undefined,
          completedAt: item.completedAt !== undefined ? {
              set: item.completedAt
            } : undefined,
      treatmentVersion: item.treatmentVersion ? 
      typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && (Object.keys(item.treatmentVersion)[0] === 'id' || Object.keys(item.treatmentVersion)[0] === 'symbol')
? {
      connect: {
        id: item.treatmentVersion.id
      }
} : { upsert: {
          where: {
            id: item.treatmentVersion.id !== undefined ? {
                equals: item.treatmentVersion.id
              } : undefined,
            parentVersionId: item.treatmentVersion.parentVersionId !== undefined ? {
                equals: item.treatmentVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: item.treatmentVersion.id !== undefined ? {
                set: item.treatmentVersion.id
              } : undefined,
            modelName: item.treatmentVersion.modelName !== undefined ? {
                set: item.treatmentVersion.modelName
              } : undefined,
            version: item.treatmentVersion.version !== undefined ? {
                set: item.treatmentVersion.version
              } : undefined,
            status: item.treatmentVersion.status !== undefined ? {
                set: item.treatmentVersion.status
              } : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? {
                set: item.treatmentVersion.performanceAccuracy
              } : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? {
                set: item.treatmentVersion.performancePrecision
              } : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? {
                set: item.treatmentVersion.performanceRecall
              } : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? {
                set: item.treatmentVersion.performanceF1Score
              } : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? {
                set: item.treatmentVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? {
                set: item.treatmentVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? {
                set: item.treatmentVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? {
                set: item.treatmentVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? {
                set: item.treatmentVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? {
                set: item.treatmentVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? {
                set: item.treatmentVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? {
                set: item.treatmentVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? {
                set: item.treatmentVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? {
                set: item.treatmentVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? {
                set: item.treatmentVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? {
                set: item.treatmentVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? {
                set: item.treatmentVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? {
                set: item.treatmentVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? {
                set: item.treatmentVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? {
                set: item.treatmentVersion.trainingStartTime
              } : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? {
                set: item.treatmentVersion.trainingEndTime
              } : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? {
                set: item.treatmentVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? {
                set: item.treatmentVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? {
                set: item.treatmentVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? {
                set: item.treatmentVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.treatmentVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: item.treatmentVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? {
                set: item.treatmentVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? {
                set: item.treatmentVersion.deployedAt
              } : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? {
                set: item.treatmentVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      treatmentVersion: item.treatmentVersion ? 
        typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsTreatment: item.abTestsAsTreatment ? 
    Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 && item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: item.abTestsAsTreatment.map((item: any) => ({
      id: item.id
    }))
} : { upsert: item.abTestsAsTreatment.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name
            } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId
            } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          name: item.name !== undefined ? {
              set: item.name
            } : undefined,
          description: item.description !== undefined ? {
              set: item.description
            } : undefined,
          status: item.status !== undefined ? {
              set: item.status
            } : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
              set: item.trafficSplitControlPercent
            } : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
              set: item.trafficSplitTreatmentPercent
            } : undefined,
          targetMetrics: item.targetMetrics !== undefined ? {
              set: item.targetMetrics
            } : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
              set: item.successCriteriaPrimaryMetric
            } : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
              set: item.successCriteriaMinimumDetectableEffect
            } : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
              set: item.successCriteriaSignificanceLevel
            } : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
              set: item.successCriteriaPowerLevel
            } : undefined,
          startDate: item.startDate !== undefined ? {
              set: item.startDate
            } : undefined,
          endDate: item.endDate !== undefined ? {
              set: item.endDate
            } : undefined,
          plannedDuration: item.plannedDuration !== undefined ? {
              set: item.plannedDuration
            } : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
              set: item.resultsControlMetrics
            } : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
              set: item.resultsTreatmentMetrics
            } : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
              set: item.resultsStatisticalSignificance
            } : undefined,
          resultsPValues: item.resultsPValues !== undefined ? {
              set: item.resultsPValues
            } : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
              set: item.resultsConfidenceIntervals
            } : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? {
              set: item.resultsRecommendation
            } : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? {
              set: item.metadataEnvironment
            } : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
              set: item.metadataEligibilityCriteria
            } : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
              set: item.metadataExclusionCriteria
            } : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
              set: item.metadataSegmentationRules
            } : undefined,
          completedAt: item.completedAt !== undefined ? {
              set: item.completedAt
            } : undefined,
      controlVersion: item.controlVersion ? 
      typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && (Object.keys(item.controlVersion)[0] === 'id' || Object.keys(item.controlVersion)[0] === 'symbol')
? {
      connect: {
        id: item.controlVersion.id
      }
} : { upsert: {
          where: {
            id: item.controlVersion.id !== undefined ? {
                equals: item.controlVersion.id
              } : undefined,
            parentVersionId: item.controlVersion.parentVersionId !== undefined ? {
                equals: item.controlVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: item.controlVersion.id !== undefined ? {
                set: item.controlVersion.id
              } : undefined,
            modelName: item.controlVersion.modelName !== undefined ? {
                set: item.controlVersion.modelName
              } : undefined,
            version: item.controlVersion.version !== undefined ? {
                set: item.controlVersion.version
              } : undefined,
            status: item.controlVersion.status !== undefined ? {
                set: item.controlVersion.status
              } : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? {
                set: item.controlVersion.performanceAccuracy
              } : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? {
                set: item.controlVersion.performancePrecision
              } : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? {
                set: item.controlVersion.performanceRecall
              } : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? {
                set: item.controlVersion.performanceF1Score
              } : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? {
                set: item.controlVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? {
                set: item.controlVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? {
                set: item.controlVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? {
                set: item.controlVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? {
                set: item.controlVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? {
                set: item.controlVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? {
                set: item.controlVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? {
                set: item.controlVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? {
                set: item.controlVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? {
                set: item.controlVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? {
                set: item.controlVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? {
                set: item.controlVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? {
                set: item.controlVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? {
                set: item.controlVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? {
                set: item.controlVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? {
                set: item.controlVersion.trainingStartTime
              } : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? {
                set: item.controlVersion.trainingEndTime
              } : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? {
                set: item.controlVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? {
                set: item.controlVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? {
                set: item.controlVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? {
                set: item.controlVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.controlVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: item.controlVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? {
                set: item.controlVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? {
                set: item.controlVersion.deployedAt
              } : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? {
                set: item.controlVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      controlVersion: item.controlVersion ? 
        typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: item.featureImportanceAnalyses ? 
    Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 && item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
    connect: item.featureImportanceAnalyses.map((item: any) => ({
      id: item.id
    }))
} : { upsert: item.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId
            } : undefined,
        },
        update: {
          id: item.id !== undefined ? {
              set: item.id
            } : undefined,
          analysisType: item.analysisType !== undefined ? {
              set: item.analysisType
            } : undefined,
          featureImportances: item.featureImportances !== undefined ? {
              set: item.featureImportances
            } : undefined,
          globalImportance: item.globalImportance !== undefined ? {
              set: item.globalImportance
            } : undefined,
          localImportance: item.localImportance !== undefined ? {
              set: item.localImportance
            } : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
              set: item.analysisMetadataSampleSize
            } : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
              set: item.analysisMetadataBaselineAccuracy
            } : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
              set: item.analysisMetadataAnalysisDate
            } : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
              set: item.analysisMetadataComputationTime
            } : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
              set: item.analysisMetadataAnalysisParameters
            } : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
              set: item.insightsTopFeatures
            } : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
              set: item.insightsRedundantFeatures
            } : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
              set: item.insightsUnexpectedImportances
            } : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
              set: item.insightsStabilityScore
            } : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? {
              set: item.insightsRecommendations
            } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
      create: {
        modelName: item.modelName !== undefined ? item.modelName : undefined,
        version: item.version !== undefined ? item.version : undefined,
        status: item.status !== undefined ? item.status : undefined,
        performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
        performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
        performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
        performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
        performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
        performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
        performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
        performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
        performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
        performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
        performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
        validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
        validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
        validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
        validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
        deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
        deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
        deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
        deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
        trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
        trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
        trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
        trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
        trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
        trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
        trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
        trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
        trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
        deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
        deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
    childVersions: item.childVersions ? 
      Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.childVersions.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
        },
        create: {
          modelName: item.modelName !== undefined ? item.modelName : undefined,
          version: item.version !== undefined ? item.version : undefined,
          status: item.status !== undefined ? item.status : undefined,
          performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
          performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
          performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
          performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
          performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
          performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
          performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
          performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
          validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
          deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
          trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
          trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
          trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
          deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
          deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
      childVersions: item.childVersions ? 
        Array.isArray(item.childVersions) && item.childVersions.length > 0 &&  item.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.artifacts ? 
        Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.abTestsAsControl ? 
        Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.abTestsAsTreatment ? 
        Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.featureImportanceAnalyses ? 
        Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }))
    } : undefined,
    artifacts: item.artifacts ? 
      Array.isArray(item.artifacts) && item.artifacts.length > 0 &&  item.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.artifacts.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.artifacts.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
          modelArtifactId: item.modelArtifactId !== undefined ? {
              equals: item.modelArtifactId 
             } : undefined,
        },
        create: {
      modelArtifact: item.modelArtifact ? 
        typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
            id: item.modelArtifact.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
          },
          create: {
            modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
            version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
            artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
            storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
            storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
            checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
            compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
            metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
            metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
            metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
            metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
            metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
            metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsControl: item.abTestsAsControl ? 
      Array.isArray(item.abTestsAsControl) && item.abTestsAsControl.length > 0 &&  item.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.abTestsAsControl.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.abTestsAsControl.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      treatmentVersion: item.treatmentVersion ? 
        typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
            version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
            status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    abTestsAsTreatment: item.abTestsAsTreatment ? 
      Array.isArray(item.abTestsAsTreatment) && item.abTestsAsTreatment.length > 0 &&  item.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.abTestsAsTreatment.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.abTestsAsTreatment.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          name: item.name !== undefined ? {
              equals: item.name 
             } : undefined,
          modelVersionAId: item.modelVersionAId !== undefined ? {
              equals: item.modelVersionAId 
             } : undefined,
          modelVersionBId: item.modelVersionBId !== undefined ? {
              equals: item.modelVersionBId 
             } : undefined,
        },
        create: {
          name: item.name !== undefined ? item.name : undefined,
          description: item.description !== undefined ? item.description : undefined,
          status: item.status !== undefined ? item.status : undefined,
          trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
          trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
          targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
          successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
          successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
          successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
          successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
          startDate: item.startDate !== undefined ? item.startDate : undefined,
          endDate: item.endDate !== undefined ? item.endDate : undefined,
          resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
          resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
          resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
          resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
          resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
          resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
          metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
          metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
          metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
          metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
          completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
      controlVersion: item.controlVersion ? 
        typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
            version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
            status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
            performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
        },
      }))
    } : undefined,
    featureImportanceAnalyses: item.featureImportanceAnalyses ? 
      Array.isArray(item.featureImportanceAnalyses) && item.featureImportanceAnalyses.length > 0 &&  item.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
        connect:      item.featureImportanceAnalyses.map((item: any) => ({
           id: item.id
        }))
 }
 : { connectOrCreate: item.featureImportanceAnalyses.map((item: any) => ({
        where: {
          id: item.id !== undefined ? item.id : undefined,
          modelVersionId: item.modelVersionId !== undefined ? {
              equals: item.modelVersionId 
             } : undefined,
        },
        create: {
          analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
          featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
          globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
          localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
          analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
          analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
          analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
          analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
          analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
          insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
          insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
          insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
          insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
          insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
        },
      }))
    } : undefined,
      },
    }))
  } : undefined,
  artifacts: prop.artifacts ? 
  Array.isArray(prop.artifacts) && prop.artifacts.length > 0 && prop.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
  connect: prop.artifacts.map((item: any) => ({
    id: item.id
  }))
} : { upsert: prop.artifacts.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
        modelVersionId: item.modelVersionId !== undefined ? {
            equals: item.modelVersionId
          } : undefined,
        modelArtifactId: item.modelArtifactId !== undefined ? {
            equals: item.modelArtifactId
          } : undefined,
      },
      update: {
        id: item.id !== undefined ? {
            set: item.id
          } : undefined,
    modelArtifact: item.modelArtifact ? 
    typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && (Object.keys(item.modelArtifact)[0] === 'id' || Object.keys(item.modelArtifact)[0] === 'symbol')
? {
    connect: {
      id: item.modelArtifact.id
    }
} : { upsert: {
        where: {
          id: item.modelArtifact.id !== undefined ? {
              equals: item.modelArtifact.id
            } : undefined,
        },
        update: {
          id: item.modelArtifact.id !== undefined ? {
              set: item.modelArtifact.id
            } : undefined,
          modelName: item.modelArtifact.modelName !== undefined ? {
              set: item.modelArtifact.modelName
            } : undefined,
          version: item.modelArtifact.version !== undefined ? {
              set: item.modelArtifact.version
            } : undefined,
          artifactType: item.modelArtifact.artifactType !== undefined ? {
              set: item.modelArtifact.artifactType
            } : undefined,
          storageUrl: item.modelArtifact.storageUrl !== undefined ? {
              set: item.modelArtifact.storageUrl
            } : undefined,
          storageProvider: item.modelArtifact.storageProvider !== undefined ? {
              set: item.modelArtifact.storageProvider
            } : undefined,
          fileSize: item.modelArtifact.fileSize !== undefined ? {
              set: item.modelArtifact.fileSize
            } : undefined,
          checksum: item.modelArtifact.checksum !== undefined ? {
              set: item.modelArtifact.checksum
            } : undefined,
          compressionType: item.modelArtifact.compressionType !== undefined ? {
              set: item.modelArtifact.compressionType
            } : undefined,
          metadataFramework: item.modelArtifact.metadataFramework !== undefined ? {
              set: item.modelArtifact.metadataFramework
            } : undefined,
          metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? {
              set: item.modelArtifact.metadataPythonVersion
            } : undefined,
          metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? {
              set: item.modelArtifact.metadataDependencies
            } : undefined,
          metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? {
              set: item.modelArtifact.metadataTrainingDate
            } : undefined,
          metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? {
              set: item.modelArtifact.metadataDatasetSize
            } : undefined,
          metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? {
              set: item.modelArtifact.metadataHyperparameters
            } : undefined,
        },
        create: {
          modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
          version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
          artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
          storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
          storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
          checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
          compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
          metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
          metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
          metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
          metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
          metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
          metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
        },
      }
    } : undefined,
      },
      create: {
    modelArtifact: item.modelArtifact ? 
      typeof item.modelArtifact === 'object' && Object.keys(item.modelArtifact).length === 1 && Object.keys(item.modelArtifact)[0] === 'id'
    ? { connect: {
          id: item.modelArtifact.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: item.modelArtifact.id !== undefined ? item.modelArtifact.id : undefined,
        },
        create: {
          modelName: item.modelArtifact.modelName !== undefined ? item.modelArtifact.modelName : undefined,
          version: item.modelArtifact.version !== undefined ? item.modelArtifact.version : undefined,
          artifactType: item.modelArtifact.artifactType !== undefined ? item.modelArtifact.artifactType : undefined,
          storageUrl: item.modelArtifact.storageUrl !== undefined ? item.modelArtifact.storageUrl : undefined,
          storageProvider: item.modelArtifact.storageProvider !== undefined ? item.modelArtifact.storageProvider : undefined,
          checksum: item.modelArtifact.checksum !== undefined ? item.modelArtifact.checksum : undefined,
          compressionType: item.modelArtifact.compressionType !== undefined ? item.modelArtifact.compressionType : undefined,
          metadataFramework: item.modelArtifact.metadataFramework !== undefined ? item.modelArtifact.metadataFramework : undefined,
          metadataPythonVersion: item.modelArtifact.metadataPythonVersion !== undefined ? item.modelArtifact.metadataPythonVersion : undefined,
          metadataDependencies: item.modelArtifact.metadataDependencies !== undefined ? item.modelArtifact.metadataDependencies : undefined,
          metadataTrainingDate: item.modelArtifact.metadataTrainingDate !== undefined ? item.modelArtifact.metadataTrainingDate : undefined,
          metadataDatasetSize: item.modelArtifact.metadataDatasetSize !== undefined ? item.modelArtifact.metadataDatasetSize : undefined,
          metadataHyperparameters: item.modelArtifact.metadataHyperparameters !== undefined ? item.modelArtifact.metadataHyperparameters : undefined,
        },
      }
    } : undefined,
      },
    }))
  } : undefined,
  abTestsAsControl: prop.abTestsAsControl ? 
  Array.isArray(prop.abTestsAsControl) && prop.abTestsAsControl.length > 0 && prop.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
  connect: prop.abTestsAsControl.map((item: any) => ({
    id: item.id
  }))
} : { upsert: prop.abTestsAsControl.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
        name: item.name !== undefined ? {
            equals: item.name
          } : undefined,
        modelVersionAId: item.modelVersionAId !== undefined ? {
            equals: item.modelVersionAId
          } : undefined,
        modelVersionBId: item.modelVersionBId !== undefined ? {
            equals: item.modelVersionBId
          } : undefined,
      },
      update: {
        id: item.id !== undefined ? {
            set: item.id
          } : undefined,
        name: item.name !== undefined ? {
            set: item.name
          } : undefined,
        description: item.description !== undefined ? {
            set: item.description
          } : undefined,
        status: item.status !== undefined ? {
            set: item.status
          } : undefined,
        trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
            set: item.trafficSplitControlPercent
          } : undefined,
        trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
            set: item.trafficSplitTreatmentPercent
          } : undefined,
        targetMetrics: item.targetMetrics !== undefined ? {
            set: item.targetMetrics
          } : undefined,
        successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
            set: item.successCriteriaPrimaryMetric
          } : undefined,
        successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
            set: item.successCriteriaMinimumDetectableEffect
          } : undefined,
        successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
            set: item.successCriteriaSignificanceLevel
          } : undefined,
        successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
            set: item.successCriteriaPowerLevel
          } : undefined,
        startDate: item.startDate !== undefined ? {
            set: item.startDate
          } : undefined,
        endDate: item.endDate !== undefined ? {
            set: item.endDate
          } : undefined,
        plannedDuration: item.plannedDuration !== undefined ? {
            set: item.plannedDuration
          } : undefined,
        resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
            set: item.resultsControlMetrics
          } : undefined,
        resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
            set: item.resultsTreatmentMetrics
          } : undefined,
        resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
            set: item.resultsStatisticalSignificance
          } : undefined,
        resultsPValues: item.resultsPValues !== undefined ? {
            set: item.resultsPValues
          } : undefined,
        resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
            set: item.resultsConfidenceIntervals
          } : undefined,
        resultsRecommendation: item.resultsRecommendation !== undefined ? {
            set: item.resultsRecommendation
          } : undefined,
        metadataEnvironment: item.metadataEnvironment !== undefined ? {
            set: item.metadataEnvironment
          } : undefined,
        metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
            set: item.metadataEligibilityCriteria
          } : undefined,
        metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
            set: item.metadataExclusionCriteria
          } : undefined,
        metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
            set: item.metadataSegmentationRules
          } : undefined,
        completedAt: item.completedAt !== undefined ? {
            set: item.completedAt
          } : undefined,
    treatmentVersion: item.treatmentVersion ? 
    typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && (Object.keys(item.treatmentVersion)[0] === 'id' || Object.keys(item.treatmentVersion)[0] === 'symbol')
? {
    connect: {
      id: item.treatmentVersion.id
    }
} : { upsert: {
        where: {
          id: item.treatmentVersion.id !== undefined ? {
              equals: item.treatmentVersion.id
            } : undefined,
          parentVersionId: item.treatmentVersion.parentVersionId !== undefined ? {
              equals: item.treatmentVersion.parentVersionId
            } : undefined,
        },
        update: {
          id: item.treatmentVersion.id !== undefined ? {
              set: item.treatmentVersion.id
            } : undefined,
          modelName: item.treatmentVersion.modelName !== undefined ? {
              set: item.treatmentVersion.modelName
            } : undefined,
          version: item.treatmentVersion.version !== undefined ? {
              set: item.treatmentVersion.version
            } : undefined,
          status: item.treatmentVersion.status !== undefined ? {
              set: item.treatmentVersion.status
            } : undefined,
          performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? {
              set: item.treatmentVersion.performanceAccuracy
            } : undefined,
          performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? {
              set: item.treatmentVersion.performancePrecision
            } : undefined,
          performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? {
              set: item.treatmentVersion.performanceRecall
            } : undefined,
          performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? {
              set: item.treatmentVersion.performanceF1Score
            } : undefined,
          performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? {
              set: item.treatmentVersion.performanceAuc
            } : undefined,
          performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? {
              set: item.treatmentVersion.performanceSharpeRatio
            } : undefined,
          performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? {
              set: item.treatmentVersion.performanceMaxDrawdown
            } : undefined,
          performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? {
              set: item.treatmentVersion.performanceWinRate
            } : undefined,
          performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? {
              set: item.treatmentVersion.performanceAvgReturn
            } : undefined,
          performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? {
              set: item.treatmentVersion.performanceCalibrationScore
            } : undefined,
          performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? {
              set: item.treatmentVersion.performanceStabilityScore
            } : undefined,
          validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? {
              set: item.treatmentVersion.validationCrossValidationScore
            } : undefined,
          validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? {
              set: item.treatmentVersion.validationOutOfSamplePerformance
            } : undefined,
          validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? {
              set: item.treatmentVersion.validationBacktestResults
            } : undefined,
          validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? {
              set: item.treatmentVersion.validationStatTestResults
            } : undefined,
          deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? {
              set: item.treatmentVersion.deploymentEnvironment
            } : undefined,
          deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? {
              set: item.treatmentVersion.deploymentTrafficAllocation
            } : undefined,
          deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? {
              set: item.treatmentVersion.deploymentRolloutStrategy
            } : undefined,
          deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? {
              set: item.treatmentVersion.deploymentHealthCheckConfig
            } : undefined,
          trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? {
              set: item.treatmentVersion.trainingStartTime
            } : undefined,
          trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? {
              set: item.treatmentVersion.trainingEndTime
            } : undefined,
          trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? {
              set: item.treatmentVersion.trainingDuration
            } : undefined,
          trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? {
              set: item.treatmentVersion.trainingDatasetSize
            } : undefined,
          trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? {
              set: item.treatmentVersion.trainingFeaturesUsed
            } : undefined,
          trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? {
              set: item.treatmentVersion.trainingHyperparameters
            } : undefined,
          trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? {
              set: item.treatmentVersion.trainingResourcePeakMemoryMB
            } : undefined,
          trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? {
              set: item.treatmentVersion.trainingResourceTotalCpuHours
            } : undefined,
          trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? {
              set: item.treatmentVersion.trainingResourceGpuHours
            } : undefined,
          deployedAt: item.treatmentVersion.deployedAt !== undefined ? {
              set: item.treatmentVersion.deployedAt
            } : undefined,
          deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? {
              set: item.treatmentVersion.deprecatedAt
            } : undefined,
      parentVersion: item.treatmentVersion.parentVersion ? 
      typeof item.treatmentVersion.parentVersion === 'object' && Object.keys(item.treatmentVersion.parentVersion).length === 1 && (Object.keys(item.treatmentVersion.parentVersion)[0] === 'id' || Object.keys(item.treatmentVersion.parentVersion)[0] === 'symbol')
? {
      connect: {
        id: item.treatmentVersion.parentVersion.id
      }
} : { upsert: {
          where: {
            id: item.treatmentVersion.parentVersion.id !== undefined ? {
                equals: item.treatmentVersion.parentVersion.id
              } : undefined,
            parentVersionId: item.treatmentVersion.parentVersion.parentVersionId !== undefined ? {
                equals: item.treatmentVersion.parentVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: item.treatmentVersion.parentVersion.id !== undefined ? {
                set: item.treatmentVersion.parentVersion.id
              } : undefined,
            modelName: item.treatmentVersion.parentVersion.modelName !== undefined ? {
                set: item.treatmentVersion.parentVersion.modelName
              } : undefined,
            version: item.treatmentVersion.parentVersion.version !== undefined ? {
                set: item.treatmentVersion.parentVersion.version
              } : undefined,
            status: item.treatmentVersion.parentVersion.status !== undefined ? {
                set: item.treatmentVersion.parentVersion.status
              } : undefined,
            performanceAccuracy: item.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceAccuracy
              } : undefined,
            performancePrecision: item.treatmentVersion.parentVersion.performancePrecision !== undefined ? {
                set: item.treatmentVersion.parentVersion.performancePrecision
              } : undefined,
            performanceRecall: item.treatmentVersion.parentVersion.performanceRecall !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceRecall
              } : undefined,
            performanceF1Score: item.treatmentVersion.parentVersion.performanceF1Score !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceF1Score
              } : undefined,
            performanceAuc: item.treatmentVersion.parentVersion.performanceAuc !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.treatmentVersion.parentVersion.performanceWinRate !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? {
                set: item.treatmentVersion.parentVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? {
                set: item.treatmentVersion.parentVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? {
                set: item.treatmentVersion.parentVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? {
                set: item.treatmentVersion.parentVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? {
                set: item.treatmentVersion.parentVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? {
                set: item.treatmentVersion.parentVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? {
                set: item.treatmentVersion.parentVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? {
                set: item.treatmentVersion.parentVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? {
                set: item.treatmentVersion.parentVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.treatmentVersion.parentVersion.trainingStartTime !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingStartTime
              } : undefined,
            trainingEndTime: item.treatmentVersion.parentVersion.trainingEndTime !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingEndTime
              } : undefined,
            trainingDuration: item.treatmentVersion.parentVersion.trainingDuration !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: item.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? {
                set: item.treatmentVersion.parentVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.treatmentVersion.parentVersion.deployedAt !== undefined ? {
                set: item.treatmentVersion.parentVersion.deployedAt
              } : undefined,
            deprecatedAt: item.treatmentVersion.parentVersion.deprecatedAt !== undefined ? {
                set: item.treatmentVersion.parentVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.treatmentVersion.parentVersion.modelName !== undefined ? item.treatmentVersion.parentVersion.modelName : undefined,
            version: item.treatmentVersion.parentVersion.version !== undefined ? item.treatmentVersion.parentVersion.version : undefined,
            status: item.treatmentVersion.parentVersion.status !== undefined ? item.treatmentVersion.parentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.parentVersion.performancePrecision !== undefined ? item.treatmentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.parentVersion.performanceRecall !== undefined ? item.treatmentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.parentVersion.performanceF1Score !== undefined ? item.treatmentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.parentVersion.performanceAuc !== undefined ? item.treatmentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.parentVersion.performanceWinRate !== undefined ? item.treatmentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.parentVersion.trainingStartTime !== undefined ? item.treatmentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.parentVersion.trainingEndTime !== undefined ? item.treatmentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.parentVersion.trainingDuration !== undefined ? item.treatmentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.parentVersion.deployedAt !== undefined ? item.treatmentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.parentVersion.deprecatedAt !== undefined ? item.treatmentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      childVersions: item.treatmentVersion.childVersions ? 
      Array.isArray(item.treatmentVersion.childVersions) && item.treatmentVersion.childVersions.length > 0 && item.treatmentVersion.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.treatmentVersion.childVersions.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.treatmentVersion.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            parentVersionId: item.parentVersionId !== undefined ? {
                equals: item.parentVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            modelName: item.modelName !== undefined ? {
                set: item.modelName
              } : undefined,
            version: item.version !== undefined ? {
                set: item.version
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? {
                set: item.performanceAccuracy
              } : undefined,
            performancePrecision: item.performancePrecision !== undefined ? {
                set: item.performancePrecision
              } : undefined,
            performanceRecall: item.performanceRecall !== undefined ? {
                set: item.performanceRecall
              } : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? {
                set: item.performanceF1Score
              } : undefined,
            performanceAuc: item.performanceAuc !== undefined ? {
                set: item.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
                set: item.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
                set: item.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? {
                set: item.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
                set: item.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
                set: item.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
                set: item.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
                set: item.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
                set: item.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? {
                set: item.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? {
                set: item.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
                set: item.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
                set: item.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
                set: item.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
                set: item.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? {
                set: item.trainingStartTime
              } : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? {
                set: item.trainingEndTime
              } : undefined,
            trainingDuration: item.trainingDuration !== undefined ? {
                set: item.trainingDuration
              } : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
                set: item.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
                set: item.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
                set: item.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
                set: item.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
                set: item.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.deployedAt !== undefined ? {
                set: item.deployedAt
              } : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? {
                set: item.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.treatmentVersion.artifacts ? 
      Array.isArray(item.treatmentVersion.artifacts) && item.treatmentVersion.artifacts.length > 0 && item.treatmentVersion.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.treatmentVersion.artifacts.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.treatmentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.treatmentVersion.abTestsAsControl ? 
      Array.isArray(item.treatmentVersion.abTestsAsControl) && item.treatmentVersion.abTestsAsControl.length > 0 && item.treatmentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.treatmentVersion.abTestsAsControl.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.treatmentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.treatmentVersion.featureImportanceAnalyses ? 
      Array.isArray(item.treatmentVersion.featureImportanceAnalyses) && item.treatmentVersion.featureImportanceAnalyses.length > 0 && item.treatmentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            analysisType: item.analysisType !== undefined ? {
                set: item.analysisType
              } : undefined,
            featureImportances: item.featureImportances !== undefined ? {
                set: item.featureImportances
              } : undefined,
            globalImportance: item.globalImportance !== undefined ? {
                set: item.globalImportance
              } : undefined,
            localImportance: item.localImportance !== undefined ? {
                set: item.localImportance
              } : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
                set: item.analysisMetadataSampleSize
              } : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
                set: item.analysisMetadataBaselineAccuracy
              } : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
                set: item.analysisMetadataAnalysisDate
              } : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
                set: item.analysisMetadataComputationTime
              } : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
                set: item.analysisMetadataAnalysisParameters
              } : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
                set: item.insightsTopFeatures
              } : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
                set: item.insightsRedundantFeatures
              } : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
                set: item.insightsUnexpectedImportances
              } : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
                set: item.insightsStabilityScore
              } : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? {
                set: item.insightsRecommendations
              } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
        create: {
          modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
          version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
          status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
          performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
          performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
          performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
          performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
          performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
          performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
          performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
          validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
          trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
          trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
          trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
          deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
          deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
      parentVersion: item.treatmentVersion.parentVersion ? 
        typeof item.treatmentVersion.parentVersion === 'object' && Object.keys(item.treatmentVersion.parentVersion).length === 1 && Object.keys(item.treatmentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.parentVersion.id !== undefined ? item.treatmentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.parentVersion.modelName !== undefined ? item.treatmentVersion.parentVersion.modelName : undefined,
            version: item.treatmentVersion.parentVersion.version !== undefined ? item.treatmentVersion.parentVersion.version : undefined,
            status: item.treatmentVersion.parentVersion.status !== undefined ? item.treatmentVersion.parentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.parentVersion.performancePrecision !== undefined ? item.treatmentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.parentVersion.performanceRecall !== undefined ? item.treatmentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.parentVersion.performanceF1Score !== undefined ? item.treatmentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.parentVersion.performanceAuc !== undefined ? item.treatmentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.parentVersion.performanceWinRate !== undefined ? item.treatmentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.parentVersion.trainingStartTime !== undefined ? item.treatmentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.parentVersion.trainingEndTime !== undefined ? item.treatmentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.parentVersion.trainingDuration !== undefined ? item.treatmentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.parentVersion.deployedAt !== undefined ? item.treatmentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.parentVersion.deprecatedAt !== undefined ? item.treatmentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      childVersions: item.treatmentVersion.childVersions ? 
        Array.isArray(item.treatmentVersion.childVersions) && item.treatmentVersion.childVersions.length > 0 &&  item.treatmentVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.treatmentVersion.artifacts ? 
        Array.isArray(item.treatmentVersion.artifacts) && item.treatmentVersion.artifacts.length > 0 &&  item.treatmentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.treatmentVersion.abTestsAsControl ? 
        Array.isArray(item.treatmentVersion.abTestsAsControl) && item.treatmentVersion.abTestsAsControl.length > 0 &&  item.treatmentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.treatmentVersion.featureImportanceAnalyses ? 
        Array.isArray(item.treatmentVersion.featureImportanceAnalyses) && item.treatmentVersion.featureImportanceAnalyses.length > 0 &&  item.treatmentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
      },
      create: {
        name: item.name !== undefined ? item.name : undefined,
        description: item.description !== undefined ? item.description : undefined,
        status: item.status !== undefined ? item.status : undefined,
        trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
        trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
        targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
        successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
        successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
        successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
        successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
        startDate: item.startDate !== undefined ? item.startDate : undefined,
        endDate: item.endDate !== undefined ? item.endDate : undefined,
        resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
        resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
        resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
        resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
        resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
        resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
        metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
        metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
        metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
        metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
        completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
    treatmentVersion: item.treatmentVersion ? 
      typeof item.treatmentVersion === 'object' && Object.keys(item.treatmentVersion).length === 1 && Object.keys(item.treatmentVersion)[0] === 'id'
    ? { connect: {
          id: item.treatmentVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: item.treatmentVersion.id !== undefined ? item.treatmentVersion.id : undefined,
        },
        create: {
          modelName: item.treatmentVersion.modelName !== undefined ? item.treatmentVersion.modelName : undefined,
          version: item.treatmentVersion.version !== undefined ? item.treatmentVersion.version : undefined,
          status: item.treatmentVersion.status !== undefined ? item.treatmentVersion.status : undefined,
          performanceAccuracy: item.treatmentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.performanceAccuracy : undefined,
          performancePrecision: item.treatmentVersion.performancePrecision !== undefined ? item.treatmentVersion.performancePrecision : undefined,
          performanceRecall: item.treatmentVersion.performanceRecall !== undefined ? item.treatmentVersion.performanceRecall : undefined,
          performanceF1Score: item.treatmentVersion.performanceF1Score !== undefined ? item.treatmentVersion.performanceF1Score : undefined,
          performanceAuc: item.treatmentVersion.performanceAuc !== undefined ? item.treatmentVersion.performanceAuc : undefined,
          performanceSharpeRatio: item.treatmentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.treatmentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: item.treatmentVersion.performanceWinRate !== undefined ? item.treatmentVersion.performanceWinRate : undefined,
          performanceAvgReturn: item.treatmentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.treatmentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.treatmentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.treatmentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.treatmentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.treatmentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.validationBacktestResults : undefined,
          validationStatTestResults: item.treatmentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.validationStatTestResults : undefined,
          deploymentEnvironment: item.treatmentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.treatmentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.treatmentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.treatmentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.treatmentVersion.trainingStartTime !== undefined ? item.treatmentVersion.trainingStartTime : undefined,
          trainingEndTime: item.treatmentVersion.trainingEndTime !== undefined ? item.treatmentVersion.trainingEndTime : undefined,
          trainingDuration: item.treatmentVersion.trainingDuration !== undefined ? item.treatmentVersion.trainingDuration : undefined,
          trainingDatasetSize: item.treatmentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.treatmentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.treatmentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.treatmentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.treatmentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.treatmentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.trainingResourceGpuHours : undefined,
          deployedAt: item.treatmentVersion.deployedAt !== undefined ? item.treatmentVersion.deployedAt : undefined,
          deprecatedAt: item.treatmentVersion.deprecatedAt !== undefined ? item.treatmentVersion.deprecatedAt : undefined,
      parentVersion: item.treatmentVersion.parentVersion ? 
        typeof item.treatmentVersion.parentVersion === 'object' && Object.keys(item.treatmentVersion.parentVersion).length === 1 && Object.keys(item.treatmentVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: item.treatmentVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.treatmentVersion.parentVersion.id !== undefined ? item.treatmentVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: item.treatmentVersion.parentVersion.modelName !== undefined ? item.treatmentVersion.parentVersion.modelName : undefined,
            version: item.treatmentVersion.parentVersion.version !== undefined ? item.treatmentVersion.parentVersion.version : undefined,
            status: item.treatmentVersion.parentVersion.status !== undefined ? item.treatmentVersion.parentVersion.status : undefined,
            performanceAccuracy: item.treatmentVersion.parentVersion.performanceAccuracy !== undefined ? item.treatmentVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: item.treatmentVersion.parentVersion.performancePrecision !== undefined ? item.treatmentVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: item.treatmentVersion.parentVersion.performanceRecall !== undefined ? item.treatmentVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: item.treatmentVersion.parentVersion.performanceF1Score !== undefined ? item.treatmentVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: item.treatmentVersion.parentVersion.performanceAuc !== undefined ? item.treatmentVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.treatmentVersion.parentVersion.performanceSharpeRatio !== undefined ? item.treatmentVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.treatmentVersion.parentVersion.performanceMaxDrawdown !== undefined ? item.treatmentVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.treatmentVersion.parentVersion.performanceWinRate !== undefined ? item.treatmentVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.treatmentVersion.parentVersion.performanceAvgReturn !== undefined ? item.treatmentVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.treatmentVersion.parentVersion.performanceCalibrationScore !== undefined ? item.treatmentVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.treatmentVersion.parentVersion.performanceStabilityScore !== undefined ? item.treatmentVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.treatmentVersion.parentVersion.validationCrossValidationScore !== undefined ? item.treatmentVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.treatmentVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? item.treatmentVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.treatmentVersion.parentVersion.validationBacktestResults !== undefined ? item.treatmentVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.treatmentVersion.parentVersion.validationStatTestResults !== undefined ? item.treatmentVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.treatmentVersion.parentVersion.deploymentEnvironment !== undefined ? item.treatmentVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.treatmentVersion.parentVersion.deploymentTrafficAllocation !== undefined ? item.treatmentVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.treatmentVersion.parentVersion.deploymentRolloutStrategy !== undefined ? item.treatmentVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.treatmentVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? item.treatmentVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.treatmentVersion.parentVersion.trainingStartTime !== undefined ? item.treatmentVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: item.treatmentVersion.parentVersion.trainingEndTime !== undefined ? item.treatmentVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: item.treatmentVersion.parentVersion.trainingDuration !== undefined ? item.treatmentVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.treatmentVersion.parentVersion.trainingDatasetSize !== undefined ? item.treatmentVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.treatmentVersion.parentVersion.trainingFeaturesUsed !== undefined ? item.treatmentVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.treatmentVersion.parentVersion.trainingHyperparameters !== undefined ? item.treatmentVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? item.treatmentVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? item.treatmentVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.treatmentVersion.parentVersion.trainingResourceGpuHours !== undefined ? item.treatmentVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.treatmentVersion.parentVersion.deployedAt !== undefined ? item.treatmentVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: item.treatmentVersion.parentVersion.deprecatedAt !== undefined ? item.treatmentVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      childVersions: item.treatmentVersion.childVersions ? 
        Array.isArray(item.treatmentVersion.childVersions) && item.treatmentVersion.childVersions.length > 0 &&  item.treatmentVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.treatmentVersion.artifacts ? 
        Array.isArray(item.treatmentVersion.artifacts) && item.treatmentVersion.artifacts.length > 0 &&  item.treatmentVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsControl: item.treatmentVersion.abTestsAsControl ? 
        Array.isArray(item.treatmentVersion.abTestsAsControl) && item.treatmentVersion.abTestsAsControl.length > 0 &&  item.treatmentVersion.abTestsAsControl.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.abTestsAsControl.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.abTestsAsControl.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.treatmentVersion.featureImportanceAnalyses ? 
        Array.isArray(item.treatmentVersion.featureImportanceAnalyses) && item.treatmentVersion.featureImportanceAnalyses.length > 0 &&  item.treatmentVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.treatmentVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
      },
    }))
  } : undefined,
  abTestsAsTreatment: prop.abTestsAsTreatment ? 
  Array.isArray(prop.abTestsAsTreatment) && prop.abTestsAsTreatment.length > 0 && prop.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
  connect: prop.abTestsAsTreatment.map((item: any) => ({
    id: item.id
  }))
} : { upsert: prop.abTestsAsTreatment.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
        name: item.name !== undefined ? {
            equals: item.name
          } : undefined,
        modelVersionAId: item.modelVersionAId !== undefined ? {
            equals: item.modelVersionAId
          } : undefined,
        modelVersionBId: item.modelVersionBId !== undefined ? {
            equals: item.modelVersionBId
          } : undefined,
      },
      update: {
        id: item.id !== undefined ? {
            set: item.id
          } : undefined,
        name: item.name !== undefined ? {
            set: item.name
          } : undefined,
        description: item.description !== undefined ? {
            set: item.description
          } : undefined,
        status: item.status !== undefined ? {
            set: item.status
          } : undefined,
        trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
            set: item.trafficSplitControlPercent
          } : undefined,
        trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
            set: item.trafficSplitTreatmentPercent
          } : undefined,
        targetMetrics: item.targetMetrics !== undefined ? {
            set: item.targetMetrics
          } : undefined,
        successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
            set: item.successCriteriaPrimaryMetric
          } : undefined,
        successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
            set: item.successCriteriaMinimumDetectableEffect
          } : undefined,
        successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
            set: item.successCriteriaSignificanceLevel
          } : undefined,
        successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
            set: item.successCriteriaPowerLevel
          } : undefined,
        startDate: item.startDate !== undefined ? {
            set: item.startDate
          } : undefined,
        endDate: item.endDate !== undefined ? {
            set: item.endDate
          } : undefined,
        plannedDuration: item.plannedDuration !== undefined ? {
            set: item.plannedDuration
          } : undefined,
        resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
            set: item.resultsControlMetrics
          } : undefined,
        resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
            set: item.resultsTreatmentMetrics
          } : undefined,
        resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
            set: item.resultsStatisticalSignificance
          } : undefined,
        resultsPValues: item.resultsPValues !== undefined ? {
            set: item.resultsPValues
          } : undefined,
        resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
            set: item.resultsConfidenceIntervals
          } : undefined,
        resultsRecommendation: item.resultsRecommendation !== undefined ? {
            set: item.resultsRecommendation
          } : undefined,
        metadataEnvironment: item.metadataEnvironment !== undefined ? {
            set: item.metadataEnvironment
          } : undefined,
        metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
            set: item.metadataEligibilityCriteria
          } : undefined,
        metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
            set: item.metadataExclusionCriteria
          } : undefined,
        metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
            set: item.metadataSegmentationRules
          } : undefined,
        completedAt: item.completedAt !== undefined ? {
            set: item.completedAt
          } : undefined,
    controlVersion: item.controlVersion ? 
    typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && (Object.keys(item.controlVersion)[0] === 'id' || Object.keys(item.controlVersion)[0] === 'symbol')
? {
    connect: {
      id: item.controlVersion.id
    }
} : { upsert: {
        where: {
          id: item.controlVersion.id !== undefined ? {
              equals: item.controlVersion.id
            } : undefined,
          parentVersionId: item.controlVersion.parentVersionId !== undefined ? {
              equals: item.controlVersion.parentVersionId
            } : undefined,
        },
        update: {
          id: item.controlVersion.id !== undefined ? {
              set: item.controlVersion.id
            } : undefined,
          modelName: item.controlVersion.modelName !== undefined ? {
              set: item.controlVersion.modelName
            } : undefined,
          version: item.controlVersion.version !== undefined ? {
              set: item.controlVersion.version
            } : undefined,
          status: item.controlVersion.status !== undefined ? {
              set: item.controlVersion.status
            } : undefined,
          performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? {
              set: item.controlVersion.performanceAccuracy
            } : undefined,
          performancePrecision: item.controlVersion.performancePrecision !== undefined ? {
              set: item.controlVersion.performancePrecision
            } : undefined,
          performanceRecall: item.controlVersion.performanceRecall !== undefined ? {
              set: item.controlVersion.performanceRecall
            } : undefined,
          performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? {
              set: item.controlVersion.performanceF1Score
            } : undefined,
          performanceAuc: item.controlVersion.performanceAuc !== undefined ? {
              set: item.controlVersion.performanceAuc
            } : undefined,
          performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? {
              set: item.controlVersion.performanceSharpeRatio
            } : undefined,
          performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? {
              set: item.controlVersion.performanceMaxDrawdown
            } : undefined,
          performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? {
              set: item.controlVersion.performanceWinRate
            } : undefined,
          performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? {
              set: item.controlVersion.performanceAvgReturn
            } : undefined,
          performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? {
              set: item.controlVersion.performanceCalibrationScore
            } : undefined,
          performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? {
              set: item.controlVersion.performanceStabilityScore
            } : undefined,
          validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? {
              set: item.controlVersion.validationCrossValidationScore
            } : undefined,
          validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? {
              set: item.controlVersion.validationOutOfSamplePerformance
            } : undefined,
          validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? {
              set: item.controlVersion.validationBacktestResults
            } : undefined,
          validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? {
              set: item.controlVersion.validationStatTestResults
            } : undefined,
          deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? {
              set: item.controlVersion.deploymentEnvironment
            } : undefined,
          deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? {
              set: item.controlVersion.deploymentTrafficAllocation
            } : undefined,
          deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? {
              set: item.controlVersion.deploymentRolloutStrategy
            } : undefined,
          deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? {
              set: item.controlVersion.deploymentHealthCheckConfig
            } : undefined,
          trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? {
              set: item.controlVersion.trainingStartTime
            } : undefined,
          trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? {
              set: item.controlVersion.trainingEndTime
            } : undefined,
          trainingDuration: item.controlVersion.trainingDuration !== undefined ? {
              set: item.controlVersion.trainingDuration
            } : undefined,
          trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? {
              set: item.controlVersion.trainingDatasetSize
            } : undefined,
          trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? {
              set: item.controlVersion.trainingFeaturesUsed
            } : undefined,
          trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? {
              set: item.controlVersion.trainingHyperparameters
            } : undefined,
          trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? {
              set: item.controlVersion.trainingResourcePeakMemoryMB
            } : undefined,
          trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? {
              set: item.controlVersion.trainingResourceTotalCpuHours
            } : undefined,
          trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? {
              set: item.controlVersion.trainingResourceGpuHours
            } : undefined,
          deployedAt: item.controlVersion.deployedAt !== undefined ? {
              set: item.controlVersion.deployedAt
            } : undefined,
          deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? {
              set: item.controlVersion.deprecatedAt
            } : undefined,
      parentVersion: item.controlVersion.parentVersion ? 
      typeof item.controlVersion.parentVersion === 'object' && Object.keys(item.controlVersion.parentVersion).length === 1 && (Object.keys(item.controlVersion.parentVersion)[0] === 'id' || Object.keys(item.controlVersion.parentVersion)[0] === 'symbol')
? {
      connect: {
        id: item.controlVersion.parentVersion.id
      }
} : { upsert: {
          where: {
            id: item.controlVersion.parentVersion.id !== undefined ? {
                equals: item.controlVersion.parentVersion.id
              } : undefined,
            parentVersionId: item.controlVersion.parentVersion.parentVersionId !== undefined ? {
                equals: item.controlVersion.parentVersion.parentVersionId
              } : undefined,
          },
          update: {
            id: item.controlVersion.parentVersion.id !== undefined ? {
                set: item.controlVersion.parentVersion.id
              } : undefined,
            modelName: item.controlVersion.parentVersion.modelName !== undefined ? {
                set: item.controlVersion.parentVersion.modelName
              } : undefined,
            version: item.controlVersion.parentVersion.version !== undefined ? {
                set: item.controlVersion.parentVersion.version
              } : undefined,
            status: item.controlVersion.parentVersion.status !== undefined ? {
                set: item.controlVersion.parentVersion.status
              } : undefined,
            performanceAccuracy: item.controlVersion.parentVersion.performanceAccuracy !== undefined ? {
                set: item.controlVersion.parentVersion.performanceAccuracy
              } : undefined,
            performancePrecision: item.controlVersion.parentVersion.performancePrecision !== undefined ? {
                set: item.controlVersion.parentVersion.performancePrecision
              } : undefined,
            performanceRecall: item.controlVersion.parentVersion.performanceRecall !== undefined ? {
                set: item.controlVersion.parentVersion.performanceRecall
              } : undefined,
            performanceF1Score: item.controlVersion.parentVersion.performanceF1Score !== undefined ? {
                set: item.controlVersion.parentVersion.performanceF1Score
              } : undefined,
            performanceAuc: item.controlVersion.parentVersion.performanceAuc !== undefined ? {
                set: item.controlVersion.parentVersion.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? {
                set: item.controlVersion.parentVersion.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? {
                set: item.controlVersion.parentVersion.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.controlVersion.parentVersion.performanceWinRate !== undefined ? {
                set: item.controlVersion.parentVersion.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.controlVersion.parentVersion.performanceAvgReturn !== undefined ? {
                set: item.controlVersion.parentVersion.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? {
                set: item.controlVersion.parentVersion.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.controlVersion.parentVersion.performanceStabilityScore !== undefined ? {
                set: item.controlVersion.parentVersion.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? {
                set: item.controlVersion.parentVersion.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? {
                set: item.controlVersion.parentVersion.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.controlVersion.parentVersion.validationBacktestResults !== undefined ? {
                set: item.controlVersion.parentVersion.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.controlVersion.parentVersion.validationStatTestResults !== undefined ? {
                set: item.controlVersion.parentVersion.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.controlVersion.parentVersion.deploymentEnvironment !== undefined ? {
                set: item.controlVersion.parentVersion.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? {
                set: item.controlVersion.parentVersion.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? {
                set: item.controlVersion.parentVersion.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? {
                set: item.controlVersion.parentVersion.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.controlVersion.parentVersion.trainingStartTime !== undefined ? {
                set: item.controlVersion.parentVersion.trainingStartTime
              } : undefined,
            trainingEndTime: item.controlVersion.parentVersion.trainingEndTime !== undefined ? {
                set: item.controlVersion.parentVersion.trainingEndTime
              } : undefined,
            trainingDuration: item.controlVersion.parentVersion.trainingDuration !== undefined ? {
                set: item.controlVersion.parentVersion.trainingDuration
              } : undefined,
            trainingDatasetSize: item.controlVersion.parentVersion.trainingDatasetSize !== undefined ? {
                set: item.controlVersion.parentVersion.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? {
                set: item.controlVersion.parentVersion.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.controlVersion.parentVersion.trainingHyperparameters !== undefined ? {
                set: item.controlVersion.parentVersion.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.controlVersion.parentVersion.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? {
                set: item.controlVersion.parentVersion.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? {
                set: item.controlVersion.parentVersion.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.controlVersion.parentVersion.deployedAt !== undefined ? {
                set: item.controlVersion.parentVersion.deployedAt
              } : undefined,
            deprecatedAt: item.controlVersion.parentVersion.deprecatedAt !== undefined ? {
                set: item.controlVersion.parentVersion.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.controlVersion.parentVersion.modelName !== undefined ? item.controlVersion.parentVersion.modelName : undefined,
            version: item.controlVersion.parentVersion.version !== undefined ? item.controlVersion.parentVersion.version : undefined,
            status: item.controlVersion.parentVersion.status !== undefined ? item.controlVersion.parentVersion.status : undefined,
            performanceAccuracy: item.controlVersion.parentVersion.performanceAccuracy !== undefined ? item.controlVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.parentVersion.performancePrecision !== undefined ? item.controlVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.parentVersion.performanceRecall !== undefined ? item.controlVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.parentVersion.performanceF1Score !== undefined ? item.controlVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.parentVersion.performanceAuc !== undefined ? item.controlVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? item.controlVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.parentVersion.performanceWinRate !== undefined ? item.controlVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.parentVersion.performanceAvgReturn !== undefined ? item.controlVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? item.controlVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.parentVersion.performanceStabilityScore !== undefined ? item.controlVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? item.controlVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.parentVersion.validationBacktestResults !== undefined ? item.controlVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.parentVersion.validationStatTestResults !== undefined ? item.controlVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.parentVersion.deploymentEnvironment !== undefined ? item.controlVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.parentVersion.trainingStartTime !== undefined ? item.controlVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.parentVersion.trainingEndTime !== undefined ? item.controlVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.parentVersion.trainingDuration !== undefined ? item.controlVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.parentVersion.trainingDatasetSize !== undefined ? item.controlVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.parentVersion.trainingHyperparameters !== undefined ? item.controlVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.parentVersion.deployedAt !== undefined ? item.controlVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.parentVersion.deprecatedAt !== undefined ? item.controlVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      childVersions: item.controlVersion.childVersions ? 
      Array.isArray(item.controlVersion.childVersions) && item.controlVersion.childVersions.length > 0 && item.controlVersion.childVersions.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.controlVersion.childVersions.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.controlVersion.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            parentVersionId: item.parentVersionId !== undefined ? {
                equals: item.parentVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            modelName: item.modelName !== undefined ? {
                set: item.modelName
              } : undefined,
            version: item.version !== undefined ? {
                set: item.version
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? {
                set: item.performanceAccuracy
              } : undefined,
            performancePrecision: item.performancePrecision !== undefined ? {
                set: item.performancePrecision
              } : undefined,
            performanceRecall: item.performanceRecall !== undefined ? {
                set: item.performanceRecall
              } : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? {
                set: item.performanceF1Score
              } : undefined,
            performanceAuc: item.performanceAuc !== undefined ? {
                set: item.performanceAuc
              } : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? {
                set: item.performanceSharpeRatio
              } : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? {
                set: item.performanceMaxDrawdown
              } : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? {
                set: item.performanceWinRate
              } : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? {
                set: item.performanceAvgReturn
              } : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? {
                set: item.performanceCalibrationScore
              } : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? {
                set: item.performanceStabilityScore
              } : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? {
                set: item.validationCrossValidationScore
              } : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? {
                set: item.validationOutOfSamplePerformance
              } : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? {
                set: item.validationBacktestResults
              } : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? {
                set: item.validationStatTestResults
              } : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? {
                set: item.deploymentEnvironment
              } : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? {
                set: item.deploymentTrafficAllocation
              } : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? {
                set: item.deploymentRolloutStrategy
              } : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? {
                set: item.deploymentHealthCheckConfig
              } : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? {
                set: item.trainingStartTime
              } : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? {
                set: item.trainingEndTime
              } : undefined,
            trainingDuration: item.trainingDuration !== undefined ? {
                set: item.trainingDuration
              } : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? {
                set: item.trainingDatasetSize
              } : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? {
                set: item.trainingFeaturesUsed
              } : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? {
                set: item.trainingHyperparameters
              } : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? {
                set: item.trainingResourcePeakMemoryMB
              } : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? {
                set: item.trainingResourceTotalCpuHours
              } : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? {
                set: item.trainingResourceGpuHours
              } : undefined,
            deployedAt: item.deployedAt !== undefined ? {
                set: item.deployedAt
              } : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? {
                set: item.deprecatedAt
              } : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.controlVersion.artifacts ? 
      Array.isArray(item.controlVersion.artifacts) && item.controlVersion.artifacts.length > 0 && item.controlVersion.artifacts.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.controlVersion.artifacts.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.controlVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.controlVersion.abTestsAsTreatment ? 
      Array.isArray(item.controlVersion.abTestsAsTreatment) && item.controlVersion.abTestsAsTreatment.length > 0 && item.controlVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.controlVersion.abTestsAsTreatment.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.controlVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name
              } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId
              } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            name: item.name !== undefined ? {
                set: item.name
              } : undefined,
            description: item.description !== undefined ? {
                set: item.description
              } : undefined,
            status: item.status !== undefined ? {
                set: item.status
              } : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? {
                set: item.trafficSplitControlPercent
              } : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? {
                set: item.trafficSplitTreatmentPercent
              } : undefined,
            targetMetrics: item.targetMetrics !== undefined ? {
                set: item.targetMetrics
              } : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? {
                set: item.successCriteriaPrimaryMetric
              } : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? {
                set: item.successCriteriaMinimumDetectableEffect
              } : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? {
                set: item.successCriteriaSignificanceLevel
              } : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? {
                set: item.successCriteriaPowerLevel
              } : undefined,
            startDate: item.startDate !== undefined ? {
                set: item.startDate
              } : undefined,
            endDate: item.endDate !== undefined ? {
                set: item.endDate
              } : undefined,
            plannedDuration: item.plannedDuration !== undefined ? {
                set: item.plannedDuration
              } : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? {
                set: item.resultsControlMetrics
              } : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? {
                set: item.resultsTreatmentMetrics
              } : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? {
                set: item.resultsStatisticalSignificance
              } : undefined,
            resultsPValues: item.resultsPValues !== undefined ? {
                set: item.resultsPValues
              } : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? {
                set: item.resultsConfidenceIntervals
              } : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? {
                set: item.resultsRecommendation
              } : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? {
                set: item.metadataEnvironment
              } : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? {
                set: item.metadataEligibilityCriteria
              } : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? {
                set: item.metadataExclusionCriteria
              } : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? {
                set: item.metadataSegmentationRules
              } : undefined,
            completedAt: item.completedAt !== undefined ? {
                set: item.completedAt
              } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.controlVersion.featureImportanceAnalyses ? 
      Array.isArray(item.controlVersion.featureImportanceAnalyses) && item.controlVersion.featureImportanceAnalyses.length > 0 && item.controlVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
      connect: item.controlVersion.featureImportanceAnalyses.map((item: any) => ({
        id: item.id
      }))
} : { upsert: item.controlVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId
              } : undefined,
          },
          update: {
            id: item.id !== undefined ? {
                set: item.id
              } : undefined,
            analysisType: item.analysisType !== undefined ? {
                set: item.analysisType
              } : undefined,
            featureImportances: item.featureImportances !== undefined ? {
                set: item.featureImportances
              } : undefined,
            globalImportance: item.globalImportance !== undefined ? {
                set: item.globalImportance
              } : undefined,
            localImportance: item.localImportance !== undefined ? {
                set: item.localImportance
              } : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
                set: item.analysisMetadataSampleSize
              } : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
                set: item.analysisMetadataBaselineAccuracy
              } : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
                set: item.analysisMetadataAnalysisDate
              } : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
                set: item.analysisMetadataComputationTime
              } : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
                set: item.analysisMetadataAnalysisParameters
              } : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
                set: item.insightsTopFeatures
              } : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
                set: item.insightsRedundantFeatures
              } : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
                set: item.insightsUnexpectedImportances
              } : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
                set: item.insightsStabilityScore
              } : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? {
                set: item.insightsRecommendations
              } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
        create: {
          modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
          version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
          status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
          performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
          performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
          performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
          performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
          performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
          performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
          performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
          validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
          deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
          trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
          trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
          trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
          deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
          deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
      parentVersion: item.controlVersion.parentVersion ? 
        typeof item.controlVersion.parentVersion === 'object' && Object.keys(item.controlVersion.parentVersion).length === 1 && Object.keys(item.controlVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.parentVersion.id !== undefined ? item.controlVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.parentVersion.modelName !== undefined ? item.controlVersion.parentVersion.modelName : undefined,
            version: item.controlVersion.parentVersion.version !== undefined ? item.controlVersion.parentVersion.version : undefined,
            status: item.controlVersion.parentVersion.status !== undefined ? item.controlVersion.parentVersion.status : undefined,
            performanceAccuracy: item.controlVersion.parentVersion.performanceAccuracy !== undefined ? item.controlVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.parentVersion.performancePrecision !== undefined ? item.controlVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.parentVersion.performanceRecall !== undefined ? item.controlVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.parentVersion.performanceF1Score !== undefined ? item.controlVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.parentVersion.performanceAuc !== undefined ? item.controlVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? item.controlVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.parentVersion.performanceWinRate !== undefined ? item.controlVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.parentVersion.performanceAvgReturn !== undefined ? item.controlVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? item.controlVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.parentVersion.performanceStabilityScore !== undefined ? item.controlVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? item.controlVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.parentVersion.validationBacktestResults !== undefined ? item.controlVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.parentVersion.validationStatTestResults !== undefined ? item.controlVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.parentVersion.deploymentEnvironment !== undefined ? item.controlVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.parentVersion.trainingStartTime !== undefined ? item.controlVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.parentVersion.trainingEndTime !== undefined ? item.controlVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.parentVersion.trainingDuration !== undefined ? item.controlVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.parentVersion.trainingDatasetSize !== undefined ? item.controlVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.parentVersion.trainingHyperparameters !== undefined ? item.controlVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.parentVersion.deployedAt !== undefined ? item.controlVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.parentVersion.deprecatedAt !== undefined ? item.controlVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      childVersions: item.controlVersion.childVersions ? 
        Array.isArray(item.controlVersion.childVersions) && item.controlVersion.childVersions.length > 0 &&  item.controlVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.controlVersion.artifacts ? 
        Array.isArray(item.controlVersion.artifacts) && item.controlVersion.artifacts.length > 0 &&  item.controlVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.controlVersion.abTestsAsTreatment ? 
        Array.isArray(item.controlVersion.abTestsAsTreatment) && item.controlVersion.abTestsAsTreatment.length > 0 &&  item.controlVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.controlVersion.featureImportanceAnalyses ? 
        Array.isArray(item.controlVersion.featureImportanceAnalyses) && item.controlVersion.featureImportanceAnalyses.length > 0 &&  item.controlVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
      },
      create: {
        name: item.name !== undefined ? item.name : undefined,
        description: item.description !== undefined ? item.description : undefined,
        status: item.status !== undefined ? item.status : undefined,
        trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
        trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
        targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
        successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
        successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
        successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
        successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
        startDate: item.startDate !== undefined ? item.startDate : undefined,
        endDate: item.endDate !== undefined ? item.endDate : undefined,
        resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
        resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
        resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
        resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
        resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
        resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
        metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
        metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
        metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
        metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
        completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
    controlVersion: item.controlVersion ? 
      typeof item.controlVersion === 'object' && Object.keys(item.controlVersion).length === 1 && Object.keys(item.controlVersion)[0] === 'id'
    ? { connect: {
          id: item.controlVersion.id
          }
        }
    : { connectOrCreate: {
        where: {
          id: item.controlVersion.id !== undefined ? item.controlVersion.id : undefined,
        },
        create: {
          modelName: item.controlVersion.modelName !== undefined ? item.controlVersion.modelName : undefined,
          version: item.controlVersion.version !== undefined ? item.controlVersion.version : undefined,
          status: item.controlVersion.status !== undefined ? item.controlVersion.status : undefined,
          performanceAccuracy: item.controlVersion.performanceAccuracy !== undefined ? item.controlVersion.performanceAccuracy : undefined,
          performancePrecision: item.controlVersion.performancePrecision !== undefined ? item.controlVersion.performancePrecision : undefined,
          performanceRecall: item.controlVersion.performanceRecall !== undefined ? item.controlVersion.performanceRecall : undefined,
          performanceF1Score: item.controlVersion.performanceF1Score !== undefined ? item.controlVersion.performanceF1Score : undefined,
          performanceAuc: item.controlVersion.performanceAuc !== undefined ? item.controlVersion.performanceAuc : undefined,
          performanceSharpeRatio: item.controlVersion.performanceSharpeRatio !== undefined ? item.controlVersion.performanceSharpeRatio : undefined,
          performanceMaxDrawdown: item.controlVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.performanceMaxDrawdown : undefined,
          performanceWinRate: item.controlVersion.performanceWinRate !== undefined ? item.controlVersion.performanceWinRate : undefined,
          performanceAvgReturn: item.controlVersion.performanceAvgReturn !== undefined ? item.controlVersion.performanceAvgReturn : undefined,
          performanceCalibrationScore: item.controlVersion.performanceCalibrationScore !== undefined ? item.controlVersion.performanceCalibrationScore : undefined,
          performanceStabilityScore: item.controlVersion.performanceStabilityScore !== undefined ? item.controlVersion.performanceStabilityScore : undefined,
          validationCrossValidationScore: item.controlVersion.validationCrossValidationScore !== undefined ? item.controlVersion.validationCrossValidationScore : undefined,
          validationOutOfSamplePerformance: item.controlVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.validationOutOfSamplePerformance : undefined,
          validationBacktestResults: item.controlVersion.validationBacktestResults !== undefined ? item.controlVersion.validationBacktestResults : undefined,
          validationStatTestResults: item.controlVersion.validationStatTestResults !== undefined ? item.controlVersion.validationStatTestResults : undefined,
          deploymentEnvironment: item.controlVersion.deploymentEnvironment !== undefined ? item.controlVersion.deploymentEnvironment : undefined,
          deploymentTrafficAllocation: item.controlVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.deploymentTrafficAllocation : undefined,
          deploymentRolloutStrategy: item.controlVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.deploymentRolloutStrategy : undefined,
          deploymentHealthCheckConfig: item.controlVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.deploymentHealthCheckConfig : undefined,
          trainingStartTime: item.controlVersion.trainingStartTime !== undefined ? item.controlVersion.trainingStartTime : undefined,
          trainingEndTime: item.controlVersion.trainingEndTime !== undefined ? item.controlVersion.trainingEndTime : undefined,
          trainingDuration: item.controlVersion.trainingDuration !== undefined ? item.controlVersion.trainingDuration : undefined,
          trainingDatasetSize: item.controlVersion.trainingDatasetSize !== undefined ? item.controlVersion.trainingDatasetSize : undefined,
          trainingFeaturesUsed: item.controlVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.trainingFeaturesUsed : undefined,
          trainingHyperparameters: item.controlVersion.trainingHyperparameters !== undefined ? item.controlVersion.trainingHyperparameters : undefined,
          trainingResourcePeakMemoryMB: item.controlVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.trainingResourcePeakMemoryMB : undefined,
          trainingResourceTotalCpuHours: item.controlVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.trainingResourceTotalCpuHours : undefined,
          trainingResourceGpuHours: item.controlVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.trainingResourceGpuHours : undefined,
          deployedAt: item.controlVersion.deployedAt !== undefined ? item.controlVersion.deployedAt : undefined,
          deprecatedAt: item.controlVersion.deprecatedAt !== undefined ? item.controlVersion.deprecatedAt : undefined,
      parentVersion: item.controlVersion.parentVersion ? 
        typeof item.controlVersion.parentVersion === 'object' && Object.keys(item.controlVersion.parentVersion).length === 1 && Object.keys(item.controlVersion.parentVersion)[0] === 'id'
    ? { connect: {
            id: item.controlVersion.parentVersion.id
            }
          }
    : { connectOrCreate: {
          where: {
            id: item.controlVersion.parentVersion.id !== undefined ? item.controlVersion.parentVersion.id : undefined,
          },
          create: {
            modelName: item.controlVersion.parentVersion.modelName !== undefined ? item.controlVersion.parentVersion.modelName : undefined,
            version: item.controlVersion.parentVersion.version !== undefined ? item.controlVersion.parentVersion.version : undefined,
            status: item.controlVersion.parentVersion.status !== undefined ? item.controlVersion.parentVersion.status : undefined,
            performanceAccuracy: item.controlVersion.parentVersion.performanceAccuracy !== undefined ? item.controlVersion.parentVersion.performanceAccuracy : undefined,
            performancePrecision: item.controlVersion.parentVersion.performancePrecision !== undefined ? item.controlVersion.parentVersion.performancePrecision : undefined,
            performanceRecall: item.controlVersion.parentVersion.performanceRecall !== undefined ? item.controlVersion.parentVersion.performanceRecall : undefined,
            performanceF1Score: item.controlVersion.parentVersion.performanceF1Score !== undefined ? item.controlVersion.parentVersion.performanceF1Score : undefined,
            performanceAuc: item.controlVersion.parentVersion.performanceAuc !== undefined ? item.controlVersion.parentVersion.performanceAuc : undefined,
            performanceSharpeRatio: item.controlVersion.parentVersion.performanceSharpeRatio !== undefined ? item.controlVersion.parentVersion.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.controlVersion.parentVersion.performanceMaxDrawdown !== undefined ? item.controlVersion.parentVersion.performanceMaxDrawdown : undefined,
            performanceWinRate: item.controlVersion.parentVersion.performanceWinRate !== undefined ? item.controlVersion.parentVersion.performanceWinRate : undefined,
            performanceAvgReturn: item.controlVersion.parentVersion.performanceAvgReturn !== undefined ? item.controlVersion.parentVersion.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.controlVersion.parentVersion.performanceCalibrationScore !== undefined ? item.controlVersion.parentVersion.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.controlVersion.parentVersion.performanceStabilityScore !== undefined ? item.controlVersion.parentVersion.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.controlVersion.parentVersion.validationCrossValidationScore !== undefined ? item.controlVersion.parentVersion.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.controlVersion.parentVersion.validationOutOfSamplePerformance !== undefined ? item.controlVersion.parentVersion.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.controlVersion.parentVersion.validationBacktestResults !== undefined ? item.controlVersion.parentVersion.validationBacktestResults : undefined,
            validationStatTestResults: item.controlVersion.parentVersion.validationStatTestResults !== undefined ? item.controlVersion.parentVersion.validationStatTestResults : undefined,
            deploymentEnvironment: item.controlVersion.parentVersion.deploymentEnvironment !== undefined ? item.controlVersion.parentVersion.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.controlVersion.parentVersion.deploymentTrafficAllocation !== undefined ? item.controlVersion.parentVersion.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.controlVersion.parentVersion.deploymentRolloutStrategy !== undefined ? item.controlVersion.parentVersion.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.controlVersion.parentVersion.deploymentHealthCheckConfig !== undefined ? item.controlVersion.parentVersion.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.controlVersion.parentVersion.trainingStartTime !== undefined ? item.controlVersion.parentVersion.trainingStartTime : undefined,
            trainingEndTime: item.controlVersion.parentVersion.trainingEndTime !== undefined ? item.controlVersion.parentVersion.trainingEndTime : undefined,
            trainingDuration: item.controlVersion.parentVersion.trainingDuration !== undefined ? item.controlVersion.parentVersion.trainingDuration : undefined,
            trainingDatasetSize: item.controlVersion.parentVersion.trainingDatasetSize !== undefined ? item.controlVersion.parentVersion.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.controlVersion.parentVersion.trainingFeaturesUsed !== undefined ? item.controlVersion.parentVersion.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.controlVersion.parentVersion.trainingHyperparameters !== undefined ? item.controlVersion.parentVersion.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.controlVersion.parentVersion.trainingResourcePeakMemoryMB !== undefined ? item.controlVersion.parentVersion.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.controlVersion.parentVersion.trainingResourceTotalCpuHours !== undefined ? item.controlVersion.parentVersion.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.controlVersion.parentVersion.trainingResourceGpuHours !== undefined ? item.controlVersion.parentVersion.trainingResourceGpuHours : undefined,
            deployedAt: item.controlVersion.parentVersion.deployedAt !== undefined ? item.controlVersion.parentVersion.deployedAt : undefined,
            deprecatedAt: item.controlVersion.parentVersion.deprecatedAt !== undefined ? item.controlVersion.parentVersion.deprecatedAt : undefined,
          },
        }
      } : undefined,
      childVersions: item.controlVersion.childVersions ? 
        Array.isArray(item.controlVersion.childVersions) && item.controlVersion.childVersions.length > 0 &&  item.controlVersion.childVersions.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.childVersions.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.childVersions.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
          },
          create: {
            modelName: item.modelName !== undefined ? item.modelName : undefined,
            version: item.version !== undefined ? item.version : undefined,
            status: item.status !== undefined ? item.status : undefined,
            performanceAccuracy: item.performanceAccuracy !== undefined ? item.performanceAccuracy : undefined,
            performancePrecision: item.performancePrecision !== undefined ? item.performancePrecision : undefined,
            performanceRecall: item.performanceRecall !== undefined ? item.performanceRecall : undefined,
            performanceF1Score: item.performanceF1Score !== undefined ? item.performanceF1Score : undefined,
            performanceAuc: item.performanceAuc !== undefined ? item.performanceAuc : undefined,
            performanceSharpeRatio: item.performanceSharpeRatio !== undefined ? item.performanceSharpeRatio : undefined,
            performanceMaxDrawdown: item.performanceMaxDrawdown !== undefined ? item.performanceMaxDrawdown : undefined,
            performanceWinRate: item.performanceWinRate !== undefined ? item.performanceWinRate : undefined,
            performanceAvgReturn: item.performanceAvgReturn !== undefined ? item.performanceAvgReturn : undefined,
            performanceCalibrationScore: item.performanceCalibrationScore !== undefined ? item.performanceCalibrationScore : undefined,
            performanceStabilityScore: item.performanceStabilityScore !== undefined ? item.performanceStabilityScore : undefined,
            validationCrossValidationScore: item.validationCrossValidationScore !== undefined ? item.validationCrossValidationScore : undefined,
            validationOutOfSamplePerformance: item.validationOutOfSamplePerformance !== undefined ? item.validationOutOfSamplePerformance : undefined,
            validationBacktestResults: item.validationBacktestResults !== undefined ? item.validationBacktestResults : undefined,
            validationStatTestResults: item.validationStatTestResults !== undefined ? item.validationStatTestResults : undefined,
            deploymentEnvironment: item.deploymentEnvironment !== undefined ? item.deploymentEnvironment : undefined,
            deploymentTrafficAllocation: item.deploymentTrafficAllocation !== undefined ? item.deploymentTrafficAllocation : undefined,
            deploymentRolloutStrategy: item.deploymentRolloutStrategy !== undefined ? item.deploymentRolloutStrategy : undefined,
            deploymentHealthCheckConfig: item.deploymentHealthCheckConfig !== undefined ? item.deploymentHealthCheckConfig : undefined,
            trainingStartTime: item.trainingStartTime !== undefined ? item.trainingStartTime : undefined,
            trainingEndTime: item.trainingEndTime !== undefined ? item.trainingEndTime : undefined,
            trainingDuration: item.trainingDuration !== undefined ? item.trainingDuration : undefined,
            trainingDatasetSize: item.trainingDatasetSize !== undefined ? item.trainingDatasetSize : undefined,
            trainingFeaturesUsed: item.trainingFeaturesUsed !== undefined ? item.trainingFeaturesUsed : undefined,
            trainingHyperparameters: item.trainingHyperparameters !== undefined ? item.trainingHyperparameters : undefined,
            trainingResourcePeakMemoryMB: item.trainingResourcePeakMemoryMB !== undefined ? item.trainingResourcePeakMemoryMB : undefined,
            trainingResourceTotalCpuHours: item.trainingResourceTotalCpuHours !== undefined ? item.trainingResourceTotalCpuHours : undefined,
            trainingResourceGpuHours: item.trainingResourceGpuHours !== undefined ? item.trainingResourceGpuHours : undefined,
            deployedAt: item.deployedAt !== undefined ? item.deployedAt : undefined,
            deprecatedAt: item.deprecatedAt !== undefined ? item.deprecatedAt : undefined,
          },
        }))
      } : undefined,
      artifacts: item.controlVersion.artifacts ? 
        Array.isArray(item.controlVersion.artifacts) && item.controlVersion.artifacts.length > 0 &&  item.controlVersion.artifacts.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.artifacts.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.artifacts.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
            modelArtifactId: item.modelArtifactId !== undefined ? {
                equals: item.modelArtifactId 
               } : undefined,
          },
          create: {
          },
        }))
      } : undefined,
      abTestsAsTreatment: item.controlVersion.abTestsAsTreatment ? 
        Array.isArray(item.controlVersion.abTestsAsTreatment) && item.controlVersion.abTestsAsTreatment.length > 0 &&  item.controlVersion.abTestsAsTreatment.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.abTestsAsTreatment.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.abTestsAsTreatment.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            name: item.name !== undefined ? {
                equals: item.name 
               } : undefined,
            modelVersionAId: item.modelVersionAId !== undefined ? {
                equals: item.modelVersionAId 
               } : undefined,
            modelVersionBId: item.modelVersionBId !== undefined ? {
                equals: item.modelVersionBId 
               } : undefined,
          },
          create: {
            name: item.name !== undefined ? item.name : undefined,
            description: item.description !== undefined ? item.description : undefined,
            status: item.status !== undefined ? item.status : undefined,
            trafficSplitControlPercent: item.trafficSplitControlPercent !== undefined ? item.trafficSplitControlPercent : undefined,
            trafficSplitTreatmentPercent: item.trafficSplitTreatmentPercent !== undefined ? item.trafficSplitTreatmentPercent : undefined,
            targetMetrics: item.targetMetrics !== undefined ? item.targetMetrics : undefined,
            successCriteriaPrimaryMetric: item.successCriteriaPrimaryMetric !== undefined ? item.successCriteriaPrimaryMetric : undefined,
            successCriteriaMinimumDetectableEffect: item.successCriteriaMinimumDetectableEffect !== undefined ? item.successCriteriaMinimumDetectableEffect : undefined,
            successCriteriaSignificanceLevel: item.successCriteriaSignificanceLevel !== undefined ? item.successCriteriaSignificanceLevel : undefined,
            successCriteriaPowerLevel: item.successCriteriaPowerLevel !== undefined ? item.successCriteriaPowerLevel : undefined,
            startDate: item.startDate !== undefined ? item.startDate : undefined,
            endDate: item.endDate !== undefined ? item.endDate : undefined,
            resultsControlMetrics: item.resultsControlMetrics !== undefined ? item.resultsControlMetrics : undefined,
            resultsTreatmentMetrics: item.resultsTreatmentMetrics !== undefined ? item.resultsTreatmentMetrics : undefined,
            resultsStatisticalSignificance: item.resultsStatisticalSignificance !== undefined ? item.resultsStatisticalSignificance : undefined,
            resultsPValues: item.resultsPValues !== undefined ? item.resultsPValues : undefined,
            resultsConfidenceIntervals: item.resultsConfidenceIntervals !== undefined ? item.resultsConfidenceIntervals : undefined,
            resultsRecommendation: item.resultsRecommendation !== undefined ? item.resultsRecommendation : undefined,
            metadataEnvironment: item.metadataEnvironment !== undefined ? item.metadataEnvironment : undefined,
            metadataEligibilityCriteria: item.metadataEligibilityCriteria !== undefined ? item.metadataEligibilityCriteria : undefined,
            metadataExclusionCriteria: item.metadataExclusionCriteria !== undefined ? item.metadataExclusionCriteria : undefined,
            metadataSegmentationRules: item.metadataSegmentationRules !== undefined ? item.metadataSegmentationRules : undefined,
            completedAt: item.completedAt !== undefined ? item.completedAt : undefined,
          },
        }))
      } : undefined,
      featureImportanceAnalyses: item.controlVersion.featureImportanceAnalyses ? 
        Array.isArray(item.controlVersion.featureImportanceAnalyses) && item.controlVersion.featureImportanceAnalyses.length > 0 &&  item.controlVersion.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && 'id' in item && Object.keys(item).length === 1) ? {
          connect:        item.controlVersion.featureImportanceAnalyses.map((item: any) => ({
             id: item.id
          }))
 }
 : { connectOrCreate: item.controlVersion.featureImportanceAnalyses.map((item: any) => ({
          where: {
            id: item.id !== undefined ? item.id : undefined,
            modelVersionId: item.modelVersionId !== undefined ? {
                equals: item.modelVersionId 
               } : undefined,
          },
          create: {
            analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
            featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
            globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
            localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
            analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
            analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
            analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
            analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
            analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
            insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
            insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
            insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
            insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
            insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
          },
        }))
      } : undefined,
        },
      }
    } : undefined,
      },
    }))
  } : undefined,
  featureImportanceAnalyses: prop.featureImportanceAnalyses ? 
  Array.isArray(prop.featureImportanceAnalyses) && prop.featureImportanceAnalyses.length > 0 && prop.featureImportanceAnalyses.every((item: any) => typeof item === 'object' && ('id' in item || 'symbol' in item) && Object.keys(item).length === 1) ? {
  connect: prop.featureImportanceAnalyses.map((item: any) => ({
    id: item.id
  }))
} : { upsert: prop.featureImportanceAnalyses.map((item: any) => ({
      where: {
        id: item.id !== undefined ? item.id : undefined,
        modelVersionId: item.modelVersionId !== undefined ? {
            equals: item.modelVersionId
          } : undefined,
      },
      update: {
        id: item.id !== undefined ? {
            set: item.id
          } : undefined,
        analysisType: item.analysisType !== undefined ? {
            set: item.analysisType
          } : undefined,
        featureImportances: item.featureImportances !== undefined ? {
            set: item.featureImportances
          } : undefined,
        globalImportance: item.globalImportance !== undefined ? {
            set: item.globalImportance
          } : undefined,
        localImportance: item.localImportance !== undefined ? {
            set: item.localImportance
          } : undefined,
        analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? {
            set: item.analysisMetadataSampleSize
          } : undefined,
        analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? {
            set: item.analysisMetadataBaselineAccuracy
          } : undefined,
        analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? {
            set: item.analysisMetadataAnalysisDate
          } : undefined,
        analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? {
            set: item.analysisMetadataComputationTime
          } : undefined,
        analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? {
            set: item.analysisMetadataAnalysisParameters
          } : undefined,
        insightsTopFeatures: item.insightsTopFeatures !== undefined ? {
            set: item.insightsTopFeatures
          } : undefined,
        insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? {
            set: item.insightsRedundantFeatures
          } : undefined,
        insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? {
            set: item.insightsUnexpectedImportances
          } : undefined,
        insightsStabilityScore: item.insightsStabilityScore !== undefined ? {
            set: item.insightsStabilityScore
          } : undefined,
        insightsRecommendations: item.insightsRecommendations !== undefined ? {
            set: item.insightsRecommendations
          } : undefined,
      },
      create: {
        analysisType: item.analysisType !== undefined ? item.analysisType : undefined,
        featureImportances: item.featureImportances !== undefined ? item.featureImportances : undefined,
        globalImportance: item.globalImportance !== undefined ? item.globalImportance : undefined,
        localImportance: item.localImportance !== undefined ? item.localImportance : undefined,
        analysisMetadataSampleSize: item.analysisMetadataSampleSize !== undefined ? item.analysisMetadataSampleSize : undefined,
        analysisMetadataBaselineAccuracy: item.analysisMetadataBaselineAccuracy !== undefined ? item.analysisMetadataBaselineAccuracy : undefined,
        analysisMetadataAnalysisDate: item.analysisMetadataAnalysisDate !== undefined ? item.analysisMetadataAnalysisDate : undefined,
        analysisMetadataComputationTime: item.analysisMetadataComputationTime !== undefined ? item.analysisMetadataComputationTime : undefined,
        analysisMetadataAnalysisParameters: item.analysisMetadataAnalysisParameters !== undefined ? item.analysisMetadataAnalysisParameters : undefined,
        insightsTopFeatures: item.insightsTopFeatures !== undefined ? item.insightsTopFeatures : undefined,
        insightsRedundantFeatures: item.insightsRedundantFeatures !== undefined ? item.insightsRedundantFeatures : undefined,
        insightsUnexpectedImportances: item.insightsUnexpectedImportances !== undefined ? item.insightsUnexpectedImportances : undefined,
        insightsStabilityScore: item.insightsStabilityScore !== undefined ? item.insightsStabilityScore : undefined,
        insightsRecommendations: item.insightsRecommendations !== undefined ? item.insightsRecommendations : undefined,
      },
    }))
  } : undefined,

          },
        }));

        const filteredVariables = removeUndefinedProps(variables);

        const response = await client.mutate({
          mutation: UPDATE_MANY_MODELVERSION,
          variables: filteredVariables,
          // Don't cache mutations, but ensure we're using the freshest context
          fetchPolicy: 'no-cache'
        });

        if (response.errors && response.errors.length > 0) throw new Error(response.errors[0].message);
        if (response && response.data && response.data.updateManyModelVersion) {
          return response.data.updateManyModelVersion;
        } else {
          return null as any;
        }
      } catch (error: any) {
        lastError = error;

        // Check if this is a database connection error that we should retry
        const isConnectionError =
          error.message?.includes('Server has closed the connection') ||
          error.message?.includes('Cannot reach database server') ||
          error.message?.includes('Connection timed out') ||
          error.message?.includes('Accelerate') || // Prisma Accelerate proxy errors
          (error.networkError && error.networkError.message?.includes('Failed to fetch'));

        if (isConnectionError && retryCount < MAX_RETRIES - 1) {
          retryCount++;
          const delay = Math.pow(2, retryCount) * 100; // Exponential backoff: 200ms, 400ms, 800ms
          console.warn("Database connection error, retrying...");
          await new Promise(resolve => setTimeout(resolve, delay));
          continue;
        }

        // Log the error and rethrow
        console.error("Database error occurred:", error);
        throw error;
      }
    }

    // If we exhausted retries, throw the last error
    throw lastError;
  },

  /**
   * Delete a single ModelVersion record.
   * Enhanced with connection resilience against Prisma connection errors.
   * @param props - Properties to identify the record to delete.
   * @param globalClient - Apollo Client instance.
   * @returns The deleted ModelVersion or null.
   */
  async delete(props: ModelVersionType, globalClient?: ApolloClientType<NormalizedCacheObject>): Promise<ModelVersionType> {
    // Maximum number of retries for database connection issues
    const MAX_RETRIES = 3;
    let retryCount = 0;
    let lastError: any = null;

    // Retry loop to handle potential database connection issues
    while (retryCount < MAX_RETRIES) {
      try {
        const [modules, client] = await Promise.all([
          getApolloModules(),
          globalClient
            ? Promise.resolve(globalClient)
            : importedClient
        ]);

        const { gql, ApolloError } = modules;

        const DELETE_ONE_MODELVERSION = gql`
          mutation deleteOneModelVersion($where: ModelVersionWhereUniqueInput!) {
            deleteOneModelVersion(where: $where) {
              id
            }
          }`;

        const variables = {
          where: {
            id: props.id ? props.id : undefined,
          }
        };

        const filteredVariables = removeUndefinedProps(variables);

        const response = await client.mutate({
          mutation: DELETE_ONE_MODELVERSION,
          variables: filteredVariables,
          // Don't cache mutations, but ensure we're using the freshest context
          fetchPolicy: 'no-cache'
        });

        if (response.errors && response.errors.length > 0) throw new Error(response.errors[0].message);
        if (response && response.data && response.data.deleteOneModelVersion) {
          return response.data.deleteOneModelVersion;
        } else {
          return null as any;
        }
      } catch (error: any) {
        lastError = error;

        // Check if this is a database connection error that we should retry
        const isConnectionError =
          error.message?.includes('Server has closed the connection') ||
          error.message?.includes('Cannot reach database server') ||
          error.message?.includes('Connection timed out') ||
          error.message?.includes('Accelerate') || // Prisma Accelerate proxy errors
          (error.networkError && error.networkError.message?.includes('Failed to fetch'));

        if (isConnectionError && retryCount < MAX_RETRIES - 1) {
          retryCount++;
          const delay = Math.pow(2, retryCount) * 100; // Exponential backoff: 200ms, 400ms, 800ms
          console.warn("Database connection error, retrying...");
          await new Promise(resolve => setTimeout(resolve, delay));
          continue;
        }

        // Log the error and rethrow
        console.error("Database error occurred:", error);
        throw error;
      }
    }

    // If we exhausted retries, throw the last error
    throw lastError;
  },

  /**
   * Retrieve a single ModelVersion record by ID.
   * Enhanced with connection resilience against Prisma connection errors.
   * @param props - Properties to identify the record.
   * @param globalClient - Apollo Client instance.
   * @param whereInput - Optional custom where input.
   * @returns The retrieved ModelVersion or null.
   */
  async get(props: ModelVersionType, globalClient?: ApolloClientType<NormalizedCacheObject>, whereInput?: any): Promise<ModelVersionType | null> {
    // Maximum number of retries for database connection issues
    const MAX_RETRIES = 3;
    let retryCount = 0;
    let lastError: any = null;

    // Retry loop to handle potential database connection issues
    while (retryCount < MAX_RETRIES) {
      try {
        const [modules, client] = await Promise.all([
          getApolloModules(),
          globalClient
            ? Promise.resolve(globalClient)
            : importedClient
        ]);

        const { gql, ApolloError } = modules;

        const GET_MODELVERSION = gql`
          query getModelVersion($where: ModelVersionWhereUniqueInput!) {
            getModelVersion(where: $where) {
              ${selectionSet}
            }
          }`;

        const variables = {
          where: whereInput ? whereInput : {
            id: props.id !== undefined ? props.id : undefined,
},
        };
        const filteredVariables = removeUndefinedProps(variables);

        const response = await client.query({
          query: GET_MODELVERSION,
          variables: filteredVariables,
          fetchPolicy: 'network-only', // Force network request to avoid stale cache
        });

        if (response.errors && response.errors.length > 0) throw new Error(response.errors[0].message);
        return response.data?.getModelVersion ?? null;
      } catch (error: any) {
        lastError = error;

        // Check if this is a "No record found" error - this is an expected condition, not a failure
        if (error.message === 'No ModelVersion found') {
          return null;
        }

        // Check if this is a database connection error that we should retry
        const isConnectionError =
          error.message?.includes('Server has closed the connection') ||
          error.message?.includes('Cannot reach database server') ||
          error.message?.includes('Connection timed out') ||
          error.message?.includes('Accelerate') || // Prisma Accelerate proxy errors
          (error.networkError && error.networkError.message?.includes('Failed to fetch'));

        if (isConnectionError && retryCount < MAX_RETRIES - 1) {
          retryCount++;
          const delay = Math.pow(2, retryCount) * 100; // Exponential backoff: 200ms, 400ms, 800ms
          console.warn("Database connection error, retrying...");
          await new Promise(resolve => setTimeout(resolve, delay));
          continue;
        }

        // Log the error and rethrow
        console.error("Database error occurred:", error);
        throw error;
      }
    }

    // If we exhausted retries, throw the last error
    throw lastError;
  },

  /**
   * Retrieve all ModelVersions records.
   * Enhanced with connection resilience against Prisma connection errors.
   * @param globalClient - Apollo Client instance.
   * @returns An array of ModelVersion records or null.
   */
  async getAll(globalClient?: ApolloClientType<NormalizedCacheObject>): Promise<ModelVersionType[] | null> {
    // Maximum number of retries for database connection issues
    const MAX_RETRIES = 3;
    let retryCount = 0;
    let lastError: any = null;

    // Retry loop to handle potential database connection issues
    while (retryCount < MAX_RETRIES) {
      try {
        const [modules, client] = await Promise.all([
          getApolloModules(),
          globalClient
            ? Promise.resolve(globalClient)
            : importedClient
        ]);

        const { gql, ApolloError } = modules;

        const GET_ALL_MODELVERSION = gql`
          query getAllModelVersion {
            modelVersions {
              ${selectionSet}
            }
          }`;

        const response = await client.query({
          query: GET_ALL_MODELVERSION,
          fetchPolicy: 'network-only', // Force network request to avoid stale cache
        });

        if (response.errors && response.errors.length > 0) throw new Error(response.errors[0].message);
        return response.data?.modelVersions ?? null;
      } catch (error: any) {
        lastError = error;

        // Check if this is a "No record found" error - this is an expected condition, not a failure
        if (error.message === 'No ModelVersion found') {
          return null;
        }

        // Check if this is a database connection error that we should retry
        const isConnectionError =
          error.message?.includes('Server has closed the connection') ||
          error.message?.includes('Cannot reach database server') ||
          error.message?.includes('Connection timed out') ||
          error.message?.includes('Accelerate') || // Prisma Accelerate proxy errors
          (error.networkError && error.networkError.message?.includes('Failed to fetch'));

        if (isConnectionError && retryCount < MAX_RETRIES - 1) {
          retryCount++;
          const delay = Math.pow(2, retryCount) * 100; // Exponential backoff: 200ms, 400ms, 800ms
          console.warn("Database connection error, retrying...");
          await new Promise(resolve => setTimeout(resolve, delay));
          continue;
        }

        // Log the error and rethrow
        console.error("Database error occurred:", error);
        throw error;
      }
    }

    // If we exhausted retries, throw the last error
    throw lastError;
  },

  /**
   * Find multiple ModelVersion records based on conditions.
   * Enhanced with connection resilience against Prisma connection errors.
   * @param props - Conditions to find records.
   * @param globalClient - Apollo Client instance.
   * @param whereInput - Optional custom where input.
   * @returns An array of found ModelVersion records or null.
   */
  async findMany(props: ModelVersionType, globalClient?: ApolloClientType<NormalizedCacheObject>, whereInput?: any): Promise<ModelVersionType[] | null> {
    // Maximum number of retries for database connection issues
    const MAX_RETRIES = 3;
    let retryCount = 0;
    let lastError: any = null;

    // Retry loop to handle potential database connection issues
    while (retryCount < MAX_RETRIES) {
      try {
        const [modules, client] = await Promise.all([
          getApolloModules(),
          globalClient
            ? Promise.resolve(globalClient)
            : importedClient
        ]);

        const { gql, ApolloError } = modules;

        const FIND_MANY_MODELVERSION = gql`
          query findManyModelVersion($where: ModelVersionWhereInput!) {
            modelVersions(where: $where) {
              ${selectionSet}
            }
          }`;

        const variables = {
          where: whereInput ? whereInput : {
      id: props.id !== undefined ? {
    equals: props.id 
  } : undefined,
      },
        };

        const filteredVariables = removeUndefinedProps(variables);

        const response = await client.query({
          query: FIND_MANY_MODELVERSION,
          variables: filteredVariables,
          fetchPolicy: 'network-only', // Force network request to avoid stale cache
        });

        if (response.errors && response.errors.length > 0) throw new Error(response.errors[0].message);
        if (response && response.data && response.data.modelversions) {
          return response.data.modelVersions;
        } else {
          return [] as ModelVersionType[];
        }
      } catch (error: any) {
        lastError = error;

        // Check if this is a "No record found" error - this is an expected condition, not a failure
        if (error.message === 'No ModelVersion found') {
          return null;
        }

        // Check if this is a database connection error that we should retry
        const isConnectionError =
          error.message?.includes('Server has closed the connection') ||
          error.message?.includes('Cannot reach database server') ||
          error.message?.includes('Connection timed out') ||
          error.message?.includes('Accelerate') || // Prisma Accelerate proxy errors
          (error.networkError && error.networkError.message?.includes('Failed to fetch'));

        if (isConnectionError && retryCount < MAX_RETRIES - 1) {
          retryCount++;
          const delay = Math.pow(2, retryCount) * 100; // Exponential backoff: 200ms, 400ms, 800ms
          console.warn("Database connection error, retrying...");
          await new Promise(resolve => setTimeout(resolve, delay));
          continue;
        }

        // Log the error and rethrow
        console.error("Database error occurred:", error);
        throw error;
      }
    }

    // If we exhausted retries, throw the last error
    throw lastError;
  }
};
